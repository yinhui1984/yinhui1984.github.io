[{"categories":["Blockchain"],"content":"å…³äºé›¶çŸ¥è¯†è¯æ˜çš„è‹¥å¹²çŸ¥è¯† ","date":"2022-08-22","objectID":"/%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/:0:0","tags":["ZKPs","L0","Web3.0"],"title":"é›¶çŸ¥è¯†è¯æ˜","uri":"/%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/"},{"categories":["Blockchain"],"content":"è¿™æ˜¯å•¥ æˆ‘çŸ¥é“ä¸€ä¸ªç§˜å¯†, ä¸èƒ½å‘Šè¯‰ä½ , ä½†æˆ‘åˆå¾—å‘ä½ è¯æ˜æˆ‘çš„ç¡®çŸ¥é“è¿™ä¸ªç§˜å¯† ","date":"2022-08-22","objectID":"/%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/:1:0","tags":["ZKPs","L0","Web3.0"],"title":"é›¶çŸ¥è¯†è¯æ˜","uri":"/%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/"},{"categories":["Blockchain"],"content":"ä¸ºä»€ä¹ˆéœ€è¦é›¶çŸ¥è¯†è¯æ˜ åŒºå—é“¾å¤ªé€æ˜ åŒºå—é“¾ä»¥é€æ˜è‘—ç§°, ä½†è¿™ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜, æ¯”å¦‚ä¸€äº›ä¼ä¸šçº§åº”ç”¨ä¸­çš„æ•°æ®å¹¶ä¸é€‚åˆè¿™ç§é€æ˜æ€§ Web2.0å‘Web3.0çš„è¿‡åº¦ åœ¨Web3.0æ¦‚å¿µå¾ˆç«çˆ†çš„ä»Šå¤©, ä¸å¾—ä¸æ‰¿è®¤ä¸€ä¸ªè§‚ç‚¹: åœ¨å‘Web3.0è¿›å‘çš„è¿‡ç¨‹ä¸­, Web2.0çš„å·²æœ‰æ•°æ®å’Œç”Ÿæ€å°†é•¿æœŸè¿‡ç¨‹,ç„¶åèåˆ. ä¸€ä¸ªç®€å•çš„é—®é¢˜æ˜¯: Web2.0æ•°æ®å¦‚ä½•ä¼ é€’åˆ°Web3.0ä¸­, å¹¶åœ¨Web3.0çš„åŒºå—é“¾ä¸Šå½¢æˆå…±è¯†. é›¶çŸ¥è¯†è¯æ˜æä¾›äº†è§£å†³æ–¹æ¡ˆ, è®©Web2.0(ä»¥åŠä¸€åˆ‡é“¾å¤–æ•°æ®)å’ŒWeb3.0ç›¸äº’ä¿¡ä»» æ‰€ä»¥é›¶çŸ¥è¯†è¯æ˜æ˜¯Web3.0çš„åŸºçŸ³. å…¶å¤„äºL0å±‚. ","date":"2022-08-22","objectID":"/%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/:2:0","tags":["ZKPs","L0","Web3.0"],"title":"é›¶çŸ¥è¯†è¯æ˜","uri":"/%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/"},{"categories":["Blockchain"],"content":"é˜¿é‡Œå·´å·´æ´ç©´ å¦‚ä½•å‘ä½ çš„å­©å­è§£é‡Šé›¶çŸ¥è¯†è¯æ˜åè®® https://link.springer.com/content/pdf/10.1007/0-387-34805-0_60.pdf ç®€å•ç¿»è¯‘ä¸€ä¸‹: å“¦ï¼Œæˆ‘çš„å­©å­ä»¬ï¼Œä½ ä»¬è¦çŸ¥é“ï¼Œå¾ˆä¹…ä»¥å‰ï¼Œåœ¨ä¸œéƒ¨åŸå¸‚å·´æ ¼è¾¾ï¼Œä½ç€ä¸€ä¸ªå«é˜¿é‡Œå·´å·´çš„è€äººã€‚æ¯å¤©é˜¿é‡Œå·´å·´éƒ½ä¼šå»é›†å¸‚ä¸Šä¹°ä¸œè¥¿æˆ–å–ä¸œè¥¿ã€‚è¿™ä¸ªæ•…äº‹éƒ¨åˆ†æ˜¯å…³äºé˜¿é‡Œå·´å·´çš„ï¼Œéƒ¨åˆ†ä¹Ÿæ˜¯å…³äºä¸€ä¸ªå±±æ´çš„ï¼Œä¸€ä¸ªå¥‡æ€ªçš„å±±æ´ï¼Œå…¶ç§˜å¯†å’Œå¥‡è¿¹è‡³ä»Šå­˜åœ¨ã€‚ä½†æˆ‘æƒ³å¾—å¤ªè¿œäº†â€¦ æœ‰ä¸€å¤©ï¼Œåœ¨å·´æ ¼è¾¾é›†å¸‚ä¸Šï¼Œä¸€ä¸ªå°å·ä»é˜¿é‡Œå·´å·´æ‰‹ä¸­æŠ¢èµ°äº†ä¸€ä¸ªé’±åŒ…ï¼Œé˜¿é‡Œå·´å·´é©¬ä¸Šå¼€å§‹è¿½èµ¶ä»–ã€‚å°å·é€ƒè¿›äº†ä¸€ä¸ªå±±æ´ï¼Œå±±æ´çš„å…¥å£åˆ†å‰æˆä¸¤æ¡é»‘æš—çš„èœ¿èœ’é€šé“ï¼šä¸€æ¡å‘å·¦ï¼Œå¦ä¸€æ¡å‘å³ã€‚ å±±æ´å¤§æ¦‚é•¿è¿™ä¸ªæ ·å­ğŸ˜‚ xxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxx xxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxx xxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxx xxxxxxx xxxxxxxxxxxxxxxxxxxx xxxxxxxxxxx xxxxxxx xxxxxxxxxxxxxxxxxxxx xxxxxxxxxxx xxxxxxx xxxxxxxxxxxxxxxxxxxx xxxxxxxxxxx xxxxxxx left xxxxxxxxxxx xxxxxxx xxxxxxxxxxx xxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxx xxxxxxxxxxxxxxxxxxxxxxx xxxxxxx xxxxxxxxxxxxxxxxxxxxxxx xxxxxxx right xxxxxxx xxxxxxx xxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx é˜¿é‡Œå·´å·´æ²¡æœ‰çœ‹åˆ°å°å·è¿›å…¥å“ªæ¡é€šé“ã€‚é˜¿é‡Œå·´å·´ä¸å¾—ä¸é€‰æ‹©èµ°å“ªæ¡è·¯ï¼Œä»–å†³å®šå‘å·¦èµ°ã€‚å·¦è¾¹çš„é€šé“å°½å¤´æ˜¯ä¸€ä¸ªæ­»èƒ¡åŒã€‚é˜¿é‡Œå·´å·´ä»å²”è·¯å£ä¸€ç›´æ‰¾åˆ°æ­»èƒ¡åŒï¼Œä½†ä»–æ²¡æœ‰æ‰¾åˆ°å°å·ã€‚é˜¿é‡Œå·´å·´å¯¹è‡ªå·±è¯´ï¼Œå°å·ä¹Ÿè®¸åœ¨å¦ä¸€æ¡é€šé“ä¸Šã€‚äºæ˜¯ä»–æ‰¾äº†å³è¾¹çš„é€šé“ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ­»èƒ¡åŒã€‚ä½†ä»–å†æ¬¡æ²¡æœ‰æ‰¾åˆ°å°å·ã€‚â€œè¿™ä¸ªæ´å¾ˆå¥‡æ€ªï¼Œâ€œé˜¿é‡Œå·´å·´å¯¹è‡ªå·±è¯´ï¼Œâ€œæˆ‘çš„å°å·å»å“ªå„¿äº†ï¼Ÿâ€ ç¬¬äºŒå¤©ï¼Œå¦ä¸€ä¸ªå°å·æŠ“èµ·é˜¿é‡Œå·´å·´çš„ç¯®å­ï¼Œåƒç¬¬ä¸€ä¸ªå°å·ä¸€æ ·ï¼Œé€ƒè¿›äº†é‚£ä¸ªå¥‡æ€ªçš„å±±æ´ã€‚é˜¿é‡Œå·´å·´è¿½èµ¶ä»–ï¼Œåˆä¸€æ¬¡æ²¡æœ‰çœ‹åˆ°å°å·å¾€å“ªè¾¹èµ°ã€‚è¿™ä¸€æ¬¡ï¼Œé˜¿é‡Œå·´å·´å†³å®šå‘å³æœç´¢ã€‚ä»–ä¸€ç›´èµ°åˆ°å³ä¾§é€šé“çš„å°½å¤´ï¼Œä½†æ²¡æœ‰æ‰¾åˆ°é‚£ä¸ªå°å·ã€‚ä»–å¯¹è‡ªå·±è¯´ï¼Œå’Œç¬¬ä¸€ä¸ªå°å·ä¸€æ ·ï¼Œç¬¬äºŒä¸ªå°å·ä¹Ÿå¾ˆå¹¸è¿ï¼Œèµ°äº†é˜¿é‡Œå·´å·´æ²¡æœ‰é€‰æ‹©çš„é€šé“ã€‚è¿™æ— ç–‘è®©å°å·å†æ¬¡ç¦»å¼€ï¼Œæ‚„æ‚„åœ°æ··å…¥æ‹¥æŒ¤çš„é›†å¸‚ã€‚ æ—¥å­ä¸€å¤©å¤©è¿‡å»ï¼Œæ¯å¤©éƒ½æœ‰å°å·ã€‚é˜¿é‡Œå·´å·´æ€»æ˜¯è¿½ç€å°å·è·‘ï¼Œä½†ä»–ä»æœªæŠ“ä½è¿‡ä»»ä½•ä¸€ä¸ªã€‚ç¬¬å››åå¤©ï¼Œç¬¬å››åä¸ªå°å·æŠ“èµ·é˜¿é‡Œå·´å·´çš„å¤´å·¾ï¼Œåƒä¹‹å‰çš„ä¸‰åä¹ä¸ªå°å·ä¸€æ ·ï¼Œé€ƒè¿›äº†é‚£ä¸ªå¥‡æ€ªçš„å±±æ´ã€‚é˜¿é‡Œå·´å·´åˆä¸€æ¬¡æ²¡æœ‰çœ‹åˆ°å°å·èµ°äº†å“ªæ¡è·¯ã€‚è¿™ä¸€æ¬¡ï¼Œé˜¿é‡Œå·´å·´å†³å®šæœç´¢å·¦è¾¹çš„é€šé“ï¼Œä½†ä»–åˆä¸€æ¬¡æ²¡æœ‰åœ¨é€šé“å°½å¤´æ‰¾åˆ°å°å·ã€‚é˜¿é‡Œå·´å·´éå¸¸ç–‘æƒ‘ã€‚ ä»–æœ¬å¯ä»¥åƒä»¥å‰é‚£æ ·å¯¹è‡ªå·±è¯´ï¼Œç¬¬å››ååå°å·å’Œå…¶ä»–ä¸‰åä¹åå°å·ä¸€æ ·å¹¸è¿ã€‚ä½†è¿™ç§è§£é‡Šéå¸¸ç‰µå¼ºï¼Œç”šè‡³é˜¿é‡Œ-å·´å·´ä¹Ÿä¸ç›¸ä¿¡ã€‚å››ååå°å·çš„è¿æ°”å®åœ¨å¤ªå¥½äº†ï¼Œä¸å¯èƒ½æ˜¯å¶ç„¶çš„äº‹æƒ…ã€‚ä¸€ç™¾ä¸‡åˆ†ä¹‹ä¸€çš„æœºä¼šï¼Œè¿™å››åä¸ªäººéƒ½èƒ½é€ƒè„±ï¼æ‰€ä»¥é˜¿é‡Œå·´å·´è¯´ï¼Œè¿™å››åä¸ªäººçš„è¿æ°”å¤ªå¥½äº†ï¼Œä¸å¯èƒ½æ˜¯å¶ç„¶çš„ã€‚æ‰€ä»¥é˜¿é‡Œå·´å·´å¯¹è‡ªå·±è¯´ï¼Œä¸€å®šæœ‰å¦ä¸€ç§æ›´å¯èƒ½çš„è§£é‡Šã€‚ä»–å¼€å§‹æ€€ç–‘ï¼Œè¿™ä¸ªå¥‡æ€ªçš„å±±æ´å®ˆæŠ¤ç€ä¸€ä¸ªç§˜å¯†! é˜¿é‡Œå·´å·´å¼€å§‹æ¢ç´¢è¿™ä¸ªå¥‡æ€ªå±±æ´çš„ç§˜å¯†ã€‚ä»–å†³å®šèº²åœ¨å³ä¾§é€šé“å°½å¤´çš„ä¸€äº›éº»è¢‹ä¸‹é¢ã€‚ç»è¿‡ä¸€æ®µéå¸¸ä¸èˆ’æœçš„ç­‰å¾…ï¼Œä»–çœ‹åˆ°ä¸€ä¸ªå°å·æ¥äº†ï¼Œä»–æ„Ÿè§‰åˆ°è‡ªå·±è¢«å—å®³è€…è¿½èµ¶ï¼Œå°±ä½å£°è¯´äº†ä¸€å¥ç¥å¥‡çš„è¯ï¼Œâ€œèŠéº»å¼€é—¨â€ã€‚é˜¿é‡Œå·´å·´æƒŠå¥‡åœ°çœ‹åˆ°æ´å£æ»‘å¼€ã€‚å°å·ä»æ´å£è·‘äº†å‡ºæ¥ã€‚ç„¶åï¼Œå¢™åˆæ»‘å¼€äº†ã€‚è¿½æ•è€…èµ¶åˆ°ï¼Œå‘ç°é€šé“çš„æ­»èƒ¡åŒé‡Œåªæœ‰é˜¿é‡Œå·´å·´åœ¨éº»è¢‹ä¸‹é¢ï¼Œä¸ç”±å¾—å¤§å¤±æ‰€æœ›ã€‚å°å·å·²ç»é€ƒèµ°äº†ã€‚ä½†é˜¿é‡Œå·´å·´å¾ˆé«˜å…´ï¼Œå› ä¸ºä»–å‘ç°äº†å¥‡å¼‚æ´ç©´çš„ç§˜å¯†ã€‚ é˜¿é‡Œå·´å·´ç”¨è¿™äº›ç¥å¥‡çš„è¯è¯­è¿›è¡Œäº†å®éªŒã€‚ä»–æƒŠå¥‡åœ°å‘ç°ï¼Œå½“å¢™å£æ»‘å¼€æ—¶ï¼Œå³è¾¹çš„é€šé“ä¸å·¦è¾¹çš„é€šé“æ˜¯ç›¸è¿çš„ã€‚ç°åœ¨ï¼Œé˜¿é‡Œå·´å·´çŸ¥é“äº†å››åä¸ªå°å·æ˜¯å¦‚ä½•ä»ä»–æ‰‹ä¸­é€ƒè„±çš„äº†ã€‚é˜¿é‡Œå·´å·´ç”¨è¿™äº›é­”æ³•è¯ä¸æ–­å·¥ä½œï¼Œæœ€åä»–è®¾æ³•ç”¨æ–°çš„é­”æ³•è¯å–ä»£å®ƒä»¬ï¼Œæœ‰ç‚¹åƒä½ æ”¹å˜ä¸€äº›æŒ‚é”çš„å¯†ç ã€‚é˜¿é‡Œå·´å·´æŠŠè¿™ä¸ªæ•…äº‹å’Œä»–çš„å‘ç°è®°å½•åœ¨ä¸€æœ¬å¯çˆ±çš„æ’å›¾æ‰‹ç¨¿ä¸­ã€‚ä»–æ²¡æœ‰å†™ä¸‹æ–°çš„é­”æ³•è¯ï¼Œä½†ä»–åŒ…æ‹¬äº†ä¸€äº›å…³äºå®ƒä»¬çš„å¾®å¦™çº¿ç´¢ã€‚ é˜¿é‡Œå·´å·´çš„æ‰‹ç¨¿åœ¨ä¸­ä¸–çºªæ—¶æŠµè¾¾æ„å¤§åˆ©ã€‚ä»Šå¤©å®ƒåœ¨ç¾å›½ï¼Œé è¿‘æ³¢å£«é¡¿ã€‚åœ¨é‚£é‡Œï¼Œå®ƒæœ€è¿‘å¼•èµ·äº†ä¸€äº›å¥½å¥‡çš„ç ”ç©¶äººå‘˜çš„å……åˆ†æ³¨æ„ã€‚é€šè¿‡å¯¹å¾®å¦™çº¿ç´¢çš„è§£å¯†ï¼Œè¿™äº›ç ”ç©¶äººå‘˜ç”šè‡³æ‰¾å›äº†æ–°çš„é­”åŠ›ä¹‹è¯ã€‚ ç”µè§†ç½‘ç»œå¾ˆå¿«å°±çŸ¥é“äº†åœ¨å·´æ ¼è¾¾å‘ç”Ÿçš„å¼‚å¸¸äº‹ä»¶ã€‚ä¸€å®¶å¤§å‹ç¾å›½ç”µè§†ç½‘ç”šè‡³è·å¾—äº†è¿™ä¸ªæ•…äº‹çš„ç‹¬å®¶æŠ¥é“ã€‚å…¶ä¸­ä¸€ä½ç ”ç©¶äººå‘˜ï¼ŒæŸä¸ªå«ç±³å…‹-é˜¿é‡Œçš„äººï¼Œä¹Ÿè®¸æ˜¯é˜¿é‡Œå·´å·´çš„åè£”ï¼Œæƒ³è¯æ˜ä»–çŸ¥é“è¿™ä¸ªç§˜å¯†ã€‚ä½†ä»–å¹¶ä¸æƒ³é€éœ²è¿™ä¸ªç§˜å¯†ã€‚ä»–çš„åšæ³•æ˜¯è¿™æ ·çš„ã€‚ é¦–å…ˆï¼Œä¸€ä¸ªç”µè§†æ‘„åˆ¶ç»„æ‹æ‘„äº†æ´å†…ä¸¤ä¸ªæ­»èƒ¡åŒçš„è¯¦ç»†å‚è§‚ã€‚ç„¶åæ‰€æœ‰äººéƒ½èµ°å‡ºäº†å±±æ´ã€‚ç±³å…‹-é˜¿é‡Œåˆç‹¬è‡ªè¿›å»ï¼Œèµ°äº†å…¶ä¸­ä¸€æ¡é€šé“ã€‚ç„¶åï¼Œè®°è€…åœ¨æ‘„åƒæœºçš„é™ªåŒä¸‹ï¼Œåªèµ°åˆ°äº†å²”è·¯å£ã€‚åœ¨é‚£é‡Œï¼Œä»–æŠ›å‡ºä¸€æšç¡¬å¸ï¼Œåœ¨å·¦å³ä¸¤è¾¹åšå‡ºé€‰æ‹©ã€‚å¦‚æœç¡¬å¸æ˜¯æ­£é¢ï¼Œä»–å°±å‘Šè¯‰ç±³å…‹ä»å³è¾¹å‡ºæ¥ã€‚å¦‚æœç¡¬å¸æ˜¯åé¢ï¼Œä»–å°±ä¼šå‘Šè¯‰ç±³å…‹ä»å·¦è¾¹å‡ºæ¥ã€‚ç»“æœæ˜¯æ­£é¢ï¼Œæ‰€ä»¥è®°è€…å¤§å£°å«é“ï¼šâ€œç±³å…‹ï¼Œä»å³è¾¹å‡ºæ¥ã€‚â€ ç±³å…‹å°±è¿™æ ·åšäº†ã€‚ ä¸ºäº†çºªå¿µé‚£å››åä¸ªå°å·ï¼Œè¿™ä¸ªæ¼”ç¤ºåœºæ™¯è¢«æ’­æ”¾äº†å››åæ¬¡ã€‚æ¯ä¸€æ¬¡å¤§å®¶éƒ½å›åˆ°æ´å¤–ï¼Œç±³å…‹ç‹¬è‡ªè¿›å…¥å…¶ä¸­ä¸€ä¸ªé€šé“ï¼Œä¸€è·¯èµ°æ¥ã€‚ç„¶åè®°è€…å’Œæ‘„åƒæœºä¸€ç›´èµ°åˆ°å²”è·¯å£ï¼Œåœ¨é‚£é‡Œä»–é€šè¿‡æŠ›ç¡¬å¸é€‰æ‹©ç»™ç±³å…‹çš„å‘½ä»¤ã€‚ç±³å…‹åœ¨æ‰€æœ‰40ä¸ªåœºæ™¯ä¸­éƒ½æˆåŠŸäº†ã€‚ ä»»ä½•ä¸çŸ¥é“å±±æ´ç§˜å¯†çš„äººéƒ½ä¼šåœ¨ç¬¬ä¸€æ¬¡å¤±è´¥æ—¶è¢«æš´éœ²ã€‚æ¯ä¸€æ¬¡æ–°çš„æµ‹è¯•éƒ½ä¼šä½¿ä¸çŸ¥é“ç§˜å¯†çš„äººçš„æˆåŠŸæœºä¼šå‡å°‘ä¸¤å€ã€‚å¦ä¸€æ–¹é¢ï¼Œè¿™ä¸ªç§˜å¯†è®©ç±³å…‹æ¯æ¬¡éƒ½èƒ½ä»è§„å®šçš„å‡ºå£å‡ºæ¥ã€‚ â€¦â€¦. ","date":"2022-08-22","objectID":"/%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/:3:0","tags":["ZKPs","L0","Web3.0"],"title":"é›¶çŸ¥è¯†è¯æ˜","uri":"/%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/"},{"categories":["Blockchain"],"content":"é›¶çŸ¥è¯†è¯æ˜ä»‹ç» ä»ä¸Šé¢çš„æ•…äº‹ä¸­, å¯ä»¥çœ‹å‡º é›¶çŸ¥è¯†è¯æ˜ (Zero Knowledge Proofs, ZKPs) æ˜¯åŸºäºæ¦‚ç‡æ€§çš„, è€Œä¸æ˜¯ç¡®å®šæ€§çš„, éšç€æµ‹è¯•çš„ä¸æ–­è¿›è¡Œ, é è¿æ°”çŒœä¸­çš„å‡ ç‡è¶Šæ¥è¶Šä½: 0.5 ^ n é›¶çŸ¥è¯†è¯æ˜ä¸€èˆ¬åŒ…æ‹¬3ä¸ªé˜¶æ®µ: è¯æ˜è€…å‘é€å£°æ˜, å¹¶å°†å…¶å‘é€ç»™éªŒè¯è€… éªŒè¯è€…é€‰æ‹©ä¸€ä¸ªé—®é¢˜, å‘é€ç»™è¯æ˜è€… è¯æ˜è€…ç”Ÿæˆç­”æ¡ˆ, å‘é€ç»™éªŒè¯è€…, éªŒè¯è€…éªŒè¯ç­”æ¡ˆæ˜¯å¦æ­£ç¡® ä½†è¿™é‡Œ, æ˜æ˜¾å¼Šç«¯å°±å‡ºæ¥äº†: å®ƒéœ€è¦éªŒè¯è€…å’Œè¯æ˜è€…ä¸åœçš„è¿›è¡Œå¤šæ¬¡äº¤äº’, ä»¥é™ä½è¿æ°”æ¦‚ç‡, æé«˜å¯ä¿¡åº¦. è¿™æ ·çš„è¯æ˜æ–¹å¼ä¹Ÿç§°ä¸º äº¤äº’å¼é›¶çŸ¥è¯†è¯æ˜ æ¢ä¸€ä¸ªéªŒè¯è€…, è¯æ˜è€…åˆå¾—éœ€è¦é‡å¤ä¸Šè¿°è¿‡ç¨‹ æ‰€ä»¥è¿™åˆå¼•å…¥äº†å¦å¤–ä¸€ä¸ªæ¦‚å¿µç®€æ´çš„éäº¤äº’å¼é›¶çŸ¥è¯†è¯æ˜: â€œZero-Knowledge Succinct Non-Interactive Argument of Knowledgeâ€ï¼Œæˆ– â€œzk-SNARKâ€ï¼Œ ","date":"2022-08-22","objectID":"/%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/:4:0","tags":["ZKPs","L0","Web3.0"],"title":"é›¶çŸ¥è¯†è¯æ˜","uri":"/%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/"},{"categories":["Blockchain"],"content":"zk-SNARK ç®€æ´çš„éäº¤äº’å¼é›¶çŸ¥è¯†è¯æ˜: â€œZero-Knowledge Succinct Non-Interactive Argument of Knowledgeâ€: Succinct: ç®€æ´, æ„å‘³ç€è¯æ˜å¾ˆçŸ­ï¼ˆä¾‹å¦‚ï¼Œå¯¹äºåŠ å¯†è´§å¸çš„äººæ¥è¯´ï¼Œè®©æˆ‘ä»¬è¯´ï¼Œå®ƒå¯ä»¥å¾ˆå®¹æ˜“åœ°å­˜å‚¨åœ¨ç°æœ‰åŒºå—é“¾çš„äº¤æ˜“ä¸­ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥å¾ˆå®¹æ˜“åœ°è¢«éªŒè¯ï¼ˆä¾‹å¦‚ï¼Œå®ƒå¯ä»¥ç”±åŒºå—é“¾èŠ‚ç‚¹åœ¨éªŒè¯åŒºå—æ—¶å»‰ä»·åœ°æ£€æŸ¥ï¼‰ã€‚ Non-Interactive: éäº¤äº’å¼æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ç¼–å†™å’Œå­˜å‚¨ä¸€ä¸ªè¯æ˜ï¼Œè€Œä¸éœ€è¦åƒä¸»é¡µä¸­çš„ä»‹ç»æ€§ â€œæ–¯è¯ºå…‹çƒ â€œä¾‹å­é‚£æ ·æœ‰é—®é¢˜/ç­”æ¡ˆå¾ªç¯ã€‚å› æ­¤ï¼Œä¸€ä¸ªè¯æ˜å¯ä»¥è¢«è®¡ç®—å‡ºæ¥å¹¶å‘å¸ƒåœ¨åŒºå—é“¾ä¸Šï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥éªŒè¯å®ƒã€‚ zk-Snarké€šå¸¸ä»¥5ä¸ªä¸»è¦æ­¥éª¤çš„åºåˆ—æ¥å®ç°: è¦è¯æ˜çš„è®¡ç®—çš„è¡¨ç¤ºï¼Œä½œä¸ºä¸€ç»„å˜é‡ä¹‹é—´çš„çº¦æŸæ¡ä»¶ å°†ä¸Šè¿°çº¦æŸé›†è¿˜åŸä¸ºå¤šé¡¹å¼æ–¹ç¨‹ é€‰æ‹©ä¸€ä¸ªéšæœºå€¼ï¼Œå¹¶å°†å…¶å’Œæ‰€æœ‰æ–¹ç¨‹å•å‘æ˜ å°„åˆ°ä¸€ä¸ª â€œåŒæ€ â€œç©ºé—´ï¼Œå³ä¸€ä¸ªçº¿æ€§ç»„åˆï¼ˆå¯¹ç³»æ•°çš„æ±‚å’Œå’Œä¹˜æ³•ï¼‰ä»ç„¶æˆç«‹çš„ç©ºé—´ï¼Œå› æ­¤ç¬¬2ç‚¹ä¸­å®šä¹‰çš„æ–¹ç¨‹åœ¨è¿™ä¸ªæ–°ç©ºé—´ä¸­ä»ç„¶æˆç«‹ã€‚è¿™æ˜¯ä¸€ä¸ªå•å‘çš„æ˜ å°„ï¼ŒåŸºäºæ¤­åœ†æ›²çº¿æ•°å­¦ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ç§ â€œåŠ å¯† â€œæŠ€æœ¯ï¼šå¦‚æœä½ åªçŸ¥é“è¢«æ˜ å°„çš„åŠ å¯†ç‚¹ï¼Œé‚£ä¹ˆè®¡ç®—åŸå§‹å€¼åœ¨è®¡ç®—ä¸Šæ˜¯ä¸å¯è¡Œçš„ã€‚ç„¶åï¼ŒåŸå§‹é€‰æ‹©çš„å€¼å°†æ˜¯ä¸€ä¸ªç§˜å¯†ï¼Œæ°¸è¿œä¸ä¼šè¢«ä»»ä½•äººçŸ¥é“ã€‚ è¯æ˜åˆ›å»ºï¼Œé€šè¿‡å°†åœ¨æ‰€é€‰ï¼ˆç§˜å¯†ï¼‰å€¼ä¸­è®¡ç®—çš„æ–¹ç¨‹æ˜ å°„åˆ°åŒæ€ç©ºé—´ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œéšæœºå€¼è¢«ç”¨æ¥è¿›ä¸€æ­¥éšè—æ–¹ç¨‹ï¼ŒåŒæ—¶ä¿ç•™æ–¹ç¨‹ç»“æ„ã€‚ é€šè¿‡è®¡ç®—æ–¹ç¨‹æ˜¯å¦æˆç«‹æ¥éªŒè¯è¯æ˜ã€‚éªŒè¯ä¸æ˜¯ç›´æ¥åœ¨æ˜ å°„çš„ç©ºé—´ä¸­è¿›è¡Œçš„ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ª â€œé…å¯¹ â€œå‡½æ•°å°†æ•°å€¼å†æ¬¡æ˜ å°„åˆ°ä¸€ä¸ªæ–°çš„ç©ºé—´ï¼Œè¯¥å‡½æ•°ä¿ç•™å¹¶å…è®¸æ£€æŸ¥åŸå§‹å˜é‡ä¹‹é—´çš„ä¹˜æ³•ã€‚ æ˜¯ä¸æ˜¯ç†è§£èµ·æ¥ç‰¹åˆ«æ‡µé€¼ğŸ˜³ é€šè¿‡ä¸€ä¸ªæ¥è‡ªè¿™é‡Œçš„æ¼«ç”»æ›´å®¹æ˜“ç†è§£ç‚¹ : https://github.com/KevinSmall/zk-SNARKs-Explainer/blob/master/translations/zh-TW/README.md è¿™é‡Œå°±çœ‹åˆ°äº†å‡ ä¸ªå…³é”®å‡½æ•°, è€Œä»–ä»¬å®é™…æ˜¯ç›¸å½“å¤æ‚çš„, æœ‰èƒ½åŠ›çš„çœ‹è¿™é‡Œ https://www.di.ens.fr/~nitulesc/files/Survey-SNARKs.pdf ","date":"2022-08-22","objectID":"/%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/:5:0","tags":["ZKPs","L0","Web3.0"],"title":"é›¶çŸ¥è¯†è¯æ˜","uri":"/%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/"},{"categories":["Blockchain"],"content":"æ‰©å±•é˜…è¯» Awesome zero knowledge proofs (zkp) https://github.com/matter-labs/awesome-zero-knowledge-proofs zkapps https://docs.minaprotocol.com/en/zkapps ","date":"2022-08-22","objectID":"/%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/:6:0","tags":["ZKPs","L0","Web3.0"],"title":"é›¶çŸ¥è¯†è¯æ˜","uri":"/%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/"},{"categories":["tools"],"content":"censys https://search.censys.io å ªç§°ç¥å™¨, ç¿»è¯‘äº†ä¸€ä¸‹å¸®åŠ©æ–‡æ¡£ ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:0:0","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"Search Language ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:1:0","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"å…¨æ–‡æœç´¢ å½“æ²¡æœ‰æŒ‡å®šå­—æ®µæ—¶ï¼ŒCensysä¼šå°è¯•å¯¹æ‰€æœ‰å­—æ®µè¿›è¡Œå…¨æ–‡æœç´¢ã€‚ ä¾‹å¦‚ï¼Œæœç´¢Dellå°†è¿”å›location.cityä¸º â€œDell Rapids â€œçš„ä¸»æœºï¼Œä»¥åŠservice.software.vendorä¸º â€œDell â€œçš„ä¸»æœºã€‚å¦‚æœä½ å¯¹æˆ´å°”åˆ¶é€ çš„è®¾å¤‡æ„Ÿå…´è¶£ï¼Œä½ ä¼šå¸Œæœ›æŒ‡å®šå­˜å‚¨è¯¥ä¿¡æ¯çš„å­—æ®µã€‚ ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:1:1","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"æŒ‡å®šå­—æ®µå’Œå€¼ æœ‰æ•ˆçš„æœç´¢å°†æŒ‡å®šä¸€ä¸ªå±æ€§æ‰€å­˜å‚¨çš„å­—æ®µã€‚ä¸ºæ­¤ï¼Œä½ éœ€è¦çŸ¥é“ä½ è¦æœç´¢çš„æ•°æ®é›†ä¸­çš„å­—æ®µã€‚ åœ¨æ•°æ®å®šä¹‰æ ‡ç­¾ä¸‹æŸ¥çœ‹å­—æ®µåŠå…¶ä»·å€¼ç±»å‹çš„å®Œæ•´åˆ—è¡¨ï¼Œæˆ–è€…é€‰æ‹©åœ¨è¯¦æƒ…é¡µä¸ŠæŸ¥çœ‹åŸå§‹æ•°æ®ï¼Œä¾‹å¦‚è°·æ­Œå…¬å…±DNSçš„[ä¸»æœºè¡¨è§†å›¾]ï¼ˆhttps://search.censys.io/hosts/8.8.8.8/data/tableï¼‰ã€‚ ä¸€ä¸ªå…¸å‹çš„æœç´¢è‡³å°‘æä¾›ä¸€ä¸ªå­—æ®µâ€“å®ƒåæ˜ äº†ä½¿ç”¨ç‚¹ç¬¦å·çš„JSONæ¨¡å¼çš„åµŒå¥—ï¼ˆä¾‹å¦‚ï¼Œservices.http.response.headers.server.headersï¼‰ â€” å’Œä¸€ä¸ªå€¼ã€‚å¦‚æœå€¼çš„ç±»å‹æ˜¯æ–‡æœ¬ï¼Œå°†è¿”å›ä¸€ä¸ªæ¨¡ç³ŠåŒ¹é…çš„ç»“æœï¼›å¦‚æœå€¼çš„ç±»å‹æ˜¯å…³é”®è¯ï¼Œåªè¿”å›ä¸€ä¸ªç²¾ç¡®çš„åŒ¹é…ã€‚ ä¾‹å¦‚ï¼Œä½ å¯ä»¥é€šè¿‡æŒ‡å®šå­—æ®µå’Œå€¼æ¥æœç´¢æ‰€æœ‰æœ‰HTTPæœåŠ¡è¿”å›HTTPçŠ¶æ€ç çš„ä¸»æœºã€‚services.http.response.status_code: 500 . ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:1:2","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"Wildcards é€šé…ç¬¦ é»˜è®¤æƒ…å†µä¸‹ï¼ŒCensysæœç´¢çš„æ˜¯å®Œæ•´çš„å€¼ã€‚ä¾‹å¦‚ï¼Œæœç´¢ â€œDel â€œä¸ä¼šè¿”å›åŒ…å« â€œDell â€œçš„è®°å½•ã€‚é€šé…ç¬¦å¯ä»¥ç”¨æ¥æ‰©å¤§æœç´¢èŒƒå›´ï¼Œä»¥ä¾¿åœ¨ç»“æœä¸­åŒ…æ‹¬éƒ¨åˆ†åŒ¹é…ã€‚ æœ‰ä¸¤ä¸ªé€šé…ç¬¦ã€‚ ? - è¿™ä¸ªé€šé…ç¬¦è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚ * - è¿™ä¸ªé€šé…ç¬¦è¡¨ç¤ºé›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ã€‚ ç»„åˆé€šé…ç¬¦ä¹Ÿæ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ ä¸‹é¢çš„æŸ¥è¯¢åˆ©ç”¨CPEè½¯ä»¶æ ¼å¼çš„çŸ¥è¯†ï¼Œæœç´¢è¿è¡Œå¾®è½¯IIS webserversçš„æœåŠ¡ï¼Œå…¶ä¸»è¦ç‰ˆæœ¬\u003c10ï¼ˆå› ä¸º? åªä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼‰å’Œç¡®å®šçš„æ¬¡è¦ç‰ˆæœ¬ï¼ˆå› ä¸ºå­˜åœ¨å¥å·ï¼‰ã€‚*é€šé…ç¬¦å CPEæ ¼å¼çš„å…¶ä½™éƒ¨åˆ†ï¼š services.software.uniform_resource_identifier: cpe:2.3:a:microsoft:iis:?.* *é€šé…ç¬¦çš„å¦ä¸€ä¸ªç”¨é€”æ˜¯æ£€æŸ¥ä¸€ä¸ªå­—æ®µæ˜¯å¦å­˜åœ¨ï¼Œè¿™å¯¹æœåŠ¡æœªçŸ¥çš„ä¸»æœºå¾ˆæœ‰å¸®åŠ©ã€‚ä¾‹å¦‚ï¼Œè¿™ä¸ªæŸ¥è¯¢å°†è¿”å›è‡³å°‘æœ‰ä¸€ä¸ªæœåŠ¡å·²ç»ä¸Censyså®ŒæˆTLSæ¡æ‰‹çš„ä¸»æœºï¼šservices.tls: * ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:1:3","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"ç½‘ç»œåè®®å’Œç«¯å£ ä½¿ç”¨CIDRç¬¦å·æœç´¢IPåœ°å€å—ï¼ˆä¾‹å¦‚ï¼Œipï¼š23.20.0.0/14ï¼‰æˆ–é€šè¿‡æä¾›ä¸€ä¸ªèŒƒå›´ï¼šipï¼š[23.20.0.0 to 23.20.5.34/]ã€‚é€šè¿‡æœç´¢æœåŠ¡åç§°å­—æ®µæ¥æœç´¢è¿è¡Œç‰¹å®šåè®®çš„ä¸»æœºï¼š services.service_name: S7 ã€‚é€šè¿‡æœç´¢ç«¯å£å­—æ®µæ¥æœç´¢å…·æœ‰ç‰¹å®šç«¯å£çš„ä¸»æœºï¼šservices.port: 3389 ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:1:4","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"ç”¨å¸ƒå°”é€»è¾‘ç»„åˆæœç´¢æ¡ä»¶ ä½¿ç”¨ â€œANDâ€ã€â€œORâ€ã€â€œNOT â€œå’Œæ‹¬å·æ¥ç»„åˆå¤šä¸ªæœç´¢æ¡ä»¶ã€‚å¸ƒå°”æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œç”±å¸ƒå°”è¡¨è¾¾å¼ç»„åˆçš„æ¡ä»¶æ˜¯é’ˆå¯¹ä¸»æœºæ•´ä½“è¿›è¡Œè¯„ä¼°çš„ã€‚ AND æœç´¢services.port: 8880 and services.service_name: HTTPå°†è¿”å›æ‰“å¼€8880ç«¯å£çš„ä¸»æœºï¼ˆä¸Šé¢è¿è¡Œç€ä»»ä½•æœåŠ¡ï¼‰å’Œè¿è¡Œåœ¨ä»»ä½•ç«¯å£çš„HTTPæœåŠ¡ã€‚ è¦æœç´¢è¿è¡Œåœ¨8880ç«¯å£çš„HTTPæœåŠ¡ï¼Œè¯·ä½¿ç”¨same_service()å‡½æ•°ã€‚same_service(services.port: 8880 and services.service_name: HTTP) . OR æœç´¢services.port: 21 or services.service_name: FTPå°†è¿”å›ä»»ä½•æ‰“å¼€21å·ç«¯å£ï¼ˆåœ¨å…¶ä¸Šè¿è¡Œä»»ä½•æœåŠ¡ï¼‰å’Œåœ¨ä»»ä½•ç«¯å£è¿è¡ŒFTPæœåŠ¡çš„ä¸»æœºã€‚ NOT æœç´¢not same_service(service_name: HTTP and port: 443)å°†è¿”å›é‚£äº›æ²¡æœ‰åœ¨443ä¸Šè¿è¡ŒHTTPçš„ä¸»æœºã€‚ æœç´¢[same_service(service_name: \"HTTP\" and not port:443)](https://search.censys.io/search?q=same_service(service_name%3A+\"HTTP â€œ+and+not+port%3A443)\u0026resource=hosts)å°†è¿”å›ä»»ä½•æœ‰HTTPæœåŠ¡ä½†ä¸åœ¨443ç«¯å£è¿è¡Œçš„ä¸»æœºã€‚è¿™å¯ä»¥åŒ…æ‹¬åœ¨443ä¸Šæœ‰HTTPçš„ä¸»æœºï¼Œåªè¦æœ‰ä¸€ä¸ªä¸åŒç«¯å£å·çš„å…¶ä»–HTTPæœåŠ¡ã€‚ ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:1:5","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"èŒƒå›´ æœç´¢æ•°å­—çš„èŒƒå›´ï¼Œç”¨[ å’Œ ]è¡¨ç¤ºåŒ…å®¹èŒƒå›´ï¼Œç”¨{å’Œ}è¡¨ç¤ºæ’ä»–èŒƒå›´ã€‚ä¾‹å¦‚ï¼Œservices.http.response.status_code:[500 to 503] ã€‚æ—¥æœŸåº”ä½¿ç”¨ä»¥ä¸‹è¯­æ³•è¿›è¡Œæ ¼å¼åŒ–[2012-01-01 to 2012-12-31]ã€‚ä¹Ÿå¯ä»¥æŒ‡å®šå•è¾¹é™åˆ¶[2012-01-01 to *] . toæ“ä½œç¬¦ä¸åŒºåˆ†å¤§å°å†™ã€‚ ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:1:6","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"æ­£åˆ™è¡¨è¾¾å¼ æ­£åˆ™è¡¨è¾¾å¼ä»…é™äºä»˜è´¹å®¢æˆ·ä½¿ç”¨ã€‚å®Œæ•´çš„é‡æ–°ç¼–ç è¯­æ³•æ˜¯å¯åœ¨æ­¤è·å¾—ã€‚ æ³¨æ„ Censysçš„æ­£åˆ™æœç´¢æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ï¼Œé™¤éä½¿ç”¨ç²¾ç¡®åŒ¹é…æ“ä½œç¬¦=ã€‚ ä¾‹å¦‚ï¼Œservices.software.vendor:/De[l]+/å°†è¿”å›è¯¥è¯å¤§å†™æˆ–å°å†™çš„ç»“æœï¼Œè€Œservices.software.vendor=/De[l]+/å°†åªè¿”å›å¤§å†™è¯çš„ç»“æœã€‚ ###Unicode è½¬ä¹‰åºåˆ— ä»¥ä¸‹åºåˆ—å°†è¢«è§£é‡Šä¸ºunicodeè½¬ä¹‰åºåˆ—ï¼Œä»¥ä½¿ç”¨æˆ·èƒ½å¤Ÿåœ¨å®ƒä»¬ç»å¸¸å‡ºç°çš„åœ°æ–¹æœç´¢è¿™äº›ç‰¹æ®Šå­—ç¬¦ï¼Œå¦‚æœåŠ¡æ ‡è¯­å’ŒHTTPæ­£æ–‡ã€‚ Escape Sequence Character Represented \\a Alert \\b Backspace \\e Escape character \\f Formfeed / Page break \\n Newline \\r Carriage return \\t Horizontal tab \\v Vertical tab ä¾‹å¦‚ï¼Œservices.banner=\"Hello\\nWorld\"å°†æŠŠ\\nè§£é‡Šä¸ºæ¢è¡Œï¼Œè€Œä¸æ˜¯è½¬ä¹‰çš„nã€‚ ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:1:7","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"ä¿ç•™å­—ç¬¦ ä»¥ä¸‹å­—ç¬¦å°†è¢«è§£é‡Šä¸ºæ§åˆ¶å­—ç¬¦ï¼Œé™¤éå®ƒä»¬è¢«åæ–œæ è½¬ä¹‰ï¼ˆå³å‰é¢ï¼‰æˆ–è¢«å°è£…åœ¨ä¸€ä¸ªç”±åæ–œæ åŒ…å›´çš„å­—ç¬¦ä¸²ä¸­ã€‚ = \u003e \u003c ) } ] \" * ? : \\ / ä¾‹å¦‚ï¼Œæ˜Ÿå·åœ¨CPEè½¯ä»¶æ ‡è¯†ç¬¦ä¸­å¾ˆå¸¸è§ï¼Œè€Œè½¬ä¹‰æ¯ä¸ªæ˜Ÿå·æ˜¯å¾ˆç¹ççš„ï¼Œæ‰€ä»¥URIå‘¨å›´çš„åå¼•``å·å°†è½¬ä¹‰å…¶ä¸­æ‰€æœ‰çš„æ˜Ÿå·ã€‚ (services.software.uniform_resource_identifier: `cpe:2.3:a:cloudflare:cloudflare_load_balancer:*:*:*:*:*:*:*:*`) ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:1:8","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"ä¾‹å­ ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:0","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"åœ¨è¯¥èŒƒå›´å†…çš„ä¸»æœº 23.0.0.0/8 or 8.8.8.0/24: ip: {\"23.0.0.0/8\", \"8.8.8.0/24\"} ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:1","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"åœ¨å¾·å›½è¿è¡Œ FTP æˆ– Telnet çš„ä¸»æœº: location.country_code: DE and services.service_name: {\"FTP\", \"Telnet\"} ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:2","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"HTTP æ­£æ–‡ä¸­å¸¦æœ‰ powershell.exe çš„ä¸»æœº: services.http.response.body: powershell.exe ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:3","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"â€œSitting on the Dock of the Bayâ€çš„å‡†ç¡® SNMP ä½ç½®å€¼: services.snmp.oid_system.location = \"Sitting on the Dock of the Bay\" ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:4","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"å¸¦æœ‰çŸ­è¯­â€œSchneider Electricâ€æˆ– Dell åœ¨ 23.20.0.0/14 èŒƒå›´å†…çš„ä¸»æœºï¼š (\"Schneider Electric\" OR Dell) AND ip:23.20.0.0/14 ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:5","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"æ‰“å¼€ä»¥ä¸‹ä»»ä½•ä¸€ä¸ªç«¯å£çš„ä¸»æœºï¼š22ã€23ã€24ã€25: services.port: {22, 23, 24, 25} ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:6","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"æ²¡æœ‰è¿è¡Œ HTTP æœåŠ¡çš„ä¸»æœº: NOT services.service_name: HTTP ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:7","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"ä¸»æœºå‡ºç¤ºä»»ä½•è¯ä¹¦: services.tls.certificates.leaf_fp_sha_256: * ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:8","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"å‘ˆç°å­—ç¬¦ä¸² â€œhello â€œçš„ä¸»æœºç”±ä»»ä½•å€¼ç»§æ‰¿ï¼ˆæ­£åˆ™è¡¨è¾¾å¼ï¼‰ã€‚ /hello.*/ ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:9","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"æå‡ºåç§°ä¸ºfoo1, foo2, foo3â€¦foo100çš„ä¸»æœºï¼Œç”±ä»»ä½•æ•°å€¼ï¼ˆå¸¸è§„è¡¨è¾¾å¼ï¼‰ç»§æ‰¿ã€‚ services.tls.certificates.leaf_data.names=/foo\u003c1-100\u003e.*/ ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:10","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"æŒ‡å®šèŒƒå›´å†…çš„ä¸»æœºï¼š ip: [1.12.0.0 TO 1.15.255.255] ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:11","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"åœ¨ç«¯å£ 22 å’Œ 2222 ä»¥å¤–çš„ç«¯å£ä¸Šè¿è¡Œ SSH æœåŠ¡çš„ä¸»æœºï¼š same_service(services.service_name: \"SSH\" AND NOT (services.port: 22 OR services.port: 2222)) ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:12","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"åœ¨ç«¯å£ 443 ä¸Šè¿è¡Œ elasticsearch çš„ä¸»æœºï¼š same_service(services.service_name: \"ELASTICSEARCH\" AND services.port: 443) ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:13","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"æœ‰æœåŠ¡çš„ä¸»æœºï¼Œæœ€åä¸€æ¬¡è¢«NTT ISPå†…çš„Censysæ‰«æå™¨æ‰«æè¿‡çš„ã€‚ services.perspective_id: \"PERSPECTIVE_NTT\" ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:14","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"åœ¨NTTæˆ–TELIA ISPå†…ï¼Œå…·æœ‰Censysæ‰«æå™¨æœ€åæ‰«æçš„æœåŠ¡çš„ä¸»æœºã€‚ services.perspective_id: \"PERSPECTIVE_NTT\" OR services.perspective_id: \"PERSPECTIVE_TELIA\" åœ¨HTTPæœåŠ¡ä¸Šæœ‰ä¸€ä¸ªåŒ…å« â€œdashboard â€œä¸€è¯çš„é¡µé¢æ ‡é¢˜çš„ä¸»æœºã€‚ services.http.response.html_title: dashboard ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:15","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"å…·æœ‰å“åº”æœåŠ¡å™¨é”™è¯¯çŠ¶æ€ä»£ç çš„ HTTP æœåŠ¡çš„ä¸»æœºï¼š services.http.response.status_code: 500 ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:16","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"å…·æœ‰ç‰¹å®š HTTP æ ‡å¤´-å€¼å¯¹çš„ HTTP æœåŠ¡çš„ä¸»æœºï¼š services.http.response.headers.connection: close AND services.http.response.headers.content_type: text/plain ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:17","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"å…·æœ‰æä¾›è¯ä¹¦çš„ RDP æœåŠ¡çš„ä¸»æœºï¼š same_service(services.service_name: RDP AND services.certificate: *) ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:18","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"å…·æœ‰ä»»ä½•è¿è¡ŒSSLv3çš„æœåŠ¡çš„ä¸»æœºã€‚ services.tls.version_selected: SSLv3 ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:19","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"å…·æœ‰åœ¨ subject_dn ä¸­æä¾›å¸¦æœ‰å­—ç¬¦ä¸²â€œlocalhostâ€çš„ TLS è¯ä¹¦çš„æœåŠ¡çš„ä¸»æœºï¼š services.tls.certificates.leaf_data.subject_dn: \"localhost\" ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:20","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"å…·æœ‰è¿è¡Œå¾®è½¯IIS 7.5çš„æœåŠ¡çš„ä¸»æœºã€‚ services.software.product: IIS AND services.software.vendor: Microsoft AND services.software.version: 7.5 ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:21","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"å…·æœ‰å‘ˆç°æ“ä½œç³»ç»Ÿå’Œåº”ç”¨è½¯ä»¶ç‰¹å®šç»„åˆçš„æœåŠ¡çš„ä¸»æœº: same_service(services.software.uniform_resource_identifier: `cpe:2.3:o:canonical:ubuntu_linux:18.04:*:*:*:*:*:*:*` AND services.software.uniform_resource_identifier: `cpe:2.3:a:openbsd:openssh:7.6p1:*:*:*:*:*:*:*`) ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:22","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"è¿è¡Œ Raspberry Pi äº§å“çš„ä¸»æœº: services.software.product: \"Raspberry Pi\" ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:23","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"åŒ…å«å•è¯ University çš„ ASes ä¸­çš„ä¸»æœºï¼š autonomous_system.description: University ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:2:24","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["tools"],"content":"å­—æ®µå®šä¹‰ https://search.censys.io/search/definitions?resource=hosts ","date":"2022-08-19","objectID":"/censys%E6%96%87%E6%A1%A3/:3:0","tags":["censys"],"title":"Censysæ–‡æ¡£","uri":"/censys%E6%96%87%E6%A1%A3/"},{"categories":["golang"],"content":"golangä¸­ç”¨get()æˆ–httpClient è¿›è¡Œgetæ—¶å¾—åˆ°çš„é™æ€é¡µé¢, å¦‚æœé¡µé¢ä¸­çš„å†…å®¹æ˜¯è·å–åˆ°æœ¬åœ°ååŠ¨æ€ç”Ÿæˆçš„è¯, åº”è¯¥å¦‚ä½•å¾—åˆ°å‘¢ ","date":"2022-08-18","objectID":"/golang%E8%8E%B7%E5%BE%97%E5%8A%A8%E6%80%81%E7%BD%91%E9%A1%B5%E5%86%85%E5%AE%B9/:0:0","tags":["http","crawler"],"title":"Golangè·å¾—åŠ¨æ€ç½‘é¡µå†…å®¹","uri":"/golang%E8%8E%B7%E5%BE%97%E5%8A%A8%E6%80%81%E7%BD%91%E9%A1%B5%E5%86%85%E5%AE%B9/"},{"categories":["golang"],"content":"ä¸¾ä¾‹ æœ‰ä¸€äº›è¿æ¥ä½ é€šè¿‡http.getæ–¹æ³•åªèƒ½å¾—åˆ°ç½‘é¡µçš„ä¸€ä¸ªæ¡†æ¶, å…¶ä¸­å¹¶æ²¡æœ‰å®è´¨çš„æŸ¥è¯¢ç»“æœ, å’Œä½ é€šè¿‡æµè§ˆå™¨ç›´æ¥è®¿é—®å¾—åˆ°çš„htmlæ˜¯ä¸ä¸€æ ·çš„. ä½¿ç”¨chromedp: https://github.com/chromedp/chromedp é€šè¿‡chromedp.WaitVisible(selector),æ¥ç­‰å¾…åŠ¨æ€ç”Ÿæˆçš„å†…å®¹å‡ºç° å…¶ä¸­ selectorå­—ç¬¦ä¸²é€šè¿‡æµè§ˆå™¨çš„å¼€å‘è€…æ§åˆ¶å°, å³å‡»html, é€‰æ‹© copy selectoræ¥å¾—åˆ° // GetHttpHtmlContent è·å–ç½‘ç«™ä¸Šçˆ¬å–çš„æ•°æ® func GetHttpHtmlContent(url string, selector string, sel interface{}) (string, error) { options := []chromedp.ExecAllocatorOption{ chromedp.Flag(\"headless\", true), // debugä½¿ç”¨ chromedp.Flag(\"blink-settings\", \"imagesEnabled=false\"), chromedp.UserAgent(`Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36`), } //åˆå§‹åŒ–å‚æ•°ï¼Œå…ˆä¼ ä¸€ä¸ªç©ºçš„æ•°æ® options = append(chromedp.DefaultExecAllocatorOptions[:], options...) c, _ := chromedp.NewExecAllocator(context.Background(), options...) // create context chromeCtx, cancel := chromedp.NewContext(c, chromedp.WithLogf(log.Printf)) // æ‰§è¡Œä¸€ä¸ªç©ºtask, ç”¨æå‰åˆ›å»ºChromeå®ä¾‹ _ = chromedp.Run(chromeCtx, make([]chromedp.Action, 0, 1)...) //åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡ï¼Œè¶…æ—¶æ—¶é—´ä¸º40s æ­¤æ—¶é—´å¯åšæ›´æ”¹ è°ƒæ•´ç­‰å¾…é¡µé¢åŠ è½½æ—¶é—´ timeoutCtx, cancel := context.WithTimeout(chromeCtx, 40*time.Second) defer cancel() var htmlContent string err := chromedp.Run(timeoutCtx, chromedp.Navigate(url), chromedp.WaitVisible(selector), chromedp.OuterHTML(sel, \u0026htmlContent, chromedp.ByJSPath), ) if err != nil { //log.Fatal(\"Run err : %v\\n\", err) return \"\", err } //log.Println(htmlContent) return htmlContent, nil } func main() { selector := \"#resultset \u003e div:nth-child(2)\" param := `document.querySelector(\"body\")` url := \"https://search.censys.io/search?resource=hosts\u0026virtual_hosts=EXCLUDE\u0026q=%28services.http.response.headers.location%3A+account.jetbrains.com%2Ffls-auth%29+and+services.port%3D%6080%60\" html, _ := GetHttpHtmlContent(url, selector, param) log.Println(html) } ","date":"2022-08-18","objectID":"/golang%E8%8E%B7%E5%BE%97%E5%8A%A8%E6%80%81%E7%BD%91%E9%A1%B5%E5%86%85%E5%AE%B9/:1:0","tags":["http","crawler"],"title":"Golangè·å¾—åŠ¨æ€ç½‘é¡µå†…å®¹","uri":"/golang%E8%8E%B7%E5%BE%97%E5%8A%A8%E6%80%81%E7%BD%91%E9%A1%B5%E5%86%85%E5%AE%B9/"},{"categories":["golang"],"content":"æ›´è¯¦ç»†çš„ å‚è€ƒè¿™ä¸ªæ–‡ç« : https://segmentfault.com/a/1190000039349417 ","date":"2022-08-18","objectID":"/golang%E8%8E%B7%E5%BE%97%E5%8A%A8%E6%80%81%E7%BD%91%E9%A1%B5%E5%86%85%E5%AE%B9/:2:0","tags":["http","crawler"],"title":"Golangè·å¾—åŠ¨æ€ç½‘é¡µå†…å®¹","uri":"/golang%E8%8E%B7%E5%BE%97%E5%8A%A8%E6%80%81%E7%BD%91%E9%A1%B5%E5%86%85%E5%AE%B9/"},{"categories":["aviation"],"content":"ARINC-429 å®šä¹‰äº†å•†ç”¨é£æœºèˆªç©ºç”µå­ç³»ç»Ÿä¹‹é—´(å±€åŸŸç½‘)æ•°å­—æ•°æ®ä¼ è¾“çš„æ ‡å‡†è¦æ±‚å’Œåè®®ã€‚è®¾å¤‡åˆ¶é€ å•†éµå¾ªè¿™äº›æ ‡å‡†ï¼Œä»è€Œå®ç°èˆªç©ºç”µå­è®¾å¤‡çš„äº’æ¢æ€§. ARINC 429 ä¹Ÿç§°ä¸º Mark 33 æ•°å­—ä¿¡æ¯ä¼ è¾“ç³»ç»Ÿ (DITS) æ€»çº¿ã€‚è™½ç„¶ä¸»è¦ç”¨äºèˆªç©ºç”µå­é¢†åŸŸï¼Œä½†è¿™äº›æ€»çº¿ä¹Ÿç”¨äºåœ°é¢è½¦è¾†ã€æ­¦å™¨ç³»ç»Ÿå’Œå…¶ä»–å•†ä¸šå’Œå†›äº‹è®¾å¤‡é¢†åŸŸã€‚ ","date":"2022-08-12","objectID":"/arinc429/:0:0","tags":["arinc429"],"title":"ARINC-429","uri":"/arinc429/"},{"categories":["aviation"],"content":"ARINC-429 æ–‡ä»¶ç»„ç»‡ç»“æ„ PART1 : æä¾›äº†ARINC 429åŠŸèƒ½çš„åŸºæœ¬æè¿°ä»¥åŠæ”¯æŒçš„ç‰©ç†å’Œç”µæ°”æ¥å£ã€‚è¿˜æä¾›äº†æ•°æ®å­—æ ¼å¼ã€æ ‡å‡†æ ‡ç­¾å’Œåœ°å€åˆ†é…ä»¥åŠç¤ºä¾‹ã€‚ PART2: å®šä¹‰äº†ARINC 429ç¦»æ•£é‡å­—å’ŒæŒ‰æ ‡ç­¾é¡ºåºçš„ä½åˆ†é…ã€‚ PART3: æè¿°äº†ARINC 429æ•°æ®ä¼ è¾“åè®®å’Œä»¥å¤§å—å’Œ/æˆ–æ–‡ä»¶æ ¼å¼ä¼ è¾“æ•°æ®çš„æ¶ˆæ¯å®šä¹‰ã€‚ PART4: æ˜¯å¤šå¹´æ¥å‘è¡¨çš„ARINC 429ç¬¬1éƒ¨åˆ†è¡¥ç¼–ï¼ˆ1è‡³17ï¼‰çš„æ¡£æ¡ˆã€‚å®ƒæ˜¯ä½œä¸ºARINC 429ç¬¬18å·è¡¥ç¼–æ›´æ–°çš„ä¸€éƒ¨åˆ†è€Œæ¨å‡ºçš„ï¼ˆ2012å¹´ï¼‰ã€‚ ","date":"2022-08-12","objectID":"/arinc429/:1:0","tags":["arinc429"],"title":"ARINC-429","uri":"/arinc429/"},{"categories":["aviation"],"content":"A429ç‰¹ç‚¹ ARINC 429 æ•°æ®ä¼ è¾“çš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºå…¶ç®€å•çš„å•å‘æ€»çº¿é€šä¿¡æ•°æ®æµã€‚è™½ç„¶å…¸å‹çš„æ•°æ®æ€»çº¿åœ¨ä¸€ç»„ç”µçº¿ä¸Šçš„å„ä¸ªæ€»çº¿ç‚¹ä¹‹é—´æä¾›å¤šå‘æ•°æ®ä¼ è¾“ã€‚ ARINC-429 å¹¶éå¦‚æ­¤, ä¼ è¯´æ˜¯ä¸ºäº†ç³»ç»Ÿå¯é æ€§ã€‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚RECEIVER_1â”‚ â”‚ ... â”‚ â”‚ RECEIVER_N â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â–² â–² â–² â”‚ SENDER â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Senderå¯ä»¥æ”¯æŒæœ€é«˜20ä¸ªReceiver è¦æƒ³åŒå‘ä¼ è¾“, å†æ·»åŠ ä¸€æ ¹çº¿ç¼†, Receiverå˜Sender Sendå’ŒReceiveé€šé“åœ¨ä¸åŒçš„ç«¯å£ä¸Š ä»¥ 32 ä½(bit)ä¸ºä¸€ä¸ªæ•°æ®å­—(WORD), æ¯ä¸ªå­—ä»£è¡¨ä¸€ä¸ªå·¥ç¨‹å•ä½ï¼Œä¾‹å¦‚é«˜åº¦æˆ–æ°”å‹ ä¼ è¾“é€šé“åˆ†ä¸ºé«˜é€Ÿå’Œä½é€Ÿä¸¤ç§, å‰è€…100kb/s , åè€… 12.5kb/s LRU æ²¡æœ‰ç”± ARINC 429 åˆ†é…çš„åœ°å€ï¼Œè€Œæ˜¯ä¸€ä¸ªè®¾å¤‡ ID å·ï¼Œå…è®¸è®¾å¤‡ç®¡ç†å’Œè®¾å¤‡çš„æ–‡ä»¶ä¼ è¾“è¢«åˆ†ç»„åˆ°ç³»ç»Ÿä¸­ã€‚ ä¸€ä¸ªè‡³å°‘4ä½çš„ç©ºæˆ–é›¶ç”µå‹å¯ä»¥åŒºåˆ†è¿ç»­çš„å­—ã€‚é€šè¿‡ä½¿ç”¨å­—ä¸å­—ä¹‹é—´çš„ç©ºé—´éš”ï¼Œå°±ä¸éœ€è¦å•ç‹¬çš„æ—¶é’Ÿä¿¡å·äº†ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¿™ä¸ªä¿¡å·è¢«ç§°ä¸ºè‡ªé”ä¿¡å·ã€‚ ","date":"2022-08-12","objectID":"/arinc429/:2:0","tags":["arinc429"],"title":"ARINC-429","uri":"/arinc429/"},{"categories":["aviation"],"content":"æ•°æ®å­—ç»“æ„ â”Œâ”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚P â”‚ SSM â”‚ DATA â”‚ SDI â”‚ LABLE â”‚ â””â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”Œâ”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â” â”‚32â”‚31â”‚30â”‚29â”‚28â”‚27â”‚..â”‚14â”‚13â”‚12â”‚11â”‚10â”‚9 â”‚8 â”‚7 â”‚6 â”‚5 â”‚4 â”‚3 â”‚2 â”‚1 â”‚ â””â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”˜ æ•°æ®ä»¥ 32 ä½å­—é€šè¿‡ ARINC-429 æ€»çº¿å‘é€ï¼Œæ¯ä¸ªå­—ä»£è¡¨ä¸€ä¸ªå·¥ç¨‹å•ä½ï¼Œä¾‹å¦‚é«˜åº¦æˆ–æ°”å‹ã€‚æ¶ˆæ¯çš„ä¸åŒéƒ¨åˆ†å¦‚ä¸Šå›¾æ‰€ç¤º. LABEL: 8 ä½æ ‡ç­¾ç”¨äºè§£é‡Šæ¶ˆæ¯çš„å…¶ä»–å­—æ®µâ€”â€”æ¯ç§ç±»å‹çš„è®¾å¤‡éƒ½æœ‰ä¸€ç»„ç”±æ ‡ç­¾ç¼–å·æ ‡è¯†çš„æ ‡å‡†å‚æ•°ï¼Œè€Œä¸åˆ¶é€ å•†æ— å…³ã€‚ä¾‹å¦‚ï¼Œä»»ä½•èˆªå‘å‚è€ƒç³»ç»Ÿçš„æ ‡ç­¾ 372 å°†æä¾›é£å‘ï¼Œä»»ä½•ç©ºæ°”æ•°æ®è®¡ç®—æœºçš„æ ‡ç­¾ 203 å°†æä¾›æ°”å‹é«˜åº¦, 312è¡¨ç¤ºåœ°é¢é€Ÿåº¦ SDI: 2ä½, æ˜¯æº/ç›®çš„åœ°æ ‡è¯†ç¬¦ (Source Destination Identifiers)ï¼Œç”±è¿æ¥åˆ°å¤šä¸ªæ¥æ”¶å™¨çš„å‘é€å™¨ä½¿ç”¨ï¼Œä»¥ç¡®å®šåº”ç”±å“ªä¸ªæ¥æ”¶å™¨å¤„ç†æ¶ˆæ¯ã€‚å¦‚æœä¸éœ€è¦ï¼Œè¿™äº›ä½å¯ä»¥ç”¨äºæ•°æ®ã€‚ DATA: 19ä½æ•°æ® SSM: Sign-Status Matrix ç¬¦å·çŠ¶æ€çŸ©é˜µ P: å¥‡å¶æ ¡éªŒä½ : ä½¿ç”¨å¥‡æ•°å¥‡å¶æ ¡éªŒä½œä¸ºé”™è¯¯æ£€æŸ¥ï¼Œä»¥ç¡®ä¿ç²¾ç¡®çš„æ•°æ®æ¥æ”¶ã€‚æ¯ä¸ªå­—ä¸­ä¼ è¾“çš„é€»è¾‘1çš„æ•°é‡æ˜¯ä¸€ä¸ªå¥‡æ•°ï¼Œé€šè¿‡è®¾ç½®æˆ–æ¸…é™¤ç¬¬32ä½æ¥è·å¾—å¥‡æ•°ã€‚ARINC 429æ²¡æœ‰è§„å®šçº é”™çš„æ–¹æ³•ï¼Œåªè§„å®šäº†é”™è¯¯æ£€æµ‹ã€‚ ","date":"2022-08-12","objectID":"/arinc429/:3:0","tags":["arinc429"],"title":"ARINC-429","uri":"/arinc429/"},{"categories":["aviation"],"content":"SSM ç¬¦å·çŠ¶æ€çŸ©é˜µ æ ¹æ®LABELçš„ä¸åŒ, SSMçš„æ„æ€å¯èƒ½ä¸åŒ, æ¯”å¦‚å¯ä»¥è¡¨ç¤ºé”™è¯¯çŠ¶æ€ 00 (0)ï¼šæ•…éšœï¼Œ 01 (1)ï¼šæ— è®¡ç®—æ•°æ®æˆ–è¾“å‡ºæ— æ•ˆï¼Œ 10 (2)ï¼šåŠŸèƒ½å®éªŒï¼Œ 11 (3)ï¼šæ­£å¸¸ #include \u003cstdio.h\u003e typedef unsigned int uint32_t; uint32_t getSSM(uint32_t x){ // è·å–bit30å’Œbit31çš„å€¼ uint32_t ssm = (x \u003e\u003e 29) \u0026 0x3; return ssm; } uint32_t setSSM(uint32_t x, uint32_t ssm){ if (ssm \u003e 3) { printf(\"ssm is out of range, should be 0 or 1 or 2 or 3\\n\"); return x; } // è®¾ç½®bit30å’Œbit31çš„å€¼ uint32_t mask = 0x3 \u003c\u003c 29; x = x \u0026 (~mask); x = x | (ssm \u003c\u003c 29); return x; } //æ‰“å°å‡ºæ¯ä¸€ä½ void print_bits(uint32_t x){ uint32_t i=0; for (i=0; i\u003c32; i++){ printf(\"%d\", (x \u0026 0x80000000) \u003e\u003e 31); x = x \u003c\u003c 1; } } int main(){ uint32_t x = 0x40012E92; print_bits(x); printf(\" ==\u003e %d\\n\", getSSM(x)); x = 0x60012E92; print_bits(x); printf(\" ==\u003e %d\\n\", getSSM(x)); x = 0x20012E92; print_bits(x); printf(\" ==\u003e %d\\n\", getSSM(x)); x = 0x12E92; print_bits(x); printf(\" ==\u003e %d\\n\", getSSM(x)); x = 0x1234; print_bits(setSSM(x, 0)); printf(\" \u003c== %d\\n\",0); print_bits(setSSM(x, 1)); printf(\" \u003c== %d\\n\",1); print_bits(setSSM(x, 2)); printf(\" \u003c== %d\\n\",2); print_bits(setSSM(x, 3)); printf(\" \u003c== %d\\n\",3); return 0; } è¾“å‡º 01000000000000010010111010010010 ==\u003e 2 01100000000000010010111010010010 ==\u003e 3 00100000000000010010111010010010 ==\u003e 1 00000000000000010010111010010010 ==\u003e 0 00000000000000000001001000110100 \u003c== 0 00100000000000000001001000110100 \u003c== 1 01000000000000000001001000110100 \u003c== 2 01100000000000000001001000110100 \u003c== 3 ","date":"2022-08-12","objectID":"/arinc429/:4:0","tags":["arinc429"],"title":"ARINC-429","uri":"/arinc429/"},{"categories":["aviation"],"content":"å¥‡æ•°å¥‡å¶æ ¡éªŒ ","date":"2022-08-12","objectID":"/arinc429/:5:0","tags":["arinc429"],"title":"ARINC-429","uri":"/arinc429/"},{"categories":["aviation"],"content":"è®¾ç½®æ ¡éªŒä½ A429é‡‡ç”¨çš„æ˜¯å¥‡æ ¡éªŒ è®©æ•´ä¸ª32ä½ä¸­, 1çš„ä¸ªæ•°ä¸ºå¥‡æ•° åˆå§‹å€¼WORDçš„ç¬¬32ä½ä¸º0 if WORDä¸­1çš„ä¸ªæ•°ä¸ºå¶æ•° tempWORD = WORD å°†tempWORDçš„ç¬¬32ä½è®¾ç½®ä¸º1, ä½¿å…¶æœ‰å¥‡æ•°ä¸ª1 return tempWORD typedef unsigned int uint32_t; // è·å–ä½1çš„ä¸ªæ•° int getBit1Count(uint32_t x){ uint32_t i=0, count = 0, temp = x; for (i=0; i\u003c32; i++){ if (1 == (temp \u0026 0x00000001) ){ count++; } temp = temp \u003e\u003e 1; } return count; } // è®¾ç½®æ ¡éªŒä½ uint32_t setCheckBit(uint32_t x){ //å¦‚æœä¸ºå¶æ•°ä¸ª1 if (getBit1Count(x) % 2 == 0){ x = x ^ 0x80000000; // 0x80000000 = 10000000 00000000 00000000 00000000 }else{ x = x ^ 0x00000000; } return x; } ","date":"2022-08-12","objectID":"/arinc429/:5:1","tags":["arinc429"],"title":"ARINC-429","uri":"/arinc429/"},{"categories":["aviation"],"content":"æ ¡éªŒå’Œè¿˜åŸ æ ¡éªŒå°±æ˜¯çœ‹ä½ä¸Šçš„å€¼ä¸º1çš„ä¸ªæ•°æ˜¯å¦ä¸ºå¥‡æ•° è¿˜åŸ, å°†ç¬¬32ä½åˆ é™¤å³å¯ //æ£€æŸ¥æ ¡éªŒä½å¹¶è¿˜åŸ uint32_t checkAndRestore(uint32_t x){ uint32_t bit1Count = getBit1Count(x); if (bit1Count % 2 == 0){ printf(\"é”™è¯¯! \"); return 0; }else{ //x = x ^ 0x80000000; printf(\"æ­£ç¡®! \"); } //åˆ æ‰æœ€åä¸€ä½æ ¡éªŒä½ x = x \u0026 0x7FFFFFFF; return x; } ","date":"2022-08-12","objectID":"/arinc429/:5:2","tags":["arinc429"],"title":"ARINC-429","uri":"/arinc429/"},{"categories":["aviation"],"content":"å®Œæ•´ä»£ç  #include \u003cstdio.h\u003e typedef unsigned int uint32_t; // è·å–ä½1çš„ä¸ªæ•° int getBit1Count(uint32_t x){ uint32_t i=0, count = 0, temp = x; for (i=0; i\u003c32; i++){ if (1 == (temp \u0026 0x00000001) ){ count++; } temp = temp \u003e\u003e 1; } return count; } // è®¾ç½®æ ¡éªŒä½ uint32_t setCheckBit(uint32_t x){ //å¦‚æœä¸ºå¶æ•°ä¸ª1 if (getBit1Count(x) % 2 == 0){ x = x ^ 0x80000000; // 0x80000000 = 10000000 00000000 00000000 00000000 }else{ x = x ^ 0x00000000; } return x; } //æ‰“å°å‡ºæ¯ä¸€ä½ void print_bits(uint32_t x){ uint32_t i=0; for (i=0; i\u003c32; i++){ printf(\"%d\", (x \u0026 0x80000000) \u003e\u003e 31); x = x \u003c\u003c 1; } } //æ£€æŸ¥æ ¡éªŒä½å¹¶è¿˜åŸ uint32_t checkAndRestore(uint32_t x){ uint32_t bit1Count = getBit1Count(x); if (bit1Count % 2 == 0){ printf(\"é”™è¯¯! \"); return 0; }else{ //x = x ^ 0x80000000; printf(\"æ­£ç¡®! \"); } //åˆ æ‰æœ€åä¸€ä½æ ¡éªŒä½ x = x \u0026 0x7FFFFFFF; return x; } int main(){ uint32_t data[] = {0, 100, 101, 1001, 0x23456}; uint32_t i=0, set; for (i=0; i\u003c5; i++){ printf(\"è®¾ç½®æ ¡éªŒä½ä¹‹å‰: \"); print_bits(data[i]); printf(\",%dä¸ª1, 0x%x\\n\", getBit1Count(data[i]), data[i]); set = setCheckBit(data[i]); printf(\"è®¾ç½®æ ¡éªŒä½ä¹‹å: \"); print_bits(set); printf(\",%dä¸ª1, 0x%x\\n\",getBit1Count(set), set); printf(\"æ ¡éªŒå’Œè¿˜åŸ:0x%x\\n\", checkAndRestore(set)); printf(\"-------\\n\"); } return 0; } è¾“å‡º è®¾ç½®æ ¡éªŒä½ä¹‹å‰: 00000000000000000000000000000000,0ä¸ª1, 0x0 è®¾ç½®æ ¡éªŒä½ä¹‹å: 10000000000000000000000000000000,1ä¸ª1, 0x80000000 æ­£ç¡®! æ ¡éªŒå’Œè¿˜åŸ:0x0 ------- è®¾ç½®æ ¡éªŒä½ä¹‹å‰: 00000000000000000000000001100100,3ä¸ª1, 0x64 è®¾ç½®æ ¡éªŒä½ä¹‹å: 00000000000000000000000001100100,3ä¸ª1, 0x64 æ­£ç¡®! æ ¡éªŒå’Œè¿˜åŸ:0x64 ------- è®¾ç½®æ ¡éªŒä½ä¹‹å‰: 00000000000000000000000001100101,4ä¸ª1, 0x65 è®¾ç½®æ ¡éªŒä½ä¹‹å: 10000000000000000000000001100101,5ä¸ª1, 0x80000065 æ­£ç¡®! æ ¡éªŒå’Œè¿˜åŸ:0x65 ------- è®¾ç½®æ ¡éªŒä½ä¹‹å‰: 00000000000000000000001111101001,7ä¸ª1, 0x3e9 è®¾ç½®æ ¡éªŒä½ä¹‹å: 00000000000000000000001111101001,7ä¸ª1, 0x3e9 æ­£ç¡®! æ ¡éªŒå’Œè¿˜åŸ:0x3e9 ------- è®¾ç½®æ ¡éªŒä½ä¹‹å‰: 00000000000000100011010001010110,8ä¸ª1, 0x23456 è®¾ç½®æ ¡éªŒä½ä¹‹å: 10000000000000100011010001010110,9ä¸ª1, 0x80023456 æ­£ç¡®! æ ¡éªŒå’Œè¿˜åŸ:0x23456 ------- ","date":"2022-08-12","objectID":"/arinc429/:5:3","tags":["arinc429"],"title":"ARINC-429","uri":"/arinc429/"},{"categories":["aviation"],"content":"LABLE â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ ones â”‚ tens â”‚ hundreds â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â” LSB â”‚ 8 â”‚ 7 â”‚ 6 â”‚ 5 â”‚ 4 â”‚ 3 â”‚ 2 â”‚ 1 â”‚ MSB â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ LSB: æœ€ä½æœ‰æ•ˆä½ MSB: æœ€é«˜æœ‰æ•ˆä½ æ³¨æ„åˆ°, ä¸Šé¢çš„æœ€ä½æœ‰æ•ˆä½å’Œæœ€é«˜æœ‰æ•ˆä½ å’Œæˆ‘ä»¬å¹³æ—¶å®šä¹‰çš„æ˜¯ç›¸åçš„ å¹¶ä¸”, 8ä½è¢«åˆ†æˆäº†ä¸‰æ®µ, ç™¾ä½æ•°å¤šä¸ºäºŒè¿›åˆ¶11ä¹Ÿå°±æ˜¯3, åä½æ•°å’Œä¸ªä½æ•°æœ€å¤šä¸ºäºŒè¿›åˆ¶111ä¹Ÿå°±æ˜¯7. æ‰€ä»¥ä¸Šé¢å®é™…å°±æ˜¯å°†8ä½åˆ†æˆ3æ®µ, æ¯æ®µæ¥è¡¨ç¤ºä¸€ä¸ª8è¿›åˆ¶æ•°, å¹¶ä¸”é«˜ä½ä½ç›¸å. è¿™ç§°ä¸ºåå‘å…«è¿›åˆ¶ å¯ä»¥çœ‹å‡º, Labelæœ€å¤§ä¸º377 ","date":"2022-08-12","objectID":"/arinc429/:6:0","tags":["arinc429"],"title":"ARINC-429","uri":"/arinc429/"},{"categories":["aviation"],"content":"Labelç¼–ç  ä¸¾ä¾‹: 312è¡¨ç¤ºé£æœºçš„ground speed, å¦‚ä½•è¿›è¡Œç¼–ç : å–ç™¾ä½æ•°3, ç”¨ä¸¤ä½äºŒè¿›åˆ¶è¡¨ç¤ºä¸º11, è°ƒè½¬é«˜ä½ä½åä¸º11 å–åä½æ•°1, ç”¨ä¸‰ä½äºŒè¿›åˆ¶è¡¨ç¤ºä¸º001, è°ƒè½¬é«˜ä½ä½åä¸º100 å–ä¸ªä½æ•°2, ç”¨ä¸‰ä½äºŒè¿›åˆ¶è¡¨ç¤ºä¸º010,è°ƒè½¬é«˜ä½ä½åä¸º010 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ ones â”‚ tens â”‚ hundreds â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ 2 â”‚ 1 â”‚ 3 â”‚ â”œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¤ MSB â”‚ 0 â”‚ 1 â”‚ 0 â”‚ 1 â”‚ 0 â”‚ 0 â”‚ 1 â”‚ 1 â”‚ LSB â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ å¯¹ç…§ARINC429P1ä¸­çš„ ATTACHMENT 6ä¸­çš„å€¼, çš„ç¡®å¦‚æ­¤ #include \u003cstdio.h\u003e typedef unsigned int uint32_t; //æ‰“å°å‡ºæ¯ä¸€ä½ void print_bits(uint32_t x) { uint32_t i = 0; for (i = 0; i \u003c 32; i++) { printf(\"%d\", (x \u0026 0x80000000) \u003e\u003e 31); x = x \u003c\u003c 1; } } //ç¿»è½¬æŒ‡å®šçš„æ•°çš„æŒ‡å®šä½ //from: ä»å“ªä¸€ä½å¼€å§‹ç¿»è½¬(åŒ…æ‹¬), ä»ä½ä½å¼€å§‹, ä»0å¼€å§‹è®¡æ•° //to: ç»“æŸäºå“ªä¸€ä½(åŒ…æ‹¬) // æ¯”å¦‚ reverse_bits(1, 0, 2) // å°† 00000000000000000000000000000001 ä¸­çš„ 0,1,2ä½ è¿›è¡Œç¿»è½¬ // å¾—åˆ° 00000000000000000000000000000100 uint32_t reverse_bits(uint32_t x, uint32_t from, uint32_t to) { uint32_t result = 0; for (uint32_t i = from; i \u003c= to; i++) { result += (x \u003e\u003e i \u0026 1) \u003c\u003c (to - i); } return result; } uint32_t encodeLabel(uint32_t word, uint32_t x) { if (x \u003e 377) { printf(\"out of range\"); return 0; } //å°†wordçš„å‰8ä½æ¸…é›¶ word \u0026= 0xffffff00; //ä»¥xä¸º312ä¸ºä¾‹: //å¾—åˆ°ç™¾ä½æ•°3 (00000000000000000000000000000011) uint32_t hundreds = (x % 1000) / 100; //ç¿»è½¬0000000000000000000000000000011çš„ä½ä¸¤ä½, //å¾—åˆ°0000000000000000000000000000011 hundreds = reverse_bits(hundreds, 0, 1); //å°† 11 å¡«å…¥ç¬¬0,1ä½ word = word | hundreds; //å¾—åˆ°åä½æ•°1 (00000000000000000000000000000001) uint32_t tens = (x % 100) / 10; //ç¿»è½¬00000000000000000000000000000001çš„ä½ä¸‰ä½, //å¾—åˆ°00000000000000000000000000000100 tens = reverse_bits(tens, 0, 2); //å°†100å¡«å…¥ç¬¬2,3,4ä½ word = word | (tens \u003c\u003c 2); //å¾—åˆ°ä¸ªä½æ•°2 (00000000000000000000000000000010) uint32_t ones = x % 10; //ç¿»è½¬00000000000000000000000000000010çš„ä½ä¸‰ä½, //å¾—åˆ° 00000000000000000000000000000010 ones = reverse_bits(ones, 0, 2); //å°†010å¡«å…¥ç¬¬5,6,7ä½ word = word | (ones \u003c\u003c 5); return word; } int main() { print_bits(reverse_bits(0x4, 0, 2)); //100 -\u003e 001 printf(\"\\n\"); print_bits(reverse_bits(0x1, 0, 2)); //001 -\u003e 100 printf(\"\\n\"); print_bits(reverse_bits(0x1, 0, 31)); //1 -\u003e 10000000000000000000000000000000 printf(\"\\n------------\\n\"); uint32_t word = 0x22849800; print_bits(encodeLabel(word, 313)); printf(\"\\n\"); print_bits(encodeLabel(word, 323)); printf(\"\\n\"); return 0; } è¾“å‡º 00000000000000000000000000000001 00000000000000000000000000000100 10000000000000000000000000000000 ------------ 00100010100001001001100011010011 00100010100001001001100011001011 ","date":"2022-08-12","objectID":"/arinc429/:6:1","tags":["arinc429"],"title":"ARINC-429","uri":"/arinc429/"},{"categories":["aviation"],"content":"Lable è§£ç  ç†è§£äº†ç¼–ç , è§£ç å°±å¾ˆç®€å•äº† uint32_t decodeLabel(uint32_t word) { //è·å–ä½8ä½ word \u0026= 0xff; //å¾—åˆ°ç™¾ä½æ•° uint32_t hundreds = word \u0026 0x3; hundreds = reverse_bits(hundreds, 0, 1); //å¾—åˆ°åä½æ•° uint32_t tens = (word \u003e\u003e 2) \u0026 0x7; tens = reverse_bits(tens, 0, 2); //å¾—åˆ°ä¸ªä½æ•° uint32_t ones = (word \u003e\u003e 5) \u0026 0x7; ones = reverse_bits(ones, 0, 2); return hundreds * 100 + tens * 10 + ones; } ","date":"2022-08-12","objectID":"/arinc429/:6:2","tags":["arinc429"],"title":"ARINC-429","uri":"/arinc429/"},{"categories":["aviation"],"content":"DATA ","date":"2022-08-12","objectID":"/arinc429/:7:0","tags":["arinc429"],"title":"ARINC-429","uri":"/arinc429/"},{"categories":["aviation"],"content":"å¯ä¼ è¾“çš„æ•°æ®ç±»å‹ BNR äºŒè¿›åˆ¶è¡¥ç å°æ•° BCD äºŒè¿›åˆ¶ç¼–ç åè¿›åˆ¶è¡¨ç¤ºæ³• IOS5 IOS5ç¼–ç çš„å­—æ¯ä¸æ•°å­— ç¦»æ•£é‡ å›¾å½¢: åœ¨åœ°å›¾å’Œç±»ä¼¼æ˜¾ç¤ºå™¨ä¸Šä½¿ç”¨çš„çº¿ã€åœ†ã€éšæœºå®šä½çš„å­—æ¯/æ•°å­—æ–‡æœ¬å’Œå…¶ä»–ç¬¦å·ã€‚ç”¨äºæ­¤ç›®çš„çš„æŠ€æœ¯åŸºæœ¬ä¸Šç±»ä¼¼äºç”¨äº ISO 5 å­—æ¯/æ•°å­—æ•°æ®ä¼ è¾“çš„æŠ€æœ¯ã€‚ ARINC Characteristic 744Aï¼šå…·æœ‰å›¾å½¢åŠŸèƒ½çš„å…¨æ ¼å¼æ‰“å°æœºæä¾›äº†å¯ä»¥ä½¿ç”¨ ARINC 429 ä¼ è¾“çš„é™„åŠ ä¿¡æ¯å’Œç¤ºä¾‹å›¾å½¢å­—ç¬¦ã€‚ [TODO]â€¦ ","date":"2022-08-12","objectID":"/arinc429/:7:1","tags":["arinc429"],"title":"ARINC-429","uri":"/arinc429/"},{"categories":["Blockchain"],"content":"https://solidity-by-example.org ä¸­çš„ç¬¬äºŒä¸ªç»ƒä¹ , å¹¶æ·»åŠ äº†æ³¨é‡Š ","date":"2022-08-10","objectID":"/solidity-by-exampleex002firstapplication/:0:0","tags":["solidity"],"title":"[Solidity by Example]Ex002FirstApplication","uri":"/solidity-by-exampleex002firstapplication/"},{"categories":["Blockchain"],"content":"ä¹ é¢˜ https://solidity-by-example.org/first-app/ ","date":"2022-08-10","objectID":"/solidity-by-exampleex002firstapplication/:1:0","tags":["solidity"],"title":"[Solidity by Example]Ex002FirstApplication","uri":"/solidity-by-exampleex002firstapplication/"},{"categories":["Blockchain"],"content":"æ³¨é‡Š // SPDX-License-Identifier: MIT pragma solidity ^0.8.0; contract Ex002FirstApplication { //1. // external - å¤–éƒ¨å‡½æ•°æ˜¯ç”¨æ¥è¢«å…¶ä»–åˆçº¦è°ƒç”¨çš„ã€‚å®ƒä»¬ä¸èƒ½ç”¨äºå†…éƒ¨è°ƒç”¨ã€‚è¦åœ¨åˆçº¦ä¸­è°ƒç”¨å¤–éƒ¨å‡½æ•°ï¼Œéœ€è¦è°ƒç”¨this.function_name()ã€‚çŠ¶æ€å˜é‡ä¸èƒ½è¢«æ ‡è®°ä¸ºå¤–éƒ¨å˜é‡ã€‚ // public - å…¬å…±å‡½æ•°/å˜é‡å¯ä»¥åœ¨å¤–éƒ¨å’Œå†…éƒ¨ä½¿ç”¨ã€‚å¯¹äºå…¬å…±çŠ¶æ€å˜é‡ï¼ŒSolidityè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªgetterå‡½æ•°ã€‚ // internal - å†…éƒ¨å‡½æ•°/å˜é‡åªèƒ½ç”±å†…éƒ¨æˆ–æ´¾ç”Ÿåˆçº¦ä½¿ç”¨ã€‚ // private - ç§æœ‰å‡½æ•°/å˜é‡åªèƒ½åœ¨å†…éƒ¨ä½¿ç”¨ï¼Œç”šè‡³ä¸èƒ½è¢«æ´¾ç”Ÿåˆçº¦ä½¿ç”¨ã€‚ //è¿™ä¸ªä¾‹å­ä¸­æœ‰äº†get()å‡½æ•°, å¯èƒ½countè®¾ç½®ä¸ºprivate æˆ– internal æ›´æ°å½“ //ç±»å‹ å‚è€ƒè¿™é‡Œ https://docs.soliditylang.org/en/v0.8.14/types.html // æˆ– https://solidity-cn.readthedocs.io/zh/develop/types.html uint public count; //2. // solidity ä¸­å‡½æ•°å¯ä»¥ç”¨ä½œå˜é‡èµ‹å€¼,å‚æ•°ä¼ é€’ç­‰ // å‡½æ•°åˆ†ä¸ºå†…éƒ¨/å¤–éƒ¨å‡½æ•°, ä¹Ÿå°±æ˜¯externalå’Œinternal, é»˜è®¤æ˜¯internalå¯ä»¥ä¸å†™ // pure ä¸è¯»æ•°æ®, ä¹Ÿä¸å†™æ•°æ® ä¸æ”¹å˜è™šæ‹ŸæœºçŠ¶æ€ // view è¯»æ•°æ®, ä½†ä¸å†™æ•°æ® ä¸æ”¹å˜è™šæ‹ŸæœºçŠ¶æ€ // payable æ”¯ä»˜, å†™æ•°æ® æ”¹å˜è™šæ‹ŸæœºçŠ¶æ€ // å‚è€ƒè¿™é‡Œ https://yinhui1984.github.io/å¯¹æ™ºèƒ½åˆçº¦çš„è¯»æ–¹æ³•å’Œå†™æ–¹æ³•çš„è°ƒç”¨/ function get() public view returns (uint){ return count; } //3. //ä¸å‚æ•°ç±»å‹ç›¸æ¯”ï¼Œè¿”å›ç±»å‹ä¸èƒ½ä¸ºç©ºâ€”â€”å¦‚æœå‡½æ•°ç±»å‹ä¸åº”è¯¥è¿”å›ä»»ä½•å†…å®¹ï¼Œåˆ™æ•´ä¸ªè¿”å› (\u003creturn types\u003e ) éƒ¨åˆ†å¿…é¡»çœç•¥ã€‚ //æ²¡æœ‰æ˜ç¡®æŒ‡æ˜ pure view payable åˆ™é»˜è®¤è¦æ”¹å˜è™šæ‹ŸæœºçŠ¶æ€ function inc() public { count += 1; } function dec() public { count -= 1; } } ","date":"2022-08-10","objectID":"/solidity-by-exampleex002firstapplication/:2:0","tags":["solidity"],"title":"[Solidity by Example]Ex002FirstApplication","uri":"/solidity-by-exampleex002firstapplication/"},{"categories":["Blockchain"],"content":"åˆçº¦è°ƒç”¨ import Web3 from \"web3\" import net from \"net\" import * as fs from \"fs\" const web3 = new Web3(new Web3.providers.IpcProvider(\"../mychain/data/geth.ipc\", net)) const contractName = \"Ex002FirstApplication\" const abi = JSON.parse(fs.readFileSync(\"../contracts/build/\"+contractName+\".abi\").toString()) const address = fs.readFileSync(\"../contracts/\"+contractName+\".address\").toString() const contract = new web3.eth.Contract(abi,address) async function test(){ let accounts = await web3.eth.getAccounts() let account = accounts[0] await contract.methods.get().call().then(x =\u003e console.log(\"current value:\" + x)) //å¯¹incè°ƒç”¨call(), å¹¶ä¸ä¼šç”Ÿæ•ˆ await contract.methods.inc().call().then(()=\u003e{ contract.methods.get().call().then(x =\u003e console.log(\"after call inc(), current value:\" + x)) }) //å¯¹äºæ”¹å˜çŠ¶æ€æœºçš„å‡½æ•°, è¦è°ƒç”¨send() await contract.methods.inc().send({from:account, gas:3000000}).then(()=\u003e{ contract.methods.get().call().then(x =\u003e console.log(\"after send inc(), current value:\" + x)) }) //å¦‚æœå€¼ä¸º0,å†è°ƒç”¨inc()ä¼šæŠ¥é”™ await contract.methods.dec().send({from:account, gas:3000000}).then(()=\u003e{ contract.methods.get().call().then(x =\u003e console.log(\"after send dec(), current value:\" + x)) }).catch(e =\u003e console.log(\"\\n\\ncatch an error : \\n \"+e)) return new Promise((resolve) =\u003e { setTimeout(()=\u003e{ resolve() } , 5000) }) } test().then(()=\u003e{ process.exit(0) }) ","date":"2022-08-10","objectID":"/solidity-by-exampleex002firstapplication/:3:0","tags":["solidity"],"title":"[Solidity by Example]Ex002FirstApplication","uri":"/solidity-by-exampleex002firstapplication/"},{"categories":["Blockchain"],"content":"è¾“å‡º current value:0 after call inc(), current value:0 after send inc(), current value:1 after send dec(), current value:0 ","date":"2022-08-10","objectID":"/solidity-by-exampleex002firstapplication/:4:0","tags":["solidity"],"title":"[Solidity by Example]Ex002FirstApplication","uri":"/solidity-by-exampleex002firstapplication/"},{"categories":["Blockchain"],"content":"github https://github.com/yinhui1984/Explain-of-Solidity-by-Example ","date":"2022-08-10","objectID":"/solidity-by-exampleex002firstapplication/:5:0","tags":["solidity"],"title":"[Solidity by Example]Ex002FirstApplication","uri":"/solidity-by-exampleex002firstapplication/"},{"categories":["Blockchain"],"content":"https://solidity-by-example.org ä¸­çš„ç¬¬ä¸€ä¸ªç»ƒä¹ , å¹¶æ·»åŠ äº†æ³¨é‡Š ","date":"2022-08-10","objectID":"/solidity-by-exampleex001helloworld/:0:0","tags":["solidity"],"title":"[Solidity by Example]Ex001HelloWorld","uri":"/solidity-by-exampleex001helloworld/"},{"categories":["Blockchain"],"content":"ä¹ é¢˜: https://solidity-by-example.org/hello-world/ ","date":"2022-08-10","objectID":"/solidity-by-exampleex001helloworld/:1:0","tags":["solidity"],"title":"[Solidity by Example]Ex001HelloWorld","uri":"/solidity-by-exampleex001helloworld/"},{"categories":["Blockchain"],"content":"æ³¨é‡Š // SPDX-License-Identifier: MIT pragma solidity ^0.8.0; //1. // è®¸å¯è¯æ ‡è¯†ç¬¦ SPDX-License-xxx: xxx // Solidity 0.6.8 å¼•å…¥äº† SPDX è®¸å¯è¯æ ‡è¯†ç¬¦ï¼Œå› æ­¤å¼€å‘äººå‘˜å¯ä»¥æŒ‡å®šåˆçº¦ä½¿ç”¨çš„è®¸å¯è¯ ã€‚ // è®¸å¯è¯åˆ—è¡¨å‚è€ƒè¿™ä¸ªè¡¨ https://spdx.org/licenses/ // å¦‚æœè®¸å¯è¯æ ‡è¯†ç¬¦æœªåŒ…å«åœ¨åˆçº¦æ–‡ä»¶ä¸­ï¼Œç¼–è¯‘å™¨ç°åœ¨å°†æ˜¾ç¤ºè­¦å‘Š // å¦‚æœåŒ…å«äº†å¤šä¸ªè®¸å¯è¯æ ‡è¯†ç¬¦ï¼Œç¼–è¯‘å™¨å°†æŠ¥é”™ //2. // pragma solidity xxx // pragma solidity ç”¨äºæŒ‡å®šåˆçº¦çš„ Solidity ç¼–è¯‘å™¨ç‰ˆæœ¬ // å¦‚æœæŒ‡å®šäº†ä¸æ”¯æŒçš„ Solidity ç‰ˆæœ¬ï¼Œç¼–è¯‘å™¨å°†æŠ¥é”™ // å¦‚æœæŒ‡å®šäº†å¤šä¸ª Solidity ç‰ˆæœ¬ï¼Œç¼–è¯‘å™¨å°†æŠ¥é”™ // å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œåˆ™ä½¿ç”¨é»˜è®¤çš„ Solidity ç‰ˆæœ¬ // pragma æŒ‡ä»¤å§‹ç»ˆä½äºæºæ–‡ä»¶çš„æœ¬åœ°ï¼Œå› æ­¤å¦‚æœè¦åœ¨æ•´ä¸ªé¡¹ç›®ä¸­å¯ç”¨å®ƒï¼Œåˆ™å¿…é¡»å°† pragma æ·»åŠ åˆ°æ‰€æœ‰æ–‡ä»¶ä¸­ã€‚ // å¦‚æœæ‚¨å¯¼å…¥å¦ä¸€ä¸ªæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä¸­çš„ç¼–è¯‘æŒ‡ç¤ºä¸ä¼šè‡ªåŠ¨åº”ç”¨äºå¯¼å…¥æ–‡ä»¶ã€‚ // ä¾‹å­: //pragma solidity 0.6.12 - åªç”¨0.6.12ç‰ˆæœ¬çš„ç¼–è¯‘å™¨ç¼–è¯‘ //pragma solidity ^0.6.12 - å¤§äºç­‰äº0.6.12ç‰ˆæœ¬, ä½†å°äº0.7.0ç‰ˆæœ¬çš„ç¼–è¯‘å™¨ //pragma solidity \u003e=0.4.0 \u003c0.6.0 - åœ¨ å¤§äºç­‰äº0.4.0 å’Œ å°äº0.6.0ä¹‹é—´çš„ç¼–è¯‘å™¨éƒ½å¯ä»¥ //3. // contract XXX // åˆçº¦å£°æ˜, Solidityåˆçº¦æ˜¯ä¸€ä¸ªä»£ç ï¼ˆå…¶åŠŸèƒ½ï¼‰å’Œæ•°æ®ï¼ˆå…¶çŠ¶æ€ï¼‰çš„é›†åˆã€‚éƒ¨ç½²åå…¶ä¼šé©»ç•™åœ¨åŒºå—é“¾ä¸Šçš„ä¸€ä¸ªåœ°å€ä¸Š. //4. // string public greet = \"Hello World!\"; å£°æ˜äº†ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡, å‚è€ƒè¿™é‡Œ https://www.tutorialspoint.com/solidity/solidity_strings.htm // external - å¤–éƒ¨å‡½æ•°æ˜¯ç”¨æ¥è¢«å…¶ä»–åˆçº¦è°ƒç”¨çš„ã€‚å®ƒä»¬ä¸èƒ½ç”¨äºå†…éƒ¨è°ƒç”¨ã€‚è¦åœ¨åˆçº¦ä¸­è°ƒç”¨å¤–éƒ¨å‡½æ•°ï¼Œéœ€è¦è°ƒç”¨this.function_name()ã€‚çŠ¶æ€å˜é‡ä¸èƒ½è¢«æ ‡è®°ä¸ºå¤–éƒ¨å˜é‡ã€‚ // public - å…¬å…±å‡½æ•°/å˜é‡å¯ä»¥åœ¨å¤–éƒ¨å’Œå†…éƒ¨ä½¿ç”¨ã€‚å¯¹äºå…¬å…±çŠ¶æ€å˜é‡ï¼ŒSolidityè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªgetterå‡½æ•°ã€‚ // internal - å†…éƒ¨å‡½æ•°/å˜é‡åªèƒ½ç”±å†…éƒ¨æˆ–æ´¾ç”Ÿåˆçº¦ä½¿ç”¨ã€‚ // private - ç§æœ‰å‡½æ•°/å˜é‡åªèƒ½åœ¨å†…éƒ¨ä½¿ç”¨ï¼Œç”šè‡³ä¸èƒ½è¢«æ´¾ç”Ÿåˆçº¦ä½¿ç”¨ã€‚ contract Ex001HelloWorld { string public greet = \"Hello World!\"; } ","date":"2022-08-10","objectID":"/solidity-by-exampleex001helloworld/:2:0","tags":["solidity"],"title":"[Solidity by Example]Ex001HelloWorld","uri":"/solidity-by-exampleex001helloworld/"},{"categories":["Blockchain"],"content":"åˆçº¦è°ƒç”¨ import Web3 from \"web3\"; import net from \"net\"; import * as fs from \"fs\"; const web3 = new Web3(new Web3.providers.IpcProvider(\"../mychain/data/geth.ipc\", net)); const contractName = \"Ex001HelloWorld\"; // read the contract abi from the file let abi = JSON.parse(fs.readFileSync(\"../contracts/build/\"+contractName+\".abi\").toString()); // read the contract address from the file const address = fs.readFileSync(\"../contracts/\"+contractName+\".address\").toString(); // create the contract object const contract = new web3.eth.Contract(abi, address); // get the value of the field \"greet\" contract.methods.greet.call().call().then((e) =\u003e { console.log(e); process.exit(0); }); ","date":"2022-08-10","objectID":"/solidity-by-exampleex001helloworld/:3:0","tags":["solidity"],"title":"[Solidity by Example]Ex001HelloWorld","uri":"/solidity-by-exampleex001helloworld/"},{"categories":["Blockchain"],"content":"Github https://github.com/yinhui1984/Explain-of-Solidity-by-Example ","date":"2022-08-10","objectID":"/solidity-by-exampleex001helloworld/:4:0","tags":["solidity"],"title":"[Solidity by Example]Ex001HelloWorld","uri":"/solidity-by-exampleex001helloworld/"},{"categories":["windows"],"content":"å¦‚ä½•ä½¿ç”¨Visual Studioè¿›è¡ŒC++é¡¹ç›®è¿œç¨‹è°ƒè¯• è¿™é‡Œè¯´çš„æ˜¯VS, ä¸æ˜¯VS Code ","date":"2022-07-27","objectID":"/visutal-studio-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/:0:0","tags":["vs","vc++"],"title":"Visual Studio VC++ è¿œç¨‹è°ƒè¯•","uri":"/visutal-studio-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/"},{"categories":["windows"],"content":"æ™®é€šçš„å®è·µ ä¸€èˆ¬çš„æ€è·¯æ˜¯, åœ¨è¿œç¨‹æœºå™¨ä¸Šå®‰è£…VSè¿œç¨‹è°ƒè¯•å·¥å…·. å°†è°ƒè¯•æ–‡ä»¶æ‹·è´åˆ°è¿œç¨‹æœºå™¨. ä½†è¿™ä¼šå¸¦æ¥ä¸€ä¸‹é—®é¢˜ æœ¬åœ°æœºå™¨ä¿®æ”¹äº†ä»£ç ,é‡æ–°ç¼–è¯‘åéœ€è¦é‡æ–°æ‹·è´åˆ°è¿œç¨‹æœºå™¨ å¦‚æœå°†ä»£ç æ”¾åœ¨è¿œç¨‹, æœ¬æœºè®¿é—®è¿œç¨‹æœºå™¨çš„å…±äº«æ–‡ä»¶å¤¹è¿›è¡Œç¼–ç , ç„¶åç¼–è¯‘. ä¼šå¸¦æ¥é—®é¢˜: å¦‚æœç¼–è¯‘çš„é¡¹ç›®ç¨å¤§, ç¼–è¯‘è¶…æ…¢. hotloadæ›´æ˜¯æ²¡æ³•ç”¨ ","date":"2022-07-27","objectID":"/visutal-studio-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/:1:0","tags":["vs","vc++"],"title":"Visual Studio VC++ è¿œç¨‹è°ƒè¯•","uri":"/visutal-studio-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/"},{"categories":["windows"],"content":"æœ€ä½³å®è·µ æ€è·¯: æœ¬åœ°æœºå™¨å…±äº«æ–‡ä»¶å¤¹, è¿œç¨‹æœºå™¨å…¬å…±è®¿é—®å…±äº«æ–‡ä»¶å¤¹æ¥è¿è¡Œç¨‹åº. è¿™æ ·ç¡®ä¿ç¼–è¯‘å’Œè¿è¡Œåœ¨åŒä¸€ç›®å½•. ä¿®æ”¹ä»£ç ,ç¼–è¯‘,è°ƒè¯•æ•ˆç‡å°±ä¼šé«˜å¾ˆå¤š. ","date":"2022-07-27","objectID":"/visutal-studio-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/:2:0","tags":["vs","vc++"],"title":"Visual Studio VC++ è¿œç¨‹è°ƒè¯•","uri":"/visutal-studio-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/"},{"categories":["windows"],"content":"æ‹·è´remote debuger åˆ°VSçš„å®‰è£…ç›®å½•ä¸‹æ‹·è´remote debuger C:\\Program Files\\Microsoft Visual Studio xxx\\Common7\\IDE\\Remote Debugger å‡è®¾ä¸‹é¢ä½ çš„ç›®å½•ç»“æ„å¦‚ä¸‹: ./to_debug â”œâ”€â”€ RemoteDebugger â”‚Â â””â”€â”€ x64 â”‚Â â””â”€â”€ msvsmon.exe â””â”€â”€ my_code â””â”€â”€ debug â””â”€â”€ app.exe ","date":"2022-07-27","objectID":"/visutal-studio-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/:2:1","tags":["vs","vc++"],"title":"Visual Studio VC++ è¿œç¨‹è°ƒè¯•","uri":"/visutal-studio-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/"},{"categories":["windows"],"content":"å…±äº«ç›®å½• å°†to_debugç›®å½•å…±äº«, ç¡®ä¿è¿œç¨‹æœºå™¨èƒ½è®¿é—®æ”¹å…±äº«ç›®å½• å‡è®¾æœ¬åœ°ipä¸º192.168.0.200 è¿œç¨‹æœºå™¨å¯ä»¥ \\\\192.168.0.200\\to_debug ","date":"2022-07-27","objectID":"/visutal-studio-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/:2:2","tags":["vs","vc++"],"title":"Visual Studio VC++ è¿œç¨‹è°ƒè¯•","uri":"/visutal-studio-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/"},{"categories":["windows"],"content":"è¿è¡Œmsvsmon.exe åœ¨è¿œç¨‹æœºå™¨ä¸Šè®¿é—®å…±äº«æ–‡ä»¶å¤¹, ç„¶åè¿è¡Œmsvsmon.exe ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶ä¼šå¼¹çª—, æŠŠèƒ½å‹¾ä¸Šçš„å…¨å‹¾ä¸Š.ç„¶ååœ¨è®¾ç½®ä¸­é€‰æ‹©â€™æ— éœ€æˆæƒéªŒè¯â€™å’Œâ€™è¶…æ—¶æ—¶é—´â€™è®¾ç½®ä¸º0 , 0è¡¨ç¤ºä¸è¶…æ—¶. è¿è¡Œå, ä¼šçœ‹åˆ°: MSvsoonå¯åŠ¨äº†åä¸ºXXXXçš„æ–°æœåŠ¡å™¨ XXXXæ˜¯æœåŠ¡å™¨åç§°å’Œç«¯å£, ç­‰ä¼šå„¿ä¼šç”¨åˆ° ","date":"2022-07-27","objectID":"/visutal-studio-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/:2:3","tags":["vs","vc++"],"title":"Visual Studio VC++ è¿œç¨‹è°ƒè¯•","uri":"/visutal-studio-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/"},{"categories":["windows"],"content":"é…ç½®é¡¹ç›® åœ¨VSè§£å†³æ–¹æ¡ˆèµ„æºç®¡ç†å™¨ä¸­, å³é”®ç”¨åšå¯åŠ¨é¡¹ç›®çš„å±æ€§ é…ç½®å±æ€§ â€“\u003e è°ƒè¯• â€“\u003eè¿œç¨‹Windowsè°ƒè¯•å™¨ é…ç½®: è¿œç¨‹å‘½ä»¤: åœ¨è¿œç¨‹è®¡ç®—æœºä¸Šå¦‚ä½•è¿è¡Œçš„ä½ ç¨‹åº. æˆ‘ä»¬è¿œç¨‹æœºå™¨é€šè¿‡è®¿é—®æœ¬åœ°æœºå™¨çš„å…±äº«ç›®å½•æ¥è®¿é—®, æ‰€ä»¥å¡«å†™ \\\\192.168.0.200\\to_debug\\mycode\\debug\\app.exe å·¥ä½œç›®å½•\\\\192.168.0.200\\to_debug\\mycode\\debug è¿œç¨‹æœåŠ¡åç§°: XXXX å°±æ˜¯ä¸Šä¸€æ­¥ä¸­çš„æœåŠ¡åç§°å’Œç«¯å£, ä¾‹å¦‚ ADMIN-PC:4026 éƒ¨ç½²ç›®å½•, æ— éœ€å¡«å†™, æˆ‘ä»¬ä¸éœ€è¦éƒ¨ç½²å’Œæ‹·è´, å› ä¸ºç¼–è¯‘å’Œè¿è¡Œæœ¬æ¥å°±åœ¨åŒä¸€ç›®å½• ","date":"2022-07-27","objectID":"/visutal-studio-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/:2:4","tags":["vs","vc++"],"title":"Visual Studio VC++ è¿œç¨‹è°ƒè¯•","uri":"/visutal-studio-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/"},{"categories":["windows"],"content":"è°ƒè¯• å¹³æ—¶æˆ‘ä»¬è°ƒè¯•æ—¶ç»¿è‰²ç®­å¤´æ—è¾¹é€‰æ‹©çš„æ—¶æœ¬åœ°è°ƒè¯•å™¨, è¿™é‡Œåˆ‡æ¢æˆè¿œç¨‹Windowsè°ƒè¯•å™¨ ","date":"2022-07-27","objectID":"/visutal-studio-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/:2:5","tags":["vs","vc++"],"title":"Visual Studio VC++ è¿œç¨‹è°ƒè¯•","uri":"/visutal-studio-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/"},{"categories":["golang"],"content":"goè¯­è¨€å†™çš„ä¸€ä¸ªæ–‡ä»¶ä¸‹è½½è„šæœ¬ æ™šä¸Šæƒ³å¬ç‚¹æœ‰å£°å°è¯´, è¦ä¸¤æ¯›ä¸€é›†, ç®—äº†ä¸€ä¸‹,ä¸€æœ¬ä¹¦è¦å‡ ç™¾å—, å›Šä¸­ç¾æ¶©, äºæ˜¯æ‹¿å‡ºç”µè„‘æä¸ªè„šæœ¬ ","date":"2022-07-22","objectID":"/golang%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/:0:0","tags":["http","crawler"],"title":"Golangæ–‡ä»¶ä¸‹è½½","uri":"/golang%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/"},{"categories":["golang"],"content":"å•åç¨‹ä¸‹è½½ package main import ( \"bufio\" \"io\" \"log\" \"net/http\" \"os\" ) func download(title string) { outputFile := \"./output/\" + title // if file exists, skip if _, err := os.Stat(outputFile); err == nil { log.Println(\"File exists, skip: \", outputFile) return } url := \"https://é©¬èµ›å…‹xxxx/ç‰§ç¥è®°/\" + title log.Println(\"Downloading: \", url) resp, err := http.Get(url) if err != nil { log.Println(\"error:\" + err.Error()) } defer func(Body io.ReadCloser) { err := Body.Close() if err != nil { log.Println(\"close body error:\" + err.Error()) } }(resp.Body) file, err := os.OpenFile(outputFile, os.O_CREATE|os.O_WRONLY, 0644) if err != nil { panic(err) } defer func(file *os.File) { err := file.Close() if err != nil { log.Println(\"close file error:\" + err.Error()) } }(file) _, err = io.Copy(file, resp.Body) if err != nil { log.Println(\"copy file error:\" + err.Error()) } //è²Œä¼¼ä¸ä¼šå°IP, å¦‚æœå°ipå¯ä»¥ä½¿ç”¨ https://github.com/Python3WebSpider/ProxyPool //time.Sleep(time.Second * 3) } func main() { //mp3list.txt ä»ç½‘ç«™ä¸»é¡µå¤åˆ¶çš„å°è¯´æ¯ä¸€é›†çš„æ ‡é¢˜åˆ—è¡¨ //0001_å¤©é»‘åˆ«å‡ºé—¨.mp3 //0002_å››çµè¡€.mp3 //0003_ç¥é€š.mp3 //... //çœç•¥æ•°åƒè¡Œ file, err := os.Open(\"mp3list.txt\") if err != nil { panic(err) } defer func(file *os.File) { _ = file.Close() }(file) //read file line by line scanner := bufio.NewScanner(file) for scanner.Scan() { title := scanner.Text() //download file download(title) } } ","date":"2022-07-22","objectID":"/golang%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/:1:0","tags":["http","crawler"],"title":"Golangæ–‡ä»¶ä¸‹è½½","uri":"/golang%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/"},{"categories":["golang"],"content":"å¤šåç¨‹ä¸‹è½½ æ„Ÿè§‰å•åç¨‹å¤ªæ…¢, 20ä¸ªåç¨‹åŒæ—¶ä¸‹è½½å¤šçˆ½â€¦ golangå®ç°èµ·æ¥è¶…çº§ç®€å• ","date":"2022-07-22","objectID":"/golang%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/:2:0","tags":["http","crawler"],"title":"Golangæ–‡ä»¶ä¸‹è½½","uri":"/golang%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/"},{"categories":["golang"],"content":"golang chan æä¸€ä¸ªé˜Ÿåˆ— var queue = make(chan int, 20) ä¸‹è½½å‰å‘é˜Ÿåˆ—é‡Œæ”¾ä¸€ä¸ªå…ƒç´  //download file queue \u003c- 1 go download(title) é˜Ÿåˆ—æœ€å¤šæ”¾20ä¸ªå°±ä¼šé˜»å¡ ä¸‹è½½å®Œæˆæˆ–skipæ—¶å°±ä»é˜Ÿåˆ—ä¸­å¼¹å‡º // if file exists, skip if _, err := os.Stat(outputFile); err == nil { log.Println(\"File exists, skip: \", outputFile) \u003c-queue return } //download finish \u003c-queue é˜Ÿåˆ—ä¸ºç©ºæ—¶, è¡¨ç¤ºä¸‹è½½å®Œæˆ, ç¨‹åºé€€å‡º for true { time.Sleep(time.Second * 2) //if queue is empty, exit if len(queue) == 0 { break } } ","date":"2022-07-22","objectID":"/golang%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/:2:1","tags":["http","crawler"],"title":"Golangæ–‡ä»¶ä¸‹è½½","uri":"/golang%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/"},{"categories":["golang"],"content":"å®Œæ•´ä»£ç  package main import ( \"bufio\" \"io\" \"log\" \"net/http\" \"os\" \"time\" ) var queue = make(chan int, 20) func download(title string) { outputFile := \"./output/\" + title // if file exists, skip if _, err := os.Stat(outputFile); err == nil { log.Println(\"File exists, skip: \", outputFile) \u003c-queue return } url := \"https://é©¬èµ›å…‹xxxx/ç‰§ç¥è®°/\" + title log.Println(\"Downloading: \", url) resp, err := http.Get(url) if err != nil { log.Println(\"error:\" + err.Error()) } defer func(Body io.ReadCloser) { err := Body.Close() if err != nil { log.Println(\"close body error:\" + err.Error()) } }(resp.Body) file, err := os.OpenFile(outputFile, os.O_CREATE|os.O_WRONLY, 0644) if err != nil { panic(err) } defer func(file *os.File) { err := file.Close() if err != nil { log.Println(\"close file error:\" + err.Error()) } }(file) _, err = io.Copy(file, resp.Body) if err != nil { log.Println(\"copy file error:\" + err.Error()) } //è²Œä¼¼ä¸ä¼šå°IP, å¦‚æœå°ipå¯ä»¥ä½¿ç”¨ https://github.com/Python3WebSpider/ProxyPool //time.Sleep(time.Second * 3) //download finish \u003c-queue } func main() { //open file mp3list.txt file, err := os.Open(\"mp3list.txt\") if err != nil { panic(err) } defer func(file *os.File) { _ = file.Close() }(file) //read file line by line scanner := bufio.NewScanner(file) for scanner.Scan() { title := scanner.Text() //download file queue \u003c- 1 go download(title) } for true { time.Sleep(time.Second * 2) //if queue is empty, exit if len(queue) == 0 { break } } } ","date":"2022-07-22","objectID":"/golang%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/:2:2","tags":["http","crawler"],"title":"Golangæ–‡ä»¶ä¸‹è½½","uri":"/golang%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/"},{"categories":["golang"],"content":"ä»£ç†æ±  æˆ‘æœ¬æ¬¡é‡åˆ°çš„ç½‘ç«™å¹¶æ²¡æœ‰WAF (Web Application Firewall), æ‰€ä»¥å¯ä»¥ç‹‚ä¸‹è½½ å¦‚æœé‡åˆ°è¢«å°IPçš„æƒ…å†µ, å¯ä»¥ä½¿ç”¨ä»£ç†æ± : https://github.com/Python3WebSpider/ProxyPool ","date":"2022-07-22","objectID":"/golang%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/:2:3","tags":["http","crawler"],"title":"Golangæ–‡ä»¶ä¸‹è½½","uri":"/golang%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/"},{"categories":["golang"],"content":"æ·±å…¥ç†è§£ æ¬¢è¿é˜…è¯»æœ¬åšå®¢ä¸­çš„ goè¯­è¨€ä¸­channelæ˜¯å¦‚ä½•å·¥ä½œçš„ ","date":"2022-07-22","objectID":"/golang%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/:3:0","tags":["http","crawler"],"title":"Golangæ–‡ä»¶ä¸‹è½½","uri":"/golang%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/"},{"categories":["golang"],"content":"delveå°±æ˜¯goè¯­è¨€çš„gdb delveå°±æ˜¯goè¯­è¨€çš„gdb,è™½ç„¶ gdbä¹Ÿå¯ä»¥è°ƒè¯•goç¨‹åº (https://go.dev/doc/gdb). ä½†æ˜¯, ç”¨gdbè°ƒè¯•goç¨‹åºæœ‰è¿™äº›å·²çŸ¥é—®é¢˜: å·²çŸ¥é—®é¢˜ å­—ç¬¦ä¸²pretty printing åªå¯¹å­—ç¬¦ä¸²ç±»å‹è§¦å‘ï¼Œè€Œä¸æ˜¯å¯¹å…¶æ´¾ç”Ÿç±»å‹ã€‚ è¿è¡Œåº“çš„ C éƒ¨åˆ†ç¼ºå°‘ç±»å‹ä¿¡æ¯ã€‚ GDB ä¸ç†è§£ Go çš„åç§°èµ„æ ¼ï¼Œå¹¶å°† â€œfmt.Print â€œè§†ä¸ºå¸¦æœ‰â€. â€œçš„éç»“æ„åŒ–å­—é¢ï¼Œéœ€è¦åŠ ä»¥å¼•å·ã€‚å®ƒå¯¹pkg.(*MyType).Methå½¢å¼çš„æ–¹æ³•ååå¯¹å¾—æ›´å‰å®³ã€‚ ä»Go 1.11å¼€å§‹ï¼Œè°ƒè¯•ä¿¡æ¯é»˜è®¤æ˜¯å‹ç¼©çš„ã€‚æ—§ç‰ˆæœ¬çš„gdbï¼Œä¾‹å¦‚MacOSä¸Šé»˜è®¤æä¾›çš„ç‰ˆæœ¬ï¼Œå¹¶ä¸ç†è§£å‹ç¼©ã€‚ä½ å¯ä»¥ä½¿ç”¨go build -ldflags=-compressdwarf=falseæ¥ç”Ÿæˆæœªå‹ç¼©çš„è°ƒè¯•ä¿¡æ¯ã€‚(ä¸ºäº†æ–¹ä¾¿ï¼Œä½ å¯ä»¥æŠŠ-ldflagsé€‰é¡¹æ”¾åœ¨GOFLAGSç¯å¢ƒå˜é‡ä¸­ï¼Œè¿™æ ·ä½ å°±ä¸å¿…æ¯æ¬¡éƒ½æŒ‡å®šå®ƒ)ã€‚ ä½¿ç”¨ delve https://github.com/go-delve/delve æ›´ç®€å•èˆ’é€‚ ","date":"2022-07-22","objectID":"/%E4%BD%BF%E7%94%A8delve%E5%AF%B9go%E4%BB%A3%E7%A0%81%E8%BF%9B%E8%A1%8C%E8%B0%83%E8%AF%95/:0:0","tags":["delev","gdb"],"title":"ä½¿ç”¨delveå¯¹goä»£ç è¿›è¡Œè°ƒè¯•","uri":"/%E4%BD%BF%E7%94%A8delve%E5%AF%B9go%E4%BB%A3%E7%A0%81%E8%BF%9B%E8%A1%8C%E8%B0%83%E8%AF%95/"},{"categories":["golang"],"content":"é¦–æ¬¡å®‰è£… go install github.com/go-delve/delve/cmd/dlv@latest ","date":"2022-07-22","objectID":"/%E4%BD%BF%E7%94%A8delve%E5%AF%B9go%E4%BB%A3%E7%A0%81%E8%BF%9B%E8%A1%8C%E8%B0%83%E8%AF%95/:1:0","tags":["delev","gdb"],"title":"ä½¿ç”¨delveå¯¹goä»£ç è¿›è¡Œè°ƒè¯•","uri":"/%E4%BD%BF%E7%94%A8delve%E5%AF%B9go%E4%BB%A3%E7%A0%81%E8%BF%9B%E8%A1%8C%E8%B0%83%E8%AF%95/"},{"categories":["golang"],"content":"åŸºæœ¬ä½¿ç”¨ å¦‚æœæ˜¯è°ƒè¯•ä¸»ç¨‹åº, cdåˆ°main.goæ‰€åœ¨ç›®å½•, è¿è¡Œ dlv debug å¦‚æœæ˜¯è°ƒè¯•æµ‹è¯•ä»£ç , cdåˆ°*_test.goæ‰€åœ¨ç›®å½•, è¿è¡Œ dlv test ç„¶å å’Œ gdbç”¨æ³•ç±»ä¼¼ break: æ‰“æ–­ç‚¹ b packageName.functionName æˆ– b fileName:lineNumber æ¯”å¦‚ b main.Add, b main.main continue: å¼€å§‹æ‰§è¡Œæˆ–ç»§ç»­æ‰§è¡Œ c (å¼€å§‹æ‰§è¡Œä¹Ÿç”¨c) next :æ‰§è¡Œä¸‹ä¸€è¡Œ n step: å•æ­¥è¿›å…¥ s stepout: å•æ­¥é€€å‡ºso print:æ‰“å° p thevar quité€€å‡ºè°ƒè¯• q æ›´å¤šçš„ https://github.com/go-delve/delve/blob/master/Documentation/cli/README.md ","date":"2022-07-22","objectID":"/%E4%BD%BF%E7%94%A8delve%E5%AF%B9go%E4%BB%A3%E7%A0%81%E8%BF%9B%E8%A1%8C%E8%B0%83%E8%AF%95/:2:0","tags":["delev","gdb"],"title":"ä½¿ç”¨delveå¯¹goä»£ç è¿›è¡Œè°ƒè¯•","uri":"/%E4%BD%BF%E7%94%A8delve%E5%AF%B9go%E4%BB%A3%E7%A0%81%E8%BF%9B%E8%A1%8C%E8%B0%83%E8%AF%95/"},{"categories":["golang"],"content":"é«˜çº§ä½¿ç”¨ dlv attach - é™„åŠ åˆ°æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹å¹¶å¼€å§‹è°ƒè¯•ã€‚ dlv connect - ç”¨ç»ˆç«¯å®¢æˆ·ç«¯è¿æ¥åˆ°headless debug serverã€‚ dlv core - æ£€æŸ¥ä¸€ä¸ªæ ¸å¿ƒè½¬å‚¨ã€‚ dlv dap - å¯åŠ¨ä¸€ä¸ªé€šè¿‡è°ƒè¯•é€‚é…å™¨åè®®ï¼ˆDAPï¼‰é€šä¿¡çš„æ— å¤´TCPæœåŠ¡å™¨ã€‚ dlv debug - ç¼–è¯‘å¹¶å¼€å§‹è°ƒè¯•å½“å‰ç›®å½•ä¸‹çš„ä¸»åŒ…ï¼Œæˆ–æŒ‡å®šçš„åŒ…ã€‚ dlv exec - æ‰§è¡Œä¸€ä¸ªé¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶å¼€å§‹ä¸€ä¸ªè°ƒè¯•ä¼šè¯ã€‚ dlv replay - å›æ”¾ä¸€ä¸ªrrè·Ÿè¸ªã€‚ dlv run - åºŸå¼ƒçš„å‘½ä»¤ã€‚ä½¿ç”¨â€™debugâ€™ä»£æ›¿ã€‚ dlv test - ç¼–è¯‘æµ‹è¯•äºŒè¿›åˆ¶æ–‡ä»¶å¹¶å¼€å§‹è°ƒè¯•ç¨‹åºã€‚ dlv trace - ç¼–è¯‘å¹¶å¼€å§‹è¿½è¸ªç¨‹åºã€‚ dlv version - æ‰“å°ç‰ˆæœ¬ã€‚ dlv log - å…³äºè®°å½•æ ‡è®°çš„å¸®åŠ© dlv backend - --backend flagçš„å¸®åŠ© ","date":"2022-07-22","objectID":"/%E4%BD%BF%E7%94%A8delve%E5%AF%B9go%E4%BB%A3%E7%A0%81%E8%BF%9B%E8%A1%8C%E8%B0%83%E8%AF%95/:3:0","tags":["delev","gdb"],"title":"ä½¿ç”¨delveå¯¹goä»£ç è¿›è¡Œè°ƒè¯•","uri":"/%E4%BD%BF%E7%94%A8delve%E5%AF%B9go%E4%BB%A3%E7%A0%81%E8%BF%9B%E8%A1%8C%E8%B0%83%E8%AF%95/"},{"categories":["golang"],"content":"ä¸€ä¸ªç®€å•çš„äº‹ä»¶å¤„ç†ç¨‹åº demoç›®å½•ç»“æ„ . â”œâ”€â”€ events â”‚Â â””â”€â”€ event.go â”œâ”€â”€ go.mod â””â”€â”€ main.go ","date":"2022-07-22","objectID":"/golang%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F/:0:0","tags":["event"],"title":"Golangå®ç°ä¸€ä¸ªç®€å•çš„äº‹ä»¶å¤„ç†ç¨‹åº","uri":"/golang%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F/"},{"categories":["golang"],"content":"event.go package events type EventHandler func(event Event) type Event interface { GetName() string GetData() interface{} } type EventBus struct { handlers map[string]EventHandler } func NewEventBus() *EventBus { return \u0026EventBus{ handlers: make(map[string]EventHandler), } } func (bus *EventBus) Register(name string, handler EventHandler) { bus.handlers[name] = handler } func (bus *EventBus) Dispatch(event Event) { if handler, ok := bus.handlers[event.GetName()]; ok { handler(event) } } func (bus *EventBus) DispatchAsync(event Event) { go bus.Dispatch(event) } var defaultEventBus *EventBus = nil func init() { if defaultEventBus == nil { defaultEventBus = NewEventBus() } } func DefaultEventBus() *EventBus { return defaultEventBus } ","date":"2022-07-22","objectID":"/golang%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F/:1:0","tags":["event"],"title":"Golangå®ç°ä¸€ä¸ªç®€å•çš„äº‹ä»¶å¤„ç†ç¨‹åº","uri":"/golang%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F/"},{"categories":["golang"],"content":"demo ","date":"2022-07-22","objectID":"/golang%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F/:2:0","tags":["event"],"title":"Golangå®ç°ä¸€ä¸ªç®€å•çš„äº‹ä»¶å¤„ç†ç¨‹åº","uri":"/golang%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F/"},{"categories":["golang"],"content":"login.go ä¸€ä¸ªtickeräº‹ä»¶ const TickEventName = \"TickerEvent\" type TickerEvent struct { } func (e TickerEvent) GetName() string { return TickEventName } func (e TickerEvent) GetData() interface{} { return time.Now() } ","date":"2022-07-22","objectID":"/golang%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F/:2:1","tags":["event"],"title":"Golangå®ç°ä¸€ä¸ªç®€å•çš„äº‹ä»¶å¤„ç†ç¨‹åº","uri":"/golang%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F/"},{"categories":["golang"],"content":"main.go package main import ( \"fmt\" \"simpleEvent/events\" \"time\" ) const TickEventName = \"TickerEvent\" type TickerEvent struct { } func (e TickerEvent) GetName() string { return TickEventName } func (e TickerEvent) GetData() interface{} { return time.Now() } func makeEvents() { ticker := time.NewTicker(time.Second * 1) for true { \u003c-ticker.C //è§¦å‘äº‹ä»¶ events.DefaultEventBus().DispatchAsync(TickerEvent{}) } } func main() { go makeEvents() //ç›‘å¬äº‹ä»¶ events.DefaultEventBus().Register(TickEventName, func(e events.Event) { fmt.Println(\"event received:\", e.GetData()) }) for true { time.Sleep(time.Second * 10) } } è¾“å‡º: event received: 2022-08-08 11:22:48.61607 +0800 CST m=+1.000275696 event received: 2022-08-08 11:22:49.616192 +0800 CST m=+2.000391077 event received: 2022-08-08 11:22:50.616163 +0800 CST m=+3.000355464 event received: 2022-08-08 11:22:51.616159 +0800 CST m=+4.000344450 event received: 2022-08-08 11:22:52.616195 +0800 CST m=+5.000373565 ... ","date":"2022-07-22","objectID":"/golang%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F/:2:2","tags":["event"],"title":"Golangå®ç°ä¸€ä¸ªç®€å•çš„äº‹ä»¶å¤„ç†ç¨‹åº","uri":"/golang%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F/"},{"categories":["windows"],"content":"å¦‚ä½•è®©MFCçª—ä½“ç¨‹åºå¼¹å‡ºå‘½ä»¤è¡Œçª—å£å¹¶æ‰“å°æ—¥å¿—è¾“å‡º ä¹ æƒ¯äº†linuxä¸Šè¿è¡Œç¨‹åºæ—¶åœ¨terminalä¸­æŸ¥çœ‹æ‰“å°çš„æ—¥å¿—. ä½†åœ¨MFCçª—å£ç¨‹åºä¸­å´ä¸è¡Œ. æŠ˜è…¾äº†ä¸€ä¸‹, ç»“æœå¦‚ä¸‹ ","date":"2022-07-13","objectID":"/mfc%E7%AA%97%E4%BD%93%E7%A8%8B%E5%BA%8F%E5%BC%B9%E5%87%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AA%97%E5%8F%A3%E6%98%BE%E7%A4%BA%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA/:0:0","tags":["vc++"],"title":"MFCçª—ä½“ç¨‹åºå¼¹å‡ºå‘½ä»¤è¡Œçª—å£æ˜¾ç¤ºæ—¥å¿—è¾“å‡º","uri":"/mfc%E7%AA%97%E4%BD%93%E7%A8%8B%E5%BA%8F%E5%BC%B9%E5%87%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AA%97%E5%8F%A3%E6%98%BE%E7%A4%BA%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA/"},{"categories":["windows"],"content":"å¼¹å‡ºå‘½ä»¤è¡Œçª—å£ åœ¨ä¸»ç¨‹åºçš„XXX::InitInstance()å‡½æ•°ä¸­æ·»åŠ  #ifdef _DEBUG if (!AllocConsole()) AfxMessageBox(\"Failed to create the console!\", MB_ICONEXCLAMATION); #endif åœ¨å¯¹åº”çš„XXX::ExitInstance()ä¸­æ·»åŠ  #ifdef _DEBUG if (!FreeConsole()) AfxMessageBox(\"Could not free the console!\"); #endif è¿™æ ·åœ¨DEBUGæ¨¡å¼ä¸‹å¯åŠ¨ç¨‹åºæ—¶, ä¼šå¼¹å‡ºå‘½ä»¤è¡Œçª—å£ ","date":"2022-07-13","objectID":"/mfc%E7%AA%97%E4%BD%93%E7%A8%8B%E5%BA%8F%E5%BC%B9%E5%87%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AA%97%E5%8F%A3%E6%98%BE%E7%A4%BA%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA/:1:0","tags":["vc++"],"title":"MFCçª—ä½“ç¨‹åºå¼¹å‡ºå‘½ä»¤è¡Œçª—å£æ˜¾ç¤ºæ—¥å¿—è¾“å‡º","uri":"/mfc%E7%AA%97%E4%BD%93%E7%A8%8B%E5%BA%8F%E5%BC%B9%E5%87%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AA%97%E5%8F%A3%E6%98%BE%E7%A4%BA%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA/"},{"categories":["windows"],"content":"æ‰“å°æ—¥å¿—(å«æ–‡ä»¶å, ä»£ç è¡Œå·) #define LOG2CONSOLE(X) \\ { \\ std::string file = __FILE__; \\ size_t index; \\ for (index = file.size()-1; index \u003e 0; index--) { \\ if (file[index] == '\\\\') break; \\ } \\ std::string fileName = file.substr(index + 1); \\ std::stringstream ss; \\ ss \u003c\u003c X; \\ std::string s = ss.str(); \\ _cprintf(\"%s:%i %s\\n\", fileName.c_str(), __LINE__, s.c_str()); \\ } 1, æ³¨æ„è¦ä½¿ç”¨å®, è€Œä¸æ˜¯å‡½æ•°, å¦åˆ™ä»£ç æ–‡ä»¶åå’Œä»£ç è¡Œå§‹ç»ˆæ˜¯å®šä¹‰çš„ä½ç½® 2, å®æ¢è¡Œçš„è¯, é™¤äº†æœ€åä¸€ä¸ªå¤§æ‹¬å·, æ¯ä¸€è¡Œåé¢éƒ½è¦æ¥ä¸€ä¸ª \\ ","date":"2022-07-13","objectID":"/mfc%E7%AA%97%E4%BD%93%E7%A8%8B%E5%BA%8F%E5%BC%B9%E5%87%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AA%97%E5%8F%A3%E6%98%BE%E7%A4%BA%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA/:2:0","tags":["vc++"],"title":"MFCçª—ä½“ç¨‹åºå¼¹å‡ºå‘½ä»¤è¡Œçª—å£æ˜¾ç¤ºæ—¥å¿—è¾“å‡º","uri":"/mfc%E7%AA%97%E4%BD%93%E7%A8%8B%E5%BA%8F%E5%BC%B9%E5%87%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AA%97%E5%8F%A3%E6%98%BE%E7%A4%BA%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA/"},{"categories":["windows"],"content":"ä½¿ç”¨ LOG2CONSOLE(\"[Clicked] my button clicked. the xxx value is:\" \u003c\u003c something); ","date":"2022-07-13","objectID":"/mfc%E7%AA%97%E4%BD%93%E7%A8%8B%E5%BA%8F%E5%BC%B9%E5%87%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AA%97%E5%8F%A3%E6%98%BE%E7%A4%BA%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA/:3:0","tags":["vc++"],"title":"MFCçª—ä½“ç¨‹åºå¼¹å‡ºå‘½ä»¤è¡Œçª—å£æ˜¾ç¤ºæ—¥å¿—è¾“å‡º","uri":"/mfc%E7%AA%97%E4%BD%93%E7%A8%8B%E5%BA%8F%E5%BC%B9%E5%87%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AA%97%E5%8F%A3%E6%98%BE%E7%A4%BA%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA/"},{"categories":["windows"],"content":"ä½¿ç”¨printf ä¸Šé¢çš„å®ä¸­ä½¿ç”¨çš„æ˜¯ _cprintf, æˆ‘å‘ç°åœ¨æŸäº›æ—¶å€™, å³ä¾¿è¾“å‡ºçš„æ˜¯asciiå­—ç¬¦, ä¹Ÿä¼šå‡ºç°ä¹±ç . æ”¹æˆprintfåˆæ‰“å°ä¸å‡ºæ¥, ä¸ºäº†è®©printfèƒ½æ‰“å°å‡ºæ¥, ä¿®æ”¹: #ifdef _DEBUG if (!AllocConsole()) AfxMessageBox(\"Failed to create the console!\", MB_ICONEXCLAMATION); #endif ä¸º #ifdef _DEBUG AllocConsole(); //freopen(\"CONIN$\", \"r\", stdin); freopen(\"CONOUT$\", \"w\", stdout); freopen(\"CONOUT$\", \"w\", stderr); #endif ","date":"2022-07-13","objectID":"/mfc%E7%AA%97%E4%BD%93%E7%A8%8B%E5%BA%8F%E5%BC%B9%E5%87%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AA%97%E5%8F%A3%E6%98%BE%E7%A4%BA%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA/:4:0","tags":["vc++"],"title":"MFCçª—ä½“ç¨‹åºå¼¹å‡ºå‘½ä»¤è¡Œçª—å£æ˜¾ç¤ºæ—¥å¿—è¾“å‡º","uri":"/mfc%E7%AA%97%E4%BD%93%E7%A8%8B%E5%BA%8F%E5%BC%B9%E5%87%BA%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AA%97%E5%8F%A3%E6%98%BE%E7%A4%BA%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA/"},{"categories":["windows"],"content":"å…³äºç¼–è¯‘Windows MFC é¡¹ç›®é‡åˆ°çš„Error : WINDOWS.H Already Includedçš„è§£å†³æ–¹æ³• ","date":"2022-07-12","objectID":"/error--windows.h-already-included/:0:0","tags":["vc++"],"title":"Error : WINDOWS.H Already Included","uri":"/error--windows.h-already-included/"},{"categories":["windows"],"content":"ç°è±¡ ä»Šå¤©æ¥åˆ°ä¸€ä¸ªè€æ—§çš„MFCé¡¹ç›®, å®‰è£…windowsè™šæ‹Ÿæœº, VS2010 (çœŸæ˜¯è€æ‰ç‰™å‘€) , æœ€åç¼–è¯‘æ—¶å‡ºç°ä¸€å †å¦‚ä¸‹æŠ¥é”™: 1\u003e app.cpp 1\u003ec:\\program files (x86)\\microsoft visual studio 10.0\\vc\\atlmfc\\include\\afxv_w32.h(16): fatal error C1189: #error : WINDOWS.H already included. MFC apps must not #include \u003cwindows.h\u003e ","date":"2022-07-12","objectID":"/error--windows.h-already-included/:1:0","tags":["vc++"],"title":"Error : WINDOWS.H Already Included","uri":"/error--windows.h-already-included/"},{"categories":["windows"],"content":"è§£å†³æ–¹æ³• ç»è¿‡ä¸€ç•ªæŠ˜è…¾, ç›´æ¥è¯´ç»“è®º: #include â€œstdafx.hâ€ å¿…é¡»æ”¾åœ¨å…¶ä»–å¤´æ–‡ä»¶ä¹‹å‰ è¿™æ¶‰åŠåˆ°ä¸€ä¸ªå¾ˆæ¶å¿ƒçš„é—®é¢˜, å¦‚æœå¤šä¸ªå¤´æ–‡ä»¶å±‚å±‚include, å¾—è€å¿ƒåœ°æ…¢æ…¢è°ƒæ•´é¡ºåº ","date":"2022-07-12","objectID":"/error--windows.h-already-included/:2:0","tags":["vc++"],"title":"Error : WINDOWS.H Already Included","uri":"/error--windows.h-already-included/"},{"categories":["windows"],"content":"ä¸¾ä¾‹ æ¯”å¦‚ ä¸‹é¢è¿™ä¸ªå°±ä¼šæŠ¥é”™: //a.h #include \"b.h\" #include \"c.h\" //b.h #include \"xxx.h\" //c.h #include \"yyy.h\" #include \"stdafx.h\" éœ€è¦è°ƒæ•´2å¤„: 1, c.h ä¸­ #include \"stdafx.h\" éœ€è¦æ”¾åˆ° #include \"yyy.h\" å‰é¢ 2, a.h ä¸­ #include \"c.h\" éœ€è¦æ”¾åˆ° #include \"b.h\" å‰é¢ æœ€åè¿™æ ·: //a.h #include \"c.h\" #include \"b.h\" //b.h #include \"xxx.h\" //c.h #include \"stdafx.h\" #include \"yyy.h\" ","date":"2022-07-12","objectID":"/error--windows.h-already-included/:3:0","tags":["vc++"],"title":"Error : WINDOWS.H Already Included","uri":"/error--windows.h-already-included/"},{"categories":["Blockchain"],"content":"â€œå¦‚ä½•è¾¾æˆå…±è¯†\"æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸€ä¸ªæœ€åŸºæœ¬çš„é—®é¢˜. åŒºå—é“¾ä½œä¸ºä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿ, è¿™ä¹Ÿæ˜¯æœ€æ ¸å¿ƒçš„é—®é¢˜. å…±è¯†ç®—æ³•å¾ˆå¤š, PoWã€ BFT ã€POS .. ä»¥åŠçš„å˜ä½“, æ¯”å¦‚PBFTã€ IBFTã€Tendermintã€DPoSã€ HotStuff ç­‰. ä½†ä½œä¸ºåŒºå—é“¾çš„é¼»ç¥–çš„BTCå’Œå…ƒè€çš„ETHéƒ½ä½¿ç”¨çš„PoW, ETHæ­£åœ¨è¿‡åº¦åˆ°PoS, å¦å¤–æœ‰ä¸€äº›åŒºå—é“¾é‡‡ç”¨äº†PoSçš„ä¸€ä¸ªå˜ä½“DPoS.æˆ‘ä»¬ä¸»è¦å…³æ³¨è¿™å‡ ç§. ä»Šå¤©å…ˆè¯´è¯´PoW ","date":"2022-07-08","objectID":"/pow/:0:0","tags":["pow","consensus"],"title":"PoW","uri":"/pow/"},{"categories":["Blockchain"],"content":"åŸç† PoW Proof of Work å·¥ä½œé‡è¯æ˜ åœ¨æŒ–çŸ¿çš„æ—¶å€™é€šè¿‡ä½œå‡º\"ä¸€å®šçš„å·¥ä½œé‡\"æ¥å¢åŠ ä½œæ¶æˆæœ¬. å…¶åŸºæœ¬åŸç†æ˜¯é€šè¿‡ä¸€ä¸ªç®€å•ä½†åˆè´¹åŠ›çš„æ•°å­¦è®¡ç®—æ¥ä½“ç°å·¥ä½œé‡. è¿™æ ·çš„æ•°å­¦è®¡ç®—æœ‰å¾ˆå¤š, æ¯”å¦‚è´¨å› æ•°åˆ†è§£, è®¡ç®—hashç­‰. ","date":"2022-07-08","objectID":"/pow/:1:0","tags":["pow","consensus"],"title":"PoW","uri":"/pow/"},{"categories":["Blockchain"],"content":"Hash å“ˆå¸Œå‡½æ•°ç”¨äºä¸ºä»»æ„é•¿çš„è¾“å…¥å­—ç¬¦ä¸²åˆ›å»ºå›ºå®šé•¿åº¦çš„æ‘˜è¦,æœ‰å„ç§ç³»åˆ—çš„å“ˆå¸Œå‡½æ•°ï¼Œå¦‚MDã€SHA1ã€SHA-2ã€SHA-3ã€RIPEMDå’ŒWhirlpool ç‰¹ç‚¹: å“ˆå¸Œå‡½æ•°å¿…é¡»èƒ½å¤Ÿæ¥å—ä»»ä½•é•¿åº¦çš„è¾“å…¥æ–‡æœ¬ï¼Œå¹¶è¾“å‡ºä¸€ä¸ªå›ºå®šé•¿åº¦çš„å‹ç¼©ä¿¡æ¯. å“ˆå¸Œå‡½æ•°çš„è®¡ç®—é€Ÿåº¦éå¸¸å¿«ã€‚å¦‚æœæ¶ˆæ¯å¤ªå¤§ï¼Œæ•ˆç‡å¯èƒ½ä¼šä¸‹é™ï¼Œä½†è¯¥å‡½æ•°ä»åº”è¶³å¤Ÿå¿«ï¼Œä»¥æ»¡è¶³å®é™…ä½¿ç”¨ å“ˆå¸Œå‡½æ•°çš„è¾“å‡ºå¿…é¡»çš„ç¨³å®šçš„, è¾“å…¥ä¸å˜æ—¶è¾“å‡ºä¹Ÿä¸ä¼šå‘ç”Ÿå˜åŒ– å“ˆå¸Œä¸èƒ½åå‘æ¨å¯¼. ä¹Ÿå°±æ˜¯è¯´å¾ˆéš¾é€šè¿‡å“ˆå¸Œå€¼åå‘è®¡ç®—å‡ºåŸå§‹å€¼. è¿™ä¸ªå«åŸåƒé˜²å¾¡æˆ–è€…å«å•å‘å±æ€§ ä¸åŒçš„ä¿¡æ¯è¦å¾—åˆ°ä¸åŒçš„å“ˆå¸Œå€¼. è¿™å«æŠ—ç¢°æ’æ€§ å®é™…ä¸Š, è¾“å…¥ä¿¡æ¯ç¨åŠ æ”¹å˜, è¾“å‡ºçš„å“ˆå¸Œå€¼å°†ä¼šæœ‰å¾ˆå¤§çš„å·®å¼‚. è¿™å« é›ªå´©æ•ˆåº” æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨çš„æ˜¯ SHA-256 ä¸¾ä¾‹ OSX MP16 ~ â¯ echo \"this is a test\" | openssl dgst -sha256 91751cee0a1ab8414400238a761411daa29643ab4b8243e9a91649e25be53ada OSX MP16 ~ â¯ echo \"this is A test\" | openssl dgst -sha256 215ec5072f0ae6f05d9576d42c1a3fb5794aa51199cb44e7d087e679ff000d1 ","date":"2022-07-08","objectID":"/pow/:2:0","tags":["pow","consensus"],"title":"PoW","uri":"/pow/"},{"categories":["Blockchain"],"content":"Hashè§£å¯†æ¸¸æˆ å‡è®¾æœ‰è¿™æ ·ä¸€ä¸ªæ¸¸æˆ: ç»™å®šä¸€ä¸ªå¸¸é‡å­—ç¬¦ä¸²str, å†åŠ ä¸Šä¸€ä¸ªå¯å˜æ•°å­—num å¾—åˆ° str+num, é€šè¿‡ä¸æ–­å˜åŒ–numçš„å€¼, ä½¿å¾— hash(str+num)å¾—åˆ°çš„å“ˆå¸Œå€¼æ»¡è¶³ä¸€å®šçš„æ¡ä»¶ å°±ç®—æˆåŠŸ. å‡è®¾æˆ‘ä»¬éœ€è¦æ»¡è¶³çš„æ¡ä»¶æ˜¯: å“ˆå¸Œå€¼ä»¥0000å¼€å¤´ func main() { str := \"this is a test string\" num := 0 for true { tempStr := str + strconv.Itoa(num) h := sha256.New() h.Write([]byte(tempStr)) sum := h.Sum(nil) s := hex.EncodeToString(sum) fmt.Println(\"try:\" + s) if s[0:4] == \"0000\" { fmt.Println(\"æ‰¾åˆ°num: \", num) fmt.Println(\"æ‰¾åˆ°hash: \", s) break } num++ } } è¿è¡Œç»“æœ: try:2717e2d84df58353433bdef467f5f12766710aedc7114d409d04d6712b670edb try:a13b43128c8961d36d9f7aca7fd82018497d713e5305e86f1ba6c900e7870e61 try:5a968dcad3ab8564046abedff836a91242d77207b758f079865680b96e9e9b3a ... ... æ‰¾åˆ°num: 7521 æ‰¾åˆ°hash: 0000e87f07402bc7592d63fc8876fc4685eb52649ceefa78915b33d7792be1f0 ç»è¿‡ä¸ƒåƒå¤šæ¬¡å°è¯•, æ‰¾åˆ°äº†å½“numä¸º7521æ—¶, æ»¡è¶³æ¡ä»¶ ","date":"2022-07-08","objectID":"/pow/:3:0","tags":["pow","consensus"],"title":"PoW","uri":"/pow/"},{"categories":["Blockchain"],"content":"PoW ä¸Šé¢æ¸¸æˆä¸­çš„ç»™å®šå­—ç¬¦ä¸²å°±ç®—æŒ–çŸ¿æ˜¯çš„åŒºå—\"å¯†å°å‰\"çš„å“ˆå¸Œå€¼ ,åŒ…å«å‰é¢çš„åŒºå—çš„å“ˆå¸Œå€¼å’Œäº¤æ˜“æ•°æ®ä»¥åŠå…¶å®ƒä¿¡æ¯è®¡ç®—å‡ºæ¥çš„å“ˆå¸Œå€¼, ä½†è¿˜æ²¡æœ‰æˆåŠŸæŒ–çŸ¿,æ‰€ä»¥è¿˜æ²¡åŒ…å«æœ¬åŒºå—çš„nonceç­‰. æŒ–çŸ¿æˆåŠŸå, ä¼šè¿›è¡Œå¯†å°(Seal). è¿™é‡Œè¯´çš„nonceä¹Ÿå°±æ˜¯ä¸Šé¢æ¸¸æˆä¸­çš„num æ¸¸æˆä¸­è¿˜æåˆ° ä¸€å®šçš„æ¡ä»¶ , åœ¨Powä¸­, ä¸€å®šçš„æ¡ä»¶å°±æ˜¯æ‰¾åˆ°çš„å“ˆå¸Œå€¼å°äºæŒ‡å®šçš„ target , targetæ˜¯æ ¹æ® éš¾åº¦ è®¡ç®—å‡ºæ¥çš„. æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—åˆ°è¿™æ ·ä¸€ä¸ªç®€åŒ–ç‰ˆæœ¬çš„ PoWè¿‡ç¨‹ package main import ( \"crypto/sha256\" \"fmt\" \"math/big\" \"strconv\" \"time\" ) func getTarget() *big.Int { //å‡è®¾å½“å‰éš¾åº¦å€¼ difficulty := 22341680 two256 := new(big.Int).Exp(big.NewInt(2), big.NewInt(256), big.NewInt(0)) return new(big.Int).Div(two256, big.NewInt(int64(difficulty))) } // getBlockHashBeforeSeal è·å–åŒºå—åœ¨\"å¯†å°å‰\"çš„å“ˆå¸Œå€¼ func getBlockHashBeforeSeal() []byte { str := \"1312af178c253f84028d480a6adc1e25e81caa44c749ec81976192e2ec934c64\" //convert to bytes[] b := []byte(str) return b } func hash(s []byte) []byte { //ä½¿ç”¨sha256å“ˆå¸Œå‡½æ•° h := sha256.New() h.Write(s) sum := h.Sum(nil) return sum } func mine() uint64 { nonce := 0 target := getTarget() fmt.Println(\"target: \", target) powBuffer := new(big.Int) //æ—·å·¥æŒ–çŸ¿ï¼Œéœ€è¦è¿›è¡Œæš´åŠ›éå† //é€šè¿‡ä¸åœåœ°æ”¹å˜nonceä»¥ä¾¿è®©hashå€¼å˜åŒ–ï¼Œç„¶åæ‰¾åˆ°åˆšå¥½æ»¡è¶³ä¸€å®šæ¡ä»¶çš„å€¼ for true { var bytes = append(getBlockHashBeforeSeal(), strconv.Itoa(nonce)...) sum := hash(bytes) if powBuffer.SetBytes(sum).Cmp(target) \u003c 0 { fmt.Println(\"æ‰¾åˆ°nonce: \", nonce) break } nonce++ } return uint64(nonce) } func verify(nonce uint64) bool { //å¯¹æ—·å·¥æŒ–çŸ¿å¾—åˆ°çš„ç»“æœè¿›è¡ŒéªŒè¯ //éªŒè¯åªéœ€è¦è¿›è¡Œä¸€æ¬¡è®¡ç®— powBuffer := new(big.Int) target := getTarget() var bytes = append(getBlockHashBeforeSeal(), strconv.Itoa(int(nonce))...) sum := hash(bytes) return powBuffer.SetBytes(sum).Cmp(target) \u003c 0 } func main() { startTime := time.Now() nonce := mine() fmt.Println(\"è®¡ç®—è€—æ—¶: \", time.Now().Sub(startTime)) ok := verify(nonce) fmt.Println(\"éªŒè¯ç»“æœ: \", ok) } ","date":"2022-07-08","objectID":"/pow/:4:0","tags":["pow","consensus"],"title":"PoW","uri":"/pow/"},{"categories":["Blockchain"],"content":"go-etherum go-etherumçš„PoWç”¨åˆ°çš„ç®—æ³•åç§°å« Ethash å…¶æŒ–çŸ¿é€»è¾‘åœ¨ go-ethereum-1.10.20/consensus/ethash/sealer.go ä¸­çš„ mine æ–¹æ³• ","date":"2022-07-08","objectID":"/pow/:5:0","tags":["pow","consensus"],"title":"PoW","uri":"/pow/"},{"categories":["Blockchain"],"content":"å¯¹åˆ›ä¸–æ–‡ä»¶çš„ä»‹ç» åœ¨ https://yinhui1984.github.io/ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-æ‰‹å·¥æ‰“é€ /#ç¼–å†™åˆ›ä¸–æ–‡ä»¶ä¸­æåˆ°äº†genesis.json, å®ƒæ˜¯åŒºå—é“¾çš„åˆå§‹é…ç½®æ–‡ä»¶, ç§°ä¸ºåˆ›ä¸–æ–‡ä»¶, åŒºå—é“¾ä¸­çš„ç¬¬ä¸€ä¸ªå—(Block)éœ€è¦ç”¨å®ƒæ¥è¿›è¡Œç”Ÿæˆ. è¿™ä¸ªå—ç§°ä¸ºåˆ›ä¸–å— ","date":"2022-07-06","objectID":"/genesis.json/:0:0","tags":["genesis.json"],"title":"genesis.json","uri":"/genesis.json/"},{"categories":["Blockchain"],"content":"Genesis struct åœ¨go-ethereumä¸­å®šä¹‰å¦‚ä¸‹: //go-ethereum-1.10.20/params/config.go type Genesis struct { Config *params.ChainConfig `json:\"config\"` Nonce uint64 `json:\"nonce\"` Timestamp uint64 `json:\"timestamp\"` ExtraData []byte `json:\"extraData\"` GasLimit uint64 `json:\"gasLimit\" gencodec:\"required\"` Difficulty *big.Int `json:\"difficulty\" gencodec:\"required\"` Mixhash common.Hash `json:\"mixHash\"` Coinbase common.Address `json:\"coinbase\"` Alloc GenesisAlloc `json:\"alloc\" gencodec:\"required\"` // These fields are used for consensus tests. Please don't use them // in actual genesis blocks. Number uint64 `json:\"number\"` GasUsed uint64 `json:\"gasUsed\"` ParentHash common.Hash `json:\"parentHash\"` BaseFee *big.Int `json:\"baseFeePerGas\"` } å…¶ä¸­ Configå­—æ®µ: //go-ethereum-1.10.20/params/config.go // ChainConfig is the core config which determines the blockchain settings. // // ChainConfig is stored in the database on a per block basis. This means // that any network, identified by its genesis block, can have its own // set of configuration options. type ChainConfig struct { ChainID *big.Int `json:\"chainId\"` // chainId identifies the current chain and is used for replay protection HomesteadBlock *big.Int `json:\"homesteadBlock,omitempty\"` // Homestead switch block (nil = no fork, 0 = already homestead) DAOForkBlock *big.Int `json:\"daoForkBlock,omitempty\"` // TheDAO hard-fork switch block (nil = no fork) DAOForkSupport bool `json:\"daoForkSupport,omitempty\"` // Whether the nodes supports or opposes the DAO hard-fork // EIP150 implements the Gas price changes (https://github.com/ethereum/EIPs/issues/150) EIP150Block *big.Int `json:\"eip150Block,omitempty\"` // EIP150 HF block (nil = no fork) EIP150Hash common.Hash `json:\"eip150Hash,omitempty\"` // EIP150 HF hash (needed for header only clients as only gas pricing changed) EIP155Block *big.Int `json:\"eip155Block,omitempty\"` // EIP155 HF block EIP158Block *big.Int `json:\"eip158Block,omitempty\"` // EIP158 HF block ByzantiumBlock *big.Int `json:\"byzantiumBlock,omitempty\"` // Byzantium switch block (nil = no fork, 0 = already on byzantium) ConstantinopleBlock *big.Int `json:\"constantinopleBlock,omitempty\"` // Constantinople switch block (nil = no fork, 0 = already activated) PetersburgBlock *big.Int `json:\"petersburgBlock,omitempty\"` // Petersburg switch block (nil = same as Constantinople) IstanbulBlock *big.Int `json:\"istanbulBlock,omitempty\"` // Istanbul switch block (nil = no fork, 0 = already on istanbul) MuirGlacierBlock *big.Int `json:\"muirGlacierBlock,omitempty\"` // Eip-2384 (bomb delay) switch block (nil = no fork, 0 = already activated) BerlinBlock *big.Int `json:\"berlinBlock,omitempty\"` // Berlin switch block (nil = no fork, 0 = already on berlin) LondonBlock *big.Int `json:\"londonBlock,omitempty\"` // London switch block (nil = no fork, 0 = already on london) ArrowGlacierBlock *big.Int `json:\"arrowGlacierBlock,omitempty\"` // Eip-4345 (bomb delay) switch block (nil = no fork, 0 = already activated) GrayGlacierBlock *big.Int `json:\"grayGlacierBlock,omitempty\"` // Eip-5133 (bomb delay) switch block (nil = no fork, 0 = already activated) MergeNetsplitBlock *big.Int `json:\"mergeNetsplitBlock,omitempty\"` // Virtual fork after The Merge to use as a network splitter // TerminalTotalDifficulty is the amount of total difficulty reached by // the network that triggers the consensus upgrade. TerminalTotalDifficulty *big.Int `json:\"terminalTotalDifficulty,omitempty\"` // Various consensus engines Ethash *EthashConfig `json:\"ethash,omitempty\"` Clique *CliqueConfig `json:\"clique,omitempty\"` } ","date":"2022-07-06","objectID":"/genesis.json/:1:0","tags":["genesis.json"],"title":"genesis.json","uri":"/genesis.json/"},{"categories":["Blockchain"],"content":"ChainID åŒºå—é“¾ID, æ¯ä¸€ä¸ªå¯¹å¤–å…¬å¼€çš„é“¾IDæ˜¯å”¯ä¸€çš„, è¿™ä¸ªIDå¯ä»¥åœ¨https://chainlist.orgä¸Šè¿›è¡ŒæŸ¥è¯¢å’Œç”³è¯· ä¹‹æ‰€ä»¥åŠ è¿™æ ·ä¸€ä¸ªChainIDæ˜¯ä¸ºäº†é˜²æ­¢\"é‡æ”¾æ”»å‡»\":æ˜¯åœ¨ä¸€ä¸ªåŒºå—é“¾ä¸Šè¿›è¡Œäº¤æ˜“ï¼Œå¹¶æ¶æ„æˆ–æ¬ºè¯ˆæ€§åœ°åœ¨å¦ä¸€ä¸ªåŒºå—é“¾ä¸Šé‡å¤è¯¥äº¤æ˜“. å‚è€ƒè¿™é‡ŒEIP155 æˆ–è¿™é‡Œ EIP : Ethereum Improvement Proposals ä»¥å¤ªåŠæ”¹è¿›ææ¡ˆ ","date":"2022-07-06","objectID":"/genesis.json/:1:1","tags":["genesis.json"],"title":"genesis.json","uri":"/genesis.json/"},{"categories":["Blockchain"],"content":"HomesteadBlock HomesteadBlock ä»¥åŠåé¢çš„å„ç§xxxBlockéƒ½æ˜¯æŒ‡çš„æ˜¯ETHçš„ç¡¬åˆ†å‰é«˜åº¦. å…³äºåˆ†å‰,å‚è€ƒè¿™é‡Œ è¿™é‡Œå¯ä»¥çœ‹åˆ°ä¸»ç½‘çš„åˆ†å‰å†å² : https://ethereum.org/en/history/ å¯¹äºæ–°å»ºæµ‹è¯•ç½‘è€Œè¨€, åº”è¯¥è®¾ç½®ä¸º0 , è¡¨ç¤ºä½ æ²¡æœ‰åˆ†å‰ ","date":"2022-07-06","objectID":"/genesis.json/:1:2","tags":["genesis.json"],"title":"genesis.json","uri":"/genesis.json/"},{"categories":["Blockchain"],"content":"TerminalTotalDifficulty TTD, ç»ˆç«¯æ€»éš¾åº¦, ç½‘ç»œè¾¾åˆ°çš„æ€»éš¾åº¦ æœ€è¿‘æåˆ°TTDçš„ä¸€ä¸ªæ–°é—»æ˜¯ETHå°†åœ¨Ropstenæµ‹è¯•ç½‘çš„TTDè¾¾åˆ°ä¸€ä¸ªå€¼æ—¶è§¦å‘é“¾ä¸Šåˆå¹¶, ä»¥å°†å…¶POW(å·¥ä½œé‡è¯æ˜)å‡çº§ä¸ºPOS(æƒç›Šè¯æ˜, proof-of-stake) ","date":"2022-07-06","objectID":"/genesis.json/:1:3","tags":["genesis.json"],"title":"genesis.json","uri":"/genesis.json/"},{"categories":["Blockchain"],"content":"Ethash Ethashæ˜¯Ethereumä½¿ç”¨çš„POWç®—æ³•ã€‚è¿™æ˜¯ç›®å‰ä¸»ç½‘ä½¿ç”¨çš„ç®—æ³•. å…·ä½“å‚è€ƒ https://ethereum.org/en/developers/docs/consensus-mechanisms/pow/mining-algorithms/ å’Œ https://ethereum.org/en/developers/docs/consensus-mechanisms/pow/mining-algorithms/ethash/ ä»¥åŠ https://ethereum.stackexchange.com/questions/14/what-proof-of-work-function-does-ethereum-use ","date":"2022-07-06","objectID":"/genesis.json/:1:4","tags":["genesis.json"],"title":"genesis.json","uri":"/genesis.json/"},{"categories":["Blockchain"],"content":"Clique Clique [/kliËk/] æ˜¯æµ‹è¯•ç½‘ä½¿ç”¨çš„æƒç›Šè¯æ˜POS ç®—æ³•, ä¸»ç½‘ä¸€ç›´åœ¨åŠªåŠ›å°½å¿«åˆ‡æ¢åˆ°POS å…·ä½“å‚è€ƒè¿™é‡Œ https://ethereum.org/en/developers/docs/consensus-mechanisms/pos/ ","date":"2022-07-06","objectID":"/genesis.json/:1:5","tags":["genesis.json"],"title":"genesis.json","uri":"/genesis.json/"},{"categories":["Blockchain"],"content":"Nonce å’Œ Mixhash Nonceæ˜¯ä¸€ä¸ª64ä½çš„å“ˆå¸Œå€¼, mixhashå­—æ®µåŒ…å«ä¸€ä¸ª256ä½çš„å“ˆå¸Œå€¼ï¼Œä¸€æ—¦ä¸nonceç»“åˆï¼Œå°±å¯ä»¥ç”¨æ¥è¯æ˜ä¸ºäº†åˆ›å»ºè¿™ä¸ªåŒºå—ï¼Œå·²ç»èŠ±è´¹äº†è¶³å¤Ÿçš„ç®—åŠ›. åé¢æç¯‡åšå®¢ä¸“é—¨æ¥è®²å·¥ä½œé‡è¯æ˜ ","date":"2022-07-06","objectID":"/genesis.json/:1:6","tags":["genesis.json"],"title":"genesis.json","uri":"/genesis.json/"},{"categories":["Blockchain"],"content":"Timestamp Unixæ—¶é—´æˆ³ ã€‚åˆ©ç”¨å—ä¸å—ä¹‹é—´çš„æ—¶é—´æˆ³æ¥è°ƒæ•´éš¾åº¦, ä»¥ä¿è¯å‡ºå—æ—¶é—´çš„ç¨³å®šæ€§. æœ€åä¸¤ä¸ªå—ä¹‹é—´çš„è¾ƒå°å‘¨æœŸå¯¼è‡´éš¾åº¦çº§åˆ«å¢åŠ ï¼Œå› æ­¤éœ€è¦é¢å¤–çš„è®¡ç®—æ¥æ‰¾åˆ°ä¸‹ä¸€ä¸ªæœ‰æ•ˆå—ã€‚å¦‚æœå‘¨æœŸå¤ªå¤§ï¼Œåˆ™éš¾åº¦å’Œä¸‹ä¸€ä¸ªåŒºå—çš„é¢„æœŸæ—¶é—´ä¼šé™ä½ã€‚æ—¶é—´æˆ³è¿˜å…è®¸éªŒè¯é“¾ä¸­å—çš„é¡ºåº. ","date":"2022-07-06","objectID":"/genesis.json/:1:7","tags":["genesis.json"],"title":"genesis.json","uri":"/genesis.json/"},{"categories":["Blockchain"],"content":"ExtraData é¢å¤–æ•°æ®. æƒ³å†™å…¥åŒºå—é“¾çš„ä»»æ„æ•°æ®, ä½†åªæœ‰32 ä¸ªå­—èŠ‚ ","date":"2022-07-06","objectID":"/genesis.json/:1:8","tags":["genesis.json"],"title":"genesis.json","uri":"/genesis.json/"},{"categories":["Blockchain"],"content":"GasLimit æ¯ä¸ªåŒºå—çš„Gasæ”¯å‡ºé™é¢ ","date":"2022-07-06","objectID":"/genesis.json/:1:9","tags":["genesis.json"],"title":"genesis.json","uri":"/genesis.json/"},{"categories":["Blockchain"],"content":"Difficulty éš¾åº¦. å®ƒä»£è¡¨äº†è¯æ˜PoWæ‰€éœ€çš„å“ˆå¸Œå€¼çš„éš¾åº¦ç­‰çº§ã€‚ å®ƒå®šä¹‰äº†æŒ–çŸ¿ç›®æ ‡ï¼Œå¯ä»¥æ ¹æ®å‰ä¸€ä¸ªåŒºå—çš„éš¾åº¦çº§åˆ«å’Œæ—¶é—´æˆ³æ¥è®¡ç®—ã€‚éš¾åº¦è¶Šé«˜ï¼ŒçŸ¿å·¥ä¸ºäº†å‘ç°æœ‰æ•ˆåŒºå—å¿…é¡»æ‰§è¡Œçš„ç»Ÿè®¡è®¡ç®—å°±è¶Šå¤šã€‚è¯¥å€¼ç”¨äºæ§åˆ¶åŒºå—é“¾çš„å‡ºå—æ—¶é—´ï¼Œä½¿å‡ºå—é¢‘ç‡ä¿æŒåœ¨ç›®æ ‡èŒƒå›´å†… ","date":"2022-07-06","objectID":"/genesis.json/:1:10","tags":["genesis.json"],"title":"genesis.json","uri":"/genesis.json/"},{"categories":["Blockchain"],"content":"Coinbase è¿™æ˜¯ä¸€ä¸ª160ä½çš„åœ°å€ï¼ŒæŒ–çŸ¿æˆåŠŸåï¼ŒæŒ–çŸ¿å¥–åŠ±å°±ä¼šå‘é€åˆ°è¿™é‡Œã€‚ æœ‰äº›åœ°æ–¹ç§°ä¹‹ä¸º Etherbase, æ¯”å¦‚ miner.setEtherbase(personal.listAccounts[0]) ","date":"2022-07-06","objectID":"/genesis.json/:1:11","tags":["genesis.json"],"title":"genesis.json","uri":"/genesis.json/"},{"categories":["Blockchain"],"content":"alloc è¿™ä¸ªå‚æ•°åŒ…å«é¢„å…ˆåˆ†é…çš„é’±åŒ…å’Œä½™é¢åˆ—è¡¨. åˆå§‹åŒ–åŒºå—é“¾çš„æ—¶å€™, è¿™ä¸ªå‚æ•°å¿…é¡»è¢«å¡«å†™, å¦åˆ™æ²¡é’±æ”¯ä»˜æŒ–çŸ¿è´¹ç”¨, äº§ç”Ÿä¸äº†å—. ","date":"2022-07-06","objectID":"/genesis.json/:1:12","tags":["genesis.json"],"title":"genesis.json","uri":"/genesis.json/"},{"categories":["Blockchain"],"content":"Number, GasUsed, ParentHash, BaseFee // These fields are used for consensus tests. Please don't use them // in actual genesis blocks. ","date":"2022-07-06","objectID":"/genesis.json/:1:13","tags":["genesis.json"],"title":"genesis.json","uri":"/genesis.json/"},{"categories":["Blockchain"],"content":"ä»‹ç»äº†è°ƒç”¨æ™ºèƒ½åˆçº¦ä¸­\"è¯»æ–¹æ³•\"ä¸\"å†™æ–¹æ³•\"çš„åŒºåˆ« ","date":"2022-07-04","objectID":"/%E5%AF%B9%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E8%AF%BB%E6%96%B9%E6%B3%95%E5%92%8C%E5%86%99%E6%96%B9%E6%B3%95%E7%9A%84%E8%B0%83%E7%94%A8/:0:0","tags":["web3.py","web3.js"],"title":"å¯¹æ™ºèƒ½åˆçº¦çš„è¯»æ–¹æ³•å’Œå†™æ–¹æ³•çš„è°ƒç”¨","uri":"/%E5%AF%B9%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E8%AF%BB%E6%96%B9%E6%B3%95%E5%92%8C%E5%86%99%E6%96%B9%E6%B3%95%E7%9A%84%E8%B0%83%E7%94%A8/"},{"categories":["Blockchain"],"content":"æ–¹æ³•(å‡½æ•°)çš„åˆ†ç±» æ™ºèƒ½åˆçº¦ä¸­çš„æ–¹æ³•å¯ä»¥ç²—æš´çš„åˆ†ä¸ºä¸¤ç±»: ä¸ä¼šæ”¹å˜è™šæ‹ŸæœºçŠ¶æ€çš„æ–¹æ³• ä¼šæ”¹å˜è™šæ‹ŸæœºçŠ¶æ€çš„æ–¹æ³• å‡è®¾æˆ‘ä»¬å°†ä»–ä»¬ç§°ä¸º\"è¯»æ–¹æ³•\"å’Œ\"å†™æ–¹æ³•\", é‚£ä¹ˆè¯»æ–¹æ³•è€Œè¨€, å…¶æ˜¯ä¸ä¼šåˆ›å»ºäº¤æ˜“å’ŒèŠ±è´¹GASçš„, æ˜¯å…è´¹çš„. å¯¹äºå†™æ–¹æ³•è€Œè¨€, éœ€è¦æ”¶å–â€™æ‰‹ç»­è´¹â€™è¿›è¡ŒæŒ–çŸ¿çš„. å…³é”®å­— æè¿° æ”¹å˜è™šæ‹ŸæœºçŠ¶æ€? pure ä¸è¯»æ•°æ®, ä¹Ÿä¸å†™æ•°æ® NO view è¯»æ•°æ®, ä½†ä¸å†™æ•°æ® NO payable æ”¯ä»˜ä»¥å¤ª, è‚¯å®šå†™æ•°æ® YES æœªæ˜ç¡®æŒ‡ç¤ºçš„ å…¶å®ƒå¯èƒ½å†™æ•°æ®çš„ YES ","date":"2022-07-04","objectID":"/%E5%AF%B9%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E8%AF%BB%E6%96%B9%E6%B3%95%E5%92%8C%E5%86%99%E6%96%B9%E6%B3%95%E7%9A%84%E8%B0%83%E7%94%A8/:1:0","tags":["web3.py","web3.js"],"title":"å¯¹æ™ºèƒ½åˆçº¦çš„è¯»æ–¹æ³•å’Œå†™æ–¹æ³•çš„è°ƒç”¨","uri":"/%E5%AF%B9%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E8%AF%BB%E6%96%B9%E6%B3%95%E5%92%8C%E5%86%99%E6%96%B9%E6%B3%95%E7%9A%84%E8%B0%83%E7%94%A8/"},{"categories":["Blockchain"],"content":"Web3.jsçš„ call() ä¸Send() å¯¹äºä¸Šé¢ä¸¤ç±»æ–¹æ³•, Web3.jsä¸­åˆ†åˆ«å¯¹åº”Callæ–¹æ³•å’ŒSendæ–¹æ³•æ¥è¿›è¡Œè°ƒç”¨ åˆ›å»ºäº¤æ˜“ æ”¹å˜è™šæ‹ŸæœºçŠ¶æ€ Call() NO NO Send() YES YES å®é™…ä¸Šä»è¯­æ³•å±‚é¢ä¸Šè€Œè¨€, æ— è®ºæ˜¯è¯»æ–¹æ³•è¿˜æ˜¯å†™æ–¹æ³•, éƒ½å¯ä»¥è°ƒç”¨ call , ä½†å¯¹äºå†™æ–¹æ³•, è°ƒç”¨callè™šæ‹ŸæœºçŠ¶æ€å¹¶ä¸ä¼šæ”¹å˜, å¹¶ä¸”ä¸ä¼šæŠ¥é”™. ","date":"2022-07-04","objectID":"/%E5%AF%B9%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E8%AF%BB%E6%96%B9%E6%B3%95%E5%92%8C%E5%86%99%E6%96%B9%E6%B3%95%E7%9A%84%E8%B0%83%E7%94%A8/:2:0","tags":["web3.py","web3.js"],"title":"å¯¹æ™ºèƒ½åˆçº¦çš„è¯»æ–¹æ³•å’Œå†™æ–¹æ³•çš„è°ƒç”¨","uri":"/%E5%AF%B9%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E8%AF%BB%E6%96%B9%E6%B3%95%E5%92%8C%E5%86%99%E6%96%B9%E6%B3%95%E7%9A%84%E8%B0%83%E7%94%A8/"},{"categories":["Blockchain"],"content":"ä¸¾ä¾‹ // SPDX-License-Identifier: MIT pragma solidity ^0.8.0; contract temp { int private counter; function add() public { counter ++; } function get() public view returns(int){ return counter; } } è°ƒç”¨ä»£ç  const base = require('./base'); const c = base.initContract('temp'); async function test(){ await c.methods.get().call().then(x=\u003e{ console.log(\"current value:\", x); }) await c.methods.add().call() await c.methods.get().call().then(x=\u003e{ console.log(\"after call add(): current value:\", x); }) let accounts = await base.web3Instance.eth.getAccounts(); await c.methods.add().send({from: accounts[0], gas: 3000000}) await c.methods.get().call().then(x=\u003e{ console.log(\"after send add(): current value:\", x); }) } test() è¾“å‡º current value: 0 after call add(): current value: 0 after send add(): current value: 1 å¯ä»¥çœ‹åˆ°ä½¿ç”¨ call è°ƒç”¨ add()å å€¼å¹¶æ²¡æœ‰å˜, è€Œç”¨ sendè°ƒç”¨add()å, å€¼è¢«ç´¯åŠ 1 ","date":"2022-07-04","objectID":"/%E5%AF%B9%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E8%AF%BB%E6%96%B9%E6%B3%95%E5%92%8C%E5%86%99%E6%96%B9%E6%B3%95%E7%9A%84%E8%B0%83%E7%94%A8/:3:0","tags":["web3.py","web3.js"],"title":"å¯¹æ™ºèƒ½åˆçº¦çš„è¯»æ–¹æ³•å’Œå†™æ–¹æ³•çš„è°ƒç”¨","uri":"/%E5%AF%B9%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E8%AF%BB%E6%96%B9%E6%B3%95%E5%92%8C%E5%86%99%E6%96%B9%E6%B3%95%E7%9A%84%E8%B0%83%E7%94%A8/"},{"categories":["Blockchain"],"content":"web3.py web3.py ä¸­å¯¹åº”çš„æ˜¯ call()å’Œtransact() ","date":"2022-07-04","objectID":"/%E5%AF%B9%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E8%AF%BB%E6%96%B9%E6%B3%95%E5%92%8C%E5%86%99%E6%96%B9%E6%B3%95%E7%9A%84%E8%B0%83%E7%94%A8/:4:0","tags":["web3.py","web3.js"],"title":"å¯¹æ™ºèƒ½åˆçº¦çš„è¯»æ–¹æ³•å’Œå†™æ–¹æ³•çš„è°ƒç”¨","uri":"/%E5%AF%B9%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E8%AF%BB%E6%96%B9%E6%B3%95%E5%92%8C%E5%86%99%E6%96%B9%E6%B3%95%E7%9A%84%E8%B0%83%E7%94%A8/"},{"categories":["Blockchain"],"content":"è®©è‡ªå·±ä½¿ç”¨gethè¿è¡Œçš„åŒºå—é“¾åƒGancheä¸€æ ·å¯ä»¥AUTOMINING åœ¨åšæ™ºèƒ½åˆçº¦å¼€å‘è¿‡ç¨‹ä¸­, å¦‚æœä½¿ç”¨Gancheçš„è¯, å¯ä»¥å‘ç°å…¶æœ‰ä¸€ä¸ªéå¸¸çˆ½çš„åŠŸèƒ½:AUTOMINING è‡ªåŠ¨æŒ–çŸ¿ æˆ–æŒ‰éœ€æŒ–çŸ¿, ä¹Ÿå°±æ˜¯è¯´ä¸éœ€è¦æŒ–çŸ¿çš„æ—¶å€™å°±åˆ«æŒ–, å¦åˆ™éå¸¸è€—ç”µè„‘èµ„æº. å¦‚æœæˆ‘ä»¬æ˜¯è‡ªå·±ä½¿ç”¨gethè¿è¡Œçš„æµ‹è¯•é“¾, åˆ™æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½, éœ€è¦æ‰‹åŠ¨attachåˆ°æ§åˆ¶å°è¿›è¡Œminer.start()å’Œminer.stop, éå¸¸ä¸æ–¹ä¾¿. ","date":"2022-07-03","objectID":"/%E4%BD%BF%E7%94%A8web3.py%E5%AE%9E%E7%8E%B0%E5%8C%BA%E5%9D%97%E9%93%BE%E6%8C%89%E9%9C%80%E6%8C%96%E7%9F%BF/:0:0","tags":["web3.py","python"],"title":"ä½¿ç”¨web3.pyå®ç°åŒºå—é“¾æŒ‰éœ€æŒ–çŸ¿","uri":"/%E4%BD%BF%E7%94%A8web3.py%E5%AE%9E%E7%8E%B0%E5%8C%BA%E5%9D%97%E9%93%BE%E6%8C%89%E9%9C%80%E6%8C%96%E7%9F%BF/"},{"categories":["Blockchain"],"content":"Web3.js å¦‚æœä½¿ç”¨Web3.js,è²Œä¼¼æ²¡æœ‰çœ‹åˆ°mineræ§åˆ¶çš„API, ä¸è¿‡Gitubä¸Šæœ‰ä¸€ä¸ªæ‰©å±•, å¯ä»¥å®ç° https://github.com/DecentricCorp/web3admin åˆ©ç”¨è¿™ä¸ªæ‰©å±•å¯ä»¥å®ç°æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½. ","date":"2022-07-03","objectID":"/%E4%BD%BF%E7%94%A8web3.py%E5%AE%9E%E7%8E%B0%E5%8C%BA%E5%9D%97%E9%93%BE%E6%8C%89%E9%9C%80%E6%8C%96%E7%9F%BF/:1:0","tags":["web3.py","python"],"title":"ä½¿ç”¨web3.pyå®ç°åŒºå—é“¾æŒ‰éœ€æŒ–çŸ¿","uri":"/%E4%BD%BF%E7%94%A8web3.py%E5%AE%9E%E7%8E%B0%E5%8C%BA%E5%9D%97%E9%93%BE%E6%8C%89%E9%9C%80%E6%8C%96%E7%9F%BF/"},{"categories":["Blockchain"],"content":"Web3.py Web3.pyè‡ªå¸¦mineræ§åˆ¶çš„API, è¿™å°±æ¯”è¾ƒæ–¹ä¾¿äº†. æ¯éš”å‡ ç§’è½®è¯¢ä¸€ä¸‹æ˜¯å¦æœ‰pendingçš„block, å¦‚æœæœ‰åˆ™æŒ–, å¦åˆ™åœæ­¢æŒ–çŸ¿ è„šæœ¬å¦‚ä¸‹ #!/usr/bin/env python3 import os import time from web3 import Web3 # pip3 install web3 # æŒ‰éœ€æŒ–çŸ¿ #ä½¿ç”¨å‰è¯·å…ˆä¿®æ”¹provide w3 = Web3(Web3.IPCProvider('../mychain/data/geth.ipc')) num_threads = os.cpu_count() def main(): # kill this script os.system(\"killall -9 python \u003e /dev/null 2\u003e\u00261\") print('Connected to Ethereum client: %s' % w3.clientVersion) print(\"å¯åŠ¨è‡ªåŠ¨æŒ–çŸ¿...\") while True: time.sleep(3) if w3.eth.getBlock('pending').transactions: print( time.strftime(\"%H:%M:%S\", time.localtime()) + \":Mining for pending transactions: %s\" % w3.eth.getBlock( 'pending').transactions) w3.geth.miner.start(num_threads) else: print(time.strftime(\"%H:%M:%S\", time.localtime()) + ':No pending transactions, sleeping...', end='\\r') w3.geth.miner.stop() if __name__ == \"__main__\": try: main() except KeyboardInterrupt: print(\"\\n\\nCtrl+C, bye!\") w3.geth.miner.stop() exit(0) except Exception as e: print(\"å‘ç”Ÿé”™è¯¯: %s\" % e) exit(0) è¿è¡Œæ—¶çš„æ ·å­ Connected to Ethereum client: Geth/v1.10.16-stable/darwin-amd64/go1.17.6 å¯åŠ¨è‡ªåŠ¨æŒ–çŸ¿... 13:24:42:Mining for pending transactions: [HexBytes('0x0cecdc430a73adc915d9944798e71735a48940b90e38965a3e4a5c8db6b48cb5')] 13:24:57:No pending transactions, sleeping... ","date":"2022-07-03","objectID":"/%E4%BD%BF%E7%94%A8web3.py%E5%AE%9E%E7%8E%B0%E5%8C%BA%E5%9D%97%E9%93%BE%E6%8C%89%E9%9C%80%E6%8C%96%E7%9F%BF/:2:0","tags":["web3.py","python"],"title":"ä½¿ç”¨web3.pyå®ç°åŒºå—é“¾æŒ‰éœ€æŒ–çŸ¿","uri":"/%E4%BD%BF%E7%94%A8web3.py%E5%AE%9E%E7%8E%B0%E5%8C%BA%E5%9D%97%E9%93%BE%E6%8C%89%E9%9C%80%E6%8C%96%E7%9F%BF/"},{"categories":["Blockchain"],"content":"å‰é¢åœ¨ ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-ä½¿ç”¨traffleå¥—ä»¶ ä¸­ ä½¿ç”¨ truffleå¥—ä»¶ä»é›¶å¼€å§‹æ­å»ºç¯å¢ƒ, ç¼–å†™ã€éƒ¨ç½²ã€æµ‹è¯•å’Œè°ƒç”¨æ™ºèƒ½åˆçº¦, è¿™æ¬¡æˆ‘ä»¬åªä½¿ç”¨ä¸€äº›å‘½ä»¤è¡Œå·¥å…·æ¥è¿›è¡Œ\"æ‰‹å·¥æ‰“é€ \" é…å¥—ä»£ç : https://github.com/yinhui1984/stepByStepSmartContract ","date":"2022-07-01","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/:0:0","tags":["solidity","ethereum","go-ethereum","python"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-æ‰‹å·¥æ‰“é€ ","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/"},{"categories":["Blockchain"],"content":"åˆ›å»ºæµ‹è¯•é“¾ è¿˜æ˜¯ä»¥ETHä¸ºä¾‹, ä½¿ç”¨ Go Ethereum https://geth.ethereum.org æ¥åˆ›å»º ä½¿ç”¨POWå…±è¯†ç®—æ³•çš„ä¸€ä¸ªç®€å•ç§æœ‰é“¾. ","date":"2022-07-01","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/:1:0","tags":["solidity","ethereum","go-ethereum","python"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-æ‰‹å·¥æ‰“é€ ","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/"},{"categories":["Blockchain"],"content":"å®‰è£…geth å®˜æ–¹æ•™ç¨‹ https://geth.ethereum.org/docs/install-and-build/installing-geth æˆ–è€…è‡ªå·±ä¸‹è½½å®‰è£…åŒ…è¿›è¡Œå®‰è£… https://geth.ethereum.org/downloads/ å®‰è£…å®Œæˆå, è¿è¡Œä¸€ä¸‹versionè¡¨ç¤ºæˆåŠŸ OSX MP16 ~/Downloads/privateNetwork â¯ geth version Geth Version: 1.10.16-stable Architecture: amd64 Go Version: go1.17.6 Operating System: darwin GOPATH= GOROOT=go ","date":"2022-07-01","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/:1:1","tags":["solidity","ethereum","go-ethereum","python"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-æ‰‹å·¥æ‰“é€ ","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/"},{"categories":["Blockchain"],"content":"åˆ›å»ºä¸€ä¸ªè´¦æˆ· ä¸‹é¢çš„åˆ›ä¸–æ–‡ä»¶ä¸­çš„coinbaseä¼šç”¨åˆ°è¿™ä¸ªè´¦æˆ·, ç”¨æ¥æ¥æ”¶æŒ–çŸ¿çš„æ”¶å…¥ ä¸ºæ–¹ä¾¿èµ·è§, å°†è´¦æˆ·å¯†ç å†™åˆ°password.txt , å½“ç„¶è¿™æ˜¯ä¸å®‰å…¨çš„è¡Œä¸º. echo 123456 \u003e password.txt æ–°å»ºè´¦æˆ·: geth --datadir ./data/ account new --password ./password.txt å…¶ä¸­çš„datadiræ˜¯æ•°æ®å­˜å‚¨ç›®å½•, åé¢çš„æ•°æ®æ–‡ä»¶éƒ½å°†å­˜åˆ°è¿™ä¸ªç›®å½•ä¸­ OSX MP16 ~/Downloads/privateNetwork â¯ geth --datadir ./data/ account new --password ./password.txt INFO [07-01|10:10:34.007] Maximum peer count ETH=50 LES=0 total=50 Your new key was generated Public address of the key: 0x79dF0D3c23f22370881dC92aF524A1D5E52e3552 Path of the secret key file: data/keystore/UTC--2022-07-01T02-10-34.008109000Z--79df0d3c23f22370881dc92af524a1d5e52e3552 - You can share your public address with anyone. Others need it to interact with you. - You must NEVER share the secret key with anyone! The key controls access to your funds! - You must BACKUP your key file! Without the key, it's impossible to access account funds! - You must REMEMBER your password! Without the password, it's impossible to decrypt the key! æ‰“å°å†…å®¹ä¸­çš„ 0x79dF0D3c23f22370881dC92aF524A1D5E52e3552æ˜¯å…¬é’¥, ä¹Ÿæ˜¯æˆ‘ä»¬çš„è´¦æˆ·åœ°å€ ","date":"2022-07-01","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/:1:2","tags":["solidity","ethereum","go-ethereum","python"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-æ‰‹å·¥æ‰“é€ ","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/"},{"categories":["Blockchain"],"content":"æ‰¾ä¸€ä¸ªç½‘ç»œID chainIdæˆ–è€…network ID ç”¨äºéš”ç¦»ä»¥å¤ªåŠå¯¹ç­‰ç½‘ç»œã€‚åªæœ‰å½“ä¸¤ä¸ªå¯¹ç­‰ç‚¹ä½¿ç”¨ç›¸åŒçš„åˆ›ä¸–å—å’Œç½‘ç»œ ID æ—¶ï¼ŒåŒºå—é“¾èŠ‚ç‚¹ä¹‹é—´æ‰ä¼šå‘ç”Ÿè¿æ¥ã€‚ä½¿ç”¨ â€“networkid å‘½ä»¤è¡Œé€‰é¡¹è®¾ç½® geth ä½¿ç”¨çš„ç½‘ç»œ IDã€‚ ä»¥å¤ªç½‘ä¸»ç½‘ ID ä¸º 1ã€‚å¦‚æœæ‚¨æä¾›ä¸ä¸»ç½‘ä¸åŒçš„è‡ªå®šä¹‰ç½‘ç»œ IDï¼Œæ‚¨çš„èŠ‚ç‚¹å°†ä¸ä¼šè¿æ¥åˆ°å…¶ä»–èŠ‚ç‚¹å¹¶å½¢æˆä¸“ç”¨ç½‘ç»œã€‚å¦‚æœæ‚¨æ‰“ç®—åœ¨ Internet ä¸Šè¿æ¥åˆ°æ‚¨çš„ç§æœ‰é“¾ï¼Œæœ€å¥½é€‰æ‹©ä¸€ä¸ªå°šæœªä½¿ç”¨çš„ç½‘ç»œ IDã€‚æ‚¨å¯ä»¥åœ¨ https://chainid.network æ‰¾åˆ°ç”±ç¤¾åŒºè¿è¡Œçš„ä»¥å¤ªåŠç½‘ç»œæ³¨å†Œè¡¨ã€‚ è¿™é‡Œæˆ‘ä»¬åªæ˜¯åœ¨æœ¬åœ°è¿è¡Œ, éšä¾¿ä½¿ç”¨ä¸€ä¸ªIDå°±å¯ä»¥äº†, æ¯”å¦‚1235 ","date":"2022-07-01","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/:1:3","tags":["solidity","ethereum","go-ethereum","python"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-æ‰‹å·¥æ‰“é€ ","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/"},{"categories":["Blockchain"],"content":"ç¼–å†™\"åˆ›ä¸–æ–‡ä»¶\" ä¸€ä¸ªæ–°çš„åŒºå—é“¾åœ¨ç”Ÿæˆç¬¬ä¸€ä¸ªåŒºå—, ä¹Ÿå°±æ˜¯åˆ›ä¸–å—çš„æ—¶å€™, éœ€è¦ä»åˆ›ä¸–æ–‡ä»¶æ¥è¿›è¡Œç”Ÿæˆ touch genesis.json { \"nonce\": \"0x0000000000000042\", \"timestamp\": \"0x00\", \"parentHash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\", \"extraData\": \"0x00\", \"gasLimit\": \"0x8000000\", \"difficulty\": \"0x0400\", \"mixhash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\", \"coinbase\": \"0x79dF0D3c23f22370881dC92aF524A1D5E52e3552\", \"alloc\": { \"0x79dF0D3c23f22370881dC92aF524A1D5E52e3552\": { \"balance\": \"1000000000000000000000\" } }, \"config\": { \"chainId\": 1235, \"homesteadBlock\": 0, \"byzantiumBlock\": 0, \"constantinopleBlock\": 0, \"eip150Block\": 0, \"eip155Block\": 0, \"eip158Block\": 0 } } å…³äºåˆ›ä¸–æ–‡ä»¶ä¸­çš„å„ä¸ªå­—æ®µçš„å«ä¹‰, åé¢ä¼šæœ‰ä¸€ç¯‡ä¸“é—¨çš„åšå®¢æ¥è®² æ³¨æ„: å°†coinbase ä»¥åŠ allocä¸­çš„åœ°å€ä¿®æ”¹ä¸ºä¸Šé¢åˆ›å»ºè´¦æˆ·æ—¶ä½ æ‰€å¾—åˆ°çš„åœ°å€ ","date":"2022-07-01","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/:1:4","tags":["solidity","ethereum","go-ethereum","python"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-æ‰‹å·¥æ‰“é€ ","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/"},{"categories":["Blockchain"],"content":"åˆå§‹åŒ–åŒºå—é“¾ geth --datadir ./data init ./genesis.json è¾“å‡º INFO [07-01|10:50:50.915] Maximum peer count ETH=50 LES=0 total=50 INFO [07-01|10:50:50.919] Set global gas cap cap=50,000,000 INFO [07-01|10:50:50.919] Allocated cache and file handles database=/Users/zhouyinhui/Downloads/privateNetwork/data/geth/chaindata cache=16.00MiB handles=16 INFO [07-01|10:50:51.007] Writing custom genesis block INFO [07-01|10:50:51.010] Persisted trie from memory database nodes=0 size=0.00B time=\"21.005Âµs\" gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=0.00B INFO [07-01|10:50:51.011] Successfully wrote genesis state database=chaindata hash=0ca0fb..b61b69 INFO [07-01|10:50:51.011] Allocated cache and file handles database=/Users/zhouyinhui/Downloads/privateNetwork/data/geth/lightchaindata cache=16.00MiB handles=16 INFO [07-01|10:50:51.090] Writing custom genesis block INFO [07-01|10:50:51.090] Persisted trie from memory database nodes=0 size=0.00B time=\"2.71Âµs\" gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=0.00B INFO [07-01|10:50:51.091] Successfully wrote genesis state database=lightchaindata hash=0ca0fb..b61b69 OSX MP16 ~/Downloads/privateNetwork â¯ ç”Ÿæˆçš„æ–‡ä»¶åœ¨ ./data/gethä¸‹ ","date":"2022-07-01","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/:1:5","tags":["solidity","ethereum","go-ethereum","python"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-æ‰‹å·¥æ‰“é€ ","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/"},{"categories":["Blockchain"],"content":"è¿è¡ŒåŒºå—é“¾ geth --datadir ./data/ --networkid 1235 --port 8545 --http --http.api 'admin,eth,miner,net,txpool,personal,web3' --mine --allow-insecure-unlock --unlock '0x79dF0D3c23f22370881dC92aF524A1D5E52e3552' --password password.txt --datadir æ•°æ®æ–‡ä»¶ç›®å½• --networkid ç½‘ç»œID --port RPCç«¯å£ --http å¯ç”¨http-rpcæœåŠ¡ --http.apiæä¾›é‚£äº›API --mine å¯ç”¨æŒ–çŸ¿ --allow-insecure-unlock å½“è´¦æˆ·ç›¸å…³çš„RPCè¢«httpæš´éœ²æ—¶ï¼Œå…è®¸ä¸å®‰å…¨çš„è´¦æˆ·è§£é” --unlock è§£é”è´¦æˆ· (å¤šä¸ªè´¦æˆ·ç”¨é€—å·åˆ†å‰²) --password è§£é”è´¦æˆ·ç”¨åˆ°çš„å¯†ç æ–‡ä»¶ æˆåŠŸè¿è¡Œå, ä¼šçœ‹åˆ°å¾ˆå¤šæ‰“å°ä¿¡æ¯, å…¶ä¸­å€¼å¾—æ³¨æ„çš„æ˜¯ä¸‹é¢è¿™ä¸¤è¡Œ, ä¸€ä¸ªæ˜¯ipc, ä¸€ä¸ªæ˜¯http server, æˆ‘ä»¬ä¼šä½¿ç”¨ä»–ä»¬æ¥å’Œæˆ‘ä»¬çš„åŒºå—é“¾è¿›è¡Œé€šè®¯ INFO [07-01|11:08:58.245] IPC endpoint opened url=/Users/zhouyinhui/Downloads/privateNetwork/data/geth.ipc INFO [07-01|11:08:58.245] HTTP server started endpoint=127.0.0.1:8545 prefix= cors= vhosts=localhost å¦å¤–ä¸€æ¡æ˜¯ æˆ‘ä»¬ä½œä¸ºåŒºå—é“¾ä¸­çš„å¯¹ç­‰èŠ‚ç‚¹PEER NODEæ—¶çš„ä¿¡æ¯, è¿™é‡Œæˆ‘ä»¬è¿˜ç”¨ä¸åˆ° Started P2P networking self=enode://de2537c5f309be45bcb2d011cd172138db40295f74a288b07e03635e2194e7c2987cf97c9d295dc502053d9f7adda11052597c7f1bc5a5ec3d8182777138a0f1@127.0.0.1:8545 è¯·ä¿æŒåŒºå—é“¾åœ¨åå°è¿è¡Œ, åé¢çš„ä»£ç éƒ½éœ€è¦ç”¨åˆ° ","date":"2022-07-01","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/:2:0","tags":["solidity","ethereum","go-ethereum","python"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-æ‰‹å·¥æ‰“é€ ","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/"},{"categories":["Blockchain"],"content":"ä¸æµ‹è¯•é“¾è¿›è¡Œäº¤äº’ attachåˆ°æµ‹è¯•é“¾, å°±å¯ä»¥å¯åŠ¨ä¸€ä¸ªjs console, å’Œtruffle consoleåŠŸèƒ½ä¸€æ · æ–¹å¼1, é€šè¿‡IPCè¿›è¡Œattach geth attach /Users/zhouyinhui/Downloads/privateNetwork/data/geth.ipc OSX MP16 ~/blockchain/private_net/tempchain â¯ geth attach /Users/zhouyinhui/Downloads/privateNetwork/data/geth.ipc Welcome to the Geth JavaScript console! .... To exit, press ctrl-d or type exit \u003e eth.chainId() \"0x4d3\" \u003e \"0x4d3\" ä¹Ÿå°±æ˜¯ æˆ‘ä»¬çš„ 1235 å…¶ä¸­ *.ipc å¯ä»¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„ æ–¹å¼2, é€šè¿‡httpæœåŠ¡è¿›è¡Œattach geth attach http://127.0.0.1:8545 ","date":"2022-07-01","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/:3:0","tags":["solidity","ethereum","go-ethereum","python"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-æ‰‹å·¥æ‰“é€ ","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/"},{"categories":["Blockchain"],"content":"ä¸€é”®ç”Ÿæˆæµ‹è¯•é“¾ ä¸Šé¢é‚£äº›ç¹ççš„æ­¥éª¤å¯ä»¥ææˆä¸€ä¸ªè„šæœ¬, ä¸€é”®ç”Ÿæˆ, è¿™æ ·æ¥å¾—æ›´æ–¹ä¾¿ è„šæœ¬åœ¨è¿™é‡Œ: https://github.com/yinhui1984/stepByStepSmartContract/blob/main/autogen/autoGenChain.py (ç›´æ¥å°†ä»£ç è´´åˆ°è¿™é‡Œä¼šå¯¼è‡´GitHub Pages failed to build your siteÂ ğŸ˜‚) ","date":"2022-07-01","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/:4:0","tags":["solidity","ethereum","go-ethereum","python"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-æ‰‹å·¥æ‰“é€ ","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/"},{"categories":["Blockchain"],"content":"ç¼–å†™æ™ºèƒ½åˆçº¦ æˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨ ä¸Šç¯‡åšå®¢ä¸­çš„æ™ºèƒ½åˆçº¦ mkdir ./contracts cd ./contracts touch Calculator.sol // SPDX-License-Identifier: MIT pragma solidity ^0.8.0; contract Calculator { function add(int a, int b) public pure returns (int) { return a + b; } function subtract(int a, int b) public pure returns (int) { return a - b; } } ","date":"2022-07-01","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/:5:0","tags":["solidity","ethereum","go-ethereum","python"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-æ‰‹å·¥æ‰“é€ ","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/"},{"categories":["Blockchain"],"content":"ç¼–è¯‘æ™ºèƒ½åˆçº¦ å¦‚æœä½ çš„ç”µè„‘ä¸Šæ²¡æœ‰solc, è¯·äº‹å…ˆå®‰è£…, å®ƒæ˜¯solidityçš„ç¼–è¯‘å™¨, å®˜æ–¹æ•™ç¨‹: https://docs.soliditylang.org/en/v0.8.15/installing-solidity.html#installing-solidity ç¼–è¯‘: solc --bin --abi -o ./build ./Calculator.sol --bin ç”Ÿæˆ16è¿›åˆ¶æ–‡ä»¶ --abiç”Ÿæˆabiæ–‡ä»¶ -oè¾“å‡ºç›®å½• å¯ä»¥å†™ä¸€ä¸ªMakefileæ¥å¹²è¿™ä¸ªäº‹æƒ…: all: solc --bin --abi --overwrite -o ./build ./Calculator.sol clean: rm -rf ./build/* OSX MP16 ~/Downloads/privateNetwork/contracts â¯ tree . â”œâ”€â”€ Calculator.sol â”œâ”€â”€ Makefile â””â”€â”€ build â”œâ”€â”€ Calculator.abi â””â”€â”€ Calculator.bin ","date":"2022-07-01","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/:6:0","tags":["solidity","ethereum","go-ethereum","python"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-æ‰‹å·¥æ‰“é€ ","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/"},{"categories":["Blockchain"],"content":"éƒ¨ç½²æ™ºèƒ½åˆçº¦ æ–°å»ºä¸€ä¸ªnode.js é¡¹ç›®deploy mkdir -p deploy/ cd deploy/ npm init touch index.js å®‰è£…web3.js npm install web3 åœ¨index.jsä¸­åŠ å…¥å¦‚ä¸‹ä»£ç : const fs = require('fs'); const Web3 = require('web3'); const web3 = new Web3('http://127.0.0.1:8545'); const bytecode = fs.readFileSync('../build/Calculator.bin').toString(); const abi = JSON.parse(fs.readFileSync('../build/Calculator.abi').toString()); (async function () { const accounts = await web3.eth.getAccounts(); const calculator = new web3.eth.Contract(abi); calculator.deploy({ data: bytecode }).send({ from: accounts[0], }).then((deployment) =\u003e { console.log('Contract was deployed at the following address:'); console.log(deployment.options.address); }).catch((err) =\u003e { console.error(err); }); })(); æ³¨æ„, ä¸Šé¢çš„éƒ¨ç½²ä»£ç æ²¡æœ‰ä½¿ç”¨è´¦æˆ·çš„ç§é’¥, æ˜¯å› ä¸ºåœ¨å‰é¢çš„æ­¥éª¤ä¸­, è´¦æˆ·å·²ç»è§£é”äº† åœ¨éƒ¨ç½²ä¹‹å‰éœ€è¦å…ˆå¯åŠ¨æŒ–çŸ¿ OSX MP16 ~/Downloads/pri/mychain â¯ ./attach.sh ... \u003e miner.start() null \u003e eth.blockNumber 26 éƒ¨ç½²: OSX MP16 ~/Downloads/pri/c/d/deploy_js â¯ node ./index.js Contract was deployed at the following address: 0x1F55d61D5Aa8eC92FD1Da0f19FaC9D552A29DBBF éƒ¨ç½²æˆåŠŸ, åœæ‰æŒ–çŸ¿, å¦åˆ™ç”µè„‘å·¨çƒ«â€¦ \u003e miner.stop() null ","date":"2022-07-01","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/:7:0","tags":["solidity","ethereum","go-ethereum","python"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-æ‰‹å·¥æ‰“é€ ","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/"},{"categories":["Blockchain"],"content":"è°ƒç”¨æ™ºèƒ½åˆçº¦ è°ƒç”¨æ™ºèƒ½åˆçº¦å°±å’Œ ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-ä½¿ç”¨truffleå¥—ä»¶ä¸­çš„ä¸€æ ·äº†, å¯ä»¥è·³è½¬åˆ°é‚£é‡Œè¿›è¡Œå‚è€ƒ ","date":"2022-07-01","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/:8:0","tags":["solidity","ethereum","go-ethereum","python"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-æ‰‹å·¥æ‰“é€ ","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0/"},{"categories":["Blockchain"],"content":"è¿™ç¯‡æ–‡ç« å°†å¸¦ä½ ä½¿ç”¨traffleå¥—ä»¶ä»é›¶å¼€å§‹æ­å»ºç¯å¢ƒ, ç¼–å†™ã€éƒ¨ç½²ã€æµ‹è¯•å’Œè°ƒç”¨æ™ºèƒ½åˆçº¦ã€‚ é…å¥—ä»£ç åœ¨ https://github.com/yinhui1984/HelloTruffle ","date":"2022-06-29","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/:0:0","tags":["solidity","truffle","ganache","ethereum","go-ethereum"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-ä½¿ç”¨traffleå¥—ä»¶","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/"},{"categories":["Blockchain"],"content":"ä½¿ç”¨traffleå¥—ä»¶ ","date":"2022-06-29","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/:1:0","tags":["solidity","truffle","ganache","ethereum","go-ethereum"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-ä½¿ç”¨traffleå¥—ä»¶","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/"},{"categories":["Blockchain"],"content":"1. å®‰è£…node.js https://nodejs.org/en/ å®‰è£…å®Œæˆå, æŸ¥çœ‹æ˜¯å¦ç‰ˆæœ¬ä»¥ç¡®ä¿æˆåŠŸ npm -v node -v ","date":"2022-06-29","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/:1:1","tags":["solidity","truffle","ganache","ethereum","go-ethereum"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-ä½¿ç”¨traffleå¥—ä»¶","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/"},{"categories":["Blockchain"],"content":"2. å®‰è£…truffleå’ŒGanache truffleæ˜¯ä¸€å¥—æ™ºèƒ½åˆçº¦çš„å¼€å‘æµ‹è¯•ç¯å¢ƒ Ganacheç”¨äºåˆ›å»ºæµ‹è¯•é“¾(å¯ä»¥åˆ›å»ºETH FILECOINç­‰æµ‹è¯•é“¾), ç”¨æ¥è·‘è‡ªå·±åˆ›å»ºçš„åˆçº¦. https://trufflesuite.com ä½¿ç”¨npmå®‰è£…truffle npm install -g truffle å®‰è£…å®Œæˆå, æŸ¥çœ‹ç‰ˆæœ¬ä»¥ç¡®ä¿æˆåŠŸ truffle version å¦‚æœé‡åˆ°permission denied: truffle æ‰¾åˆ°truffleæ–‡ä»¶ ll /usr/local/bin/truffle å¯ä»¥çœ‹åˆ°å…¶è½¯è¿æ¥åˆ°cli.bundled.js Permissions Size User Date Modified Name lrwxr-xr-x 48 zhouyinhui 29 Jun 14:06 ï€– /usr/local/bin/truffle -\u003e ../lib/node_modules/truffle/build/cli.bundled.js ç»™è¿™ä¸ªjsåŠ ä¸Šæ‰§è¡Œæƒé™å³å¯ chmod +x /usr/local/lib/node_modules/truffle/build/cli.bundled.js å®‰è£…Ganache åˆ°è¿™é‡Œç›´æ¥ä¸‹è½½å³å¯ https://trufflesuite.com/ganache/ ","date":"2022-06-29","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/:1:2","tags":["solidity","truffle","ganache","ethereum","go-ethereum"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-ä½¿ç”¨traffleå¥—ä»¶","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/"},{"categories":["Blockchain"],"content":"3. ä½¿ç”¨truffleæ–°å»ºé¡¹ç›® æ–°å»ºä¸€ä¸ªç›®å½•, æ¯”å¦‚~/Downloads/truffleTest åˆ°è¿™ä¸ªç›®å½•ä¸‹ OSX MP16 ~/Downloads/truffleTest â¯ truffle init Starting init... ================ \u003e Copying project files to /Users/zhouyinhui/Downloads/truffleTest Init successful, sweet! Try our scaffold commands to get started: $ truffle create contract YourContractName # scaffold a contract $ truffle create test YourTestName # scaffold a test http://trufflesuite.com/docs å…¶æ–°å»ºäº†è¿™äº›æ–‡ä»¶ OSX MP16 ~/Downloads/truffleTest â¯ tree . â”œâ”€â”€ contracts â”‚Â â””â”€â”€ Migrations.sol â”œâ”€â”€ migrations â”‚Â â””â”€â”€ 1_initial_migration.js â”œâ”€â”€ test â””â”€â”€ truffle-config.js contractsæ–‡ä»¶å¤¹å­˜æ”¾åˆçº¦çš„åœ°æ–¹, åœ¨å…¶ä¸­æ–°å»ºä¸€ä¸ªsolidityæºç æ–‡ä»¶, æ¯”å¦‚Calculator.sol touch ./contracts/Calculator.sol åœ¨Calculator.solä¸­æ·»åŠ å¦‚ä¸‹ä»£ç æ¥åšä¸ªåŠ å‡æ³• // SPDX-License-Identifier: MIT pragma solidity ^0.8.0; contract Calculator { function add(int a, int b) public pure returns (int) { return a + b; } function subtract(int a, int b) public pure returns (int) { return a - b; } } å…¶ä¸­çš„pureè¡¨ç¤ºæ”¹å‡½æ•°æ—¢ä¸è¯»ä¹Ÿä¸å†™çŠ¶æ€æœºå˜é‡ https://hashnode.com/post/pure-vs-view-in-solidity-cl04tbzlh07kaudnv1ial1gio å¤åˆ¶ä¸Šé¢ä»£ç æ—¶æ³¨æ„ pragma solidity ^0.8.0;è¿™ä¸€è¡Œå’Œ trffle-config.jsä¸­çš„ä¸‹é¢çš„é…ç½®ç›¸åŒ¹é… // Configure your compilers compilers: { solc: { version: \"0.8.15\", //.... }, } pragma solidity ^0.8.0 è¡¨ç¤ºç¼–è¯‘å™¨ä½¿ç”¨0.8åˆ°0.9ç‰ˆæœ¬ä¹‹é—´çš„(ä¸åŒ…å«0.9), é‚£ä¹ˆtrffle-config.jsä¸­é…ç½®çš„ç¼–è¯‘å™¨ç‰ˆæœ¬è¦åœ¨è¿™ä¸ªèŒƒå›´å†… ","date":"2022-06-29","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/:1:3","tags":["solidity","truffle","ganache","ethereum","go-ethereum"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-ä½¿ç”¨traffleå¥—ä»¶","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/"},{"categories":["Blockchain"],"content":"4.ç¼–è¯‘ truffle compile OSX MP16 ~/Downloads/truffleTest â¯ truffle compile Compiling your contracts... =========================== \u003e Compiling ./contracts/Calculator.sol \u003e Artifacts written to /Users/zhouyinhui/Downloads/truffleTest/build/contracts \u003e Compiled successfully using: - solc: 0.8.15+commit.e14f2714.Emscripten.clang ç¼–è¯‘å®Œæˆå, ä¼šå°†ç»“æœæ”¾åˆ°buildç›®å½•ä¸‹: æˆ‘ä»¬è¿™é‡Œå…³å¿ƒçš„æ˜¯Calculator.json OSX MP16 ~/Downloads/truffleTest â¯ tree . â”œâ”€â”€ build â”‚Â â””â”€â”€ contracts â”‚Â â”œâ”€â”€ Calculator.json â”‚Â â””â”€â”€ Migrations.json â”œâ”€â”€ contracts â”‚Â â”œâ”€â”€ Calculator.sol â”‚Â â””â”€â”€ Migrations.sol â”œâ”€â”€ migrations â”‚Â â””â”€â”€ 1_initial_migration.js â”œâ”€â”€ test â””â”€â”€ truffle-config.js 5 directories, 6 files ","date":"2022-06-29","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/:1:4","tags":["solidity","truffle","ganache","ethereum","go-ethereum"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-ä½¿ç”¨traffleå¥—ä»¶","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/"},{"categories":["Blockchain"],"content":"5.éƒ¨ç½²åˆ°æµ‹è¯•é“¾ å¯åŠ¨æµ‹è¯•é“¾ å¯åŠ¨ ganache App, ç‚¹å‡»QUICKSTART å…¶å°±è‡ªåŠ¨åˆ›å»ºäº†ETHæµ‹è¯•é“¾, æŸ¥çœ‹çª—å£ä¸ŠåŠéƒ¨åˆ†æ˜¾ç¤ºçš„çš„RPC serverä¿¡æ¯, æ¯”å¦‚ HTTP://127.0.0.1:8545 ä¿®æ”¹ truffle-config.jsä¸­çš„éƒ¨ç½²é…ç½®, ä½¿å…¶ä¸ä¸Šé¢çš„RPC serverå‘åŒ¹é… networks: { //... development: { host: \"127.0.0.1\", // Localhost (default: none) port: 8545, // Standard Ethereum port (default: none) network_id: \"*\", // Any network (default: none) }, Note è¯·ä¿æŒganacheåœ¨åå°è¿è¡Œ, åé¢çš„ä»£ç éƒ½éœ€è¦è®¿é—®æµ‹è¯•é“¾ æ·»åŠ éƒ¨ç½²ä»£ç  touch migrations/2_deploy_contracts.js åœ¨2_deploy_contracts.jsä¸­åŠ å…¥å¦‚ä¸‹ä»£ç  var Calculator = artifacts.require(\"./Calculator.sol\"); module.exports = function(deployer) { deployer.deploy(Calculator); } éƒ¨ç½²åˆçº¦ è¿è¡Œ truffle migrate å‘½ä»¤è¿›è¡Œéƒ¨ç½² OSX MP16 ~/Downloads/truffleTest â¯ truffle migrate Compiling your contracts... =========================== \u003e Everything is up to date, there is nothing to compile. Starting migrations... ====================== \u003e Network name: 'development' \u003e Network id: 5777 \u003e Block gas limit: 6721975 (0x6691b7) 1_initial_migration.js ====================== Deploying 'Migrations' ---------------------- \u003e transaction hash: 0xc4b0bf65cbac8d1cf68b72fc6408bd443c18e6bf3e44c5985dede50b191a80d1 \u003e Blocks: 0 Seconds: 0 \u003e contract address: 0xe2fd5fA1303B9791417EF637AABd50aE9DB9Af44 \u003e block number: 1 \u003e block timestamp: 1656490514 \u003e account: 0xe149d5f732685669C9E494B233fDB4312d19b5cF \u003e balance: 99.99502292 \u003e gas used: 248854 (0x3cc16) \u003e gas price: 20 gwei \u003e value sent: 0 ETH \u003e total cost: 0.00497708 ETH \u003e Saving migration to chain. \u003e Saving artifacts ------------------------------------- \u003e Total cost: 0.00497708 ETH 2_deploy_contracts.js ===================== Deploying 'Calculator' ---------------------- \u003e transaction hash: 0xc8cce4b870d187dadf38353e6ef71aabd0751375a2f2b8c763ed4a35d8067a0c \u003e Blocks: 0 Seconds: 0 \u003e contract address: 0x6B62e4E253823FBC65E0B93d63ee149350158a18 \u003e block number: 3 \u003e block timestamp: 1656490515 \u003e account: 0xe149d5f732685669C9E494B233fDB4312d19b5cF \u003e balance: 99.98984578 \u003e gas used: 216344 (0x34d18) \u003e gas price: 20 gwei \u003e value sent: 0 ETH \u003e total cost: 0.00432688 ETH \u003e Saving migration to chain. \u003e Saving artifacts ------------------------------------- \u003e Total cost: 0.00432688 ETH Summary ======= \u003e Total deployments: 2 \u003e Final cost: 0.00930396 ETH ","date":"2022-06-29","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/:1:5","tags":["solidity","truffle","ganache","ethereum","go-ethereum"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-ä½¿ç”¨traffleå¥—ä»¶","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/"},{"categories":["Blockchain"],"content":"6. æµ‹è¯•åˆçº¦ ä½¿ç”¨truffle console æ‰‹åŠ¨è°ƒç”¨ è¿è¡Œ truffle console æ‰“å¼€æ§åˆ¶å° truffle(development)\u003e let cal = await Calculator.deployed() truffle(development)\u003e cal.add(1,2) BN { negative: 0, words: [ 3, \u003c1 empty item\u003e ], length: 1, red: null } truffle(development)\u003e cal.subtract(10, 2) BN { negative: 0, words: [ 8, \u003c1 empty item\u003e ], length: 1, red: null } åœ¨æ§åˆ¶å°ä¸­å¯ä»¥ä½¿ç”¨TABæŒ‰é”®æ¥æç¤ºæˆå‘˜å˜é‡æˆ–å‡½æ•° ä½¿ç”¨jsç¼–å†™å•å…ƒæµ‹è¯• touch test/testCalculator.test.js //testCalculator.test.js //å¼€å‘æ¡†æ¶å¯¼å…¥åˆçº¦ const Calculator = artifacts.require(\"Calculator\"); //æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®šä¹‰ç”¨äºæµ‹è¯•çš„åˆçº¦ï¼Œç„¶åå°†è´¦æˆ·ä½œä¸ºåŒ…å«æ‰€æœ‰åœ°å€çš„å‚æ•°ä¼ é€’ã€‚ contract(\"Calculator\", accounts =\u003e { //itåŒ…å«å¯¹æˆ‘ä»¬è¦è¿è¡Œçš„æµ‹è¯•çš„ç®€çŸ­æè¿°ï¼Œ // å®ƒæ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰æµ‹è¯•ç›¸å…³è„šæœ¬çš„å¼‚æ­¥å‡½æ•° it(\"should add two numbers\", async () =\u003e { //cal: å®šä¹‰å­˜å‚¨å·²éƒ¨ç½²åˆçº¦çš„å®ä¾‹ã€‚ const cal = await Calculator.deployed(); const result = await cal.add(4, 2); assert.equal(result.toNumber(), 6); }).timeout(10000); it(\"should subtract two numbers\", async () =\u003e { const cal = await Calculator.deployed(); const result = await cal.subtract(3, 2); assert.equal(result.toNumber(), 1); }).timeout(10000); }); è¿è¡Œ truffle test è·‘æµ‹è¯• OSX MP16 ~/Downloads/truffleTest â¯ truffle test Using network 'development'. Compiling your contracts... =========================== \u003e Everything is up to date, there is nothing to compile. Contract: Calculator âœ” should add two numbers âœ” should subtract two numbers (48ms) 2 passing (126ms) ","date":"2022-06-29","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/:1:6","tags":["solidity","truffle","ganache","ethereum","go-ethereum"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-ä½¿ç”¨traffleå¥—ä»¶","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/"},{"categories":["Blockchain"],"content":"7. demoAppè°ƒç”¨åˆçº¦ ä½¿ç”¨web3.js æˆ‘ä»¬ä½¿ç”¨web3.js åˆ›å»ºä¸€ä¸ªappæ¥å®é™…ä½¿ç”¨æˆ‘ä»¬çš„åˆçº¦ åˆå§‹åŒ–ä¸€ä¸ªnode.js app mkdir -p ./demo/jsApp cd ./demo/jsApp/ npm init ç„¶åä¸€è·¯é»˜è®¤å›è½¦ touch index.js å®‰è£…web3.js npm install web3 åœ¨index.jsä¸­åŠ å…¥å¦‚ä¸‹ä»£ç  const Web3 = require('web3'); //æ³¨æ„ï¼Œè¿™é‡Œæœ‰ä¸ªå‘ï¼Œ æœ‰æ—¶å€™http://localhost:8545 ç”¨localhostå¯ä»¥ï¼Œæœ‰æ—¶å€™è¿æ¥ä¸ä¸Š //æœ€å¥½ç”¨127.0.0.1 const web3 = new Web3(new Web3.providers.HttpProvider(\"http://127.0.0.1:8545\")); //web3.eth.getAccounts().then(console.log) //modify the following line to your own contract address let contractAddress = \"0x6B62e4E253823FBC65E0B93d63ee149350158a18\"; //copy abi from ./build/contracts/Calculator.json let abi = [ { \"inputs\": [ { \"internalType\": \"int256\", \"name\": \"a\", \"type\": \"int256\" }, { \"internalType\": \"int256\", \"name\": \"b\", \"type\": \"int256\" } ], \"name\": \"add\", \"outputs\": [ { \"internalType\": \"int256\", \"name\": \"\", \"type\": \"int256\" } ], \"stateMutability\": \"pure\", \"type\": \"function\", \"constant\": true }, { \"inputs\": [ { \"internalType\": \"int256\", \"name\": \"a\", \"type\": \"int256\" }, { \"internalType\": \"int256\", \"name\": \"b\", \"type\": \"int256\" } ], \"name\": \"subtract\", \"outputs\": [ { \"internalType\": \"int256\", \"name\": \"\", \"type\": \"int256\" } ], \"stateMutability\": \"pure\", \"type\": \"function\", \"constant\": true } ] let contract = new web3.eth.Contract(abi,contractAddress); contract.methods.add(4,2).call().then(console.log); contract.methods.subtract(3,2).call().then(console.log); å…¶ä¸­çš„ contractAddressæ˜¯æˆ‘ä»¬éƒ¨ç½²çš„Caculatoråˆçº¦åœ°å€ å¦‚ä½•æ‰¾åˆ°åˆçº¦åœ°å€? æ–¹å¼1, åœ¨ä¸Šé¢çš„truffle migrateè¿›è¡Œåˆçº¦éƒ¨ç½²æ—¶,ä¼šæ‰“å° æ–¹å¼2, åœ¨Ganacheè½¯ä»¶ç•Œé¢çš„Transactionsä¸­æ‰¾, è²Œä¼¼ä¸æ–¹ä¾¿ æ–¹å¼3, åœ¨Ganacheè½¯ä»¶ç•Œé¢ : Settings -\u003e Workspace ä¸­ç‚¹å‡»ADD Project æ·»åŠ  truffle-config.jsæ–‡ä»¶å…³è”é¡¹ç›®, ç„¶åç‚¹å‡»RESTARTé‡æ–°å›åˆ°ä¸»ç•Œé¢çš„CONTRACTSå°±å¯ä»¥çœ‹åˆ°äº† æ–¹å¼4, è¿è¡Œtruffle console truffle(development)\u003e Calculator.address '0x6B62e4E253823FBC65E0B93d63ee149350158a18' å…¶ä¸­çš„abiæ˜¯åˆçº¦å¯¹åº”çš„abi å¦‚ä½•æ‰¾åˆ°abi? æ–¹å¼1, solc --abi ./contracts/Calculator.sol æ–¹å¼2, åˆ°./build/contracts/Calculator.jsonä¸­, æ‰¾åˆ°\"abi\"å¯¹åº”çš„å€¼ ä¸è¦ä½¿ç”¨truffle consoleä¸­çš„Calculator.abi è¿è¡Œapp OSX MP16 ~/Downloads/truffleTest/demo/jsApp â¯ node index.js 6 1 ä½¿ç”¨golang mkdir -p ./demo/goApp cd ./demo/goApp touch main.go go mod init goApp éœ€è¦ä½¿ç”¨åˆ° \"github.com/ethereum/go-ethereum/ethclient\"è¿™ä¸ªåŒ… go get \"github.com/ethereum/go-ethereum/ethclient\" è¿™ä¸ªåŒ…å¦‚æœè¦è°ƒç”¨åˆçº¦, åˆ™éœ€è¦ä¸€äº›é¢å¤–çš„æ“ä½œ é¢å¤–çš„æ“ä½œ: åˆ©ç”¨ abigen ä»solidityæºæ–‡ä»¶ç”Ÿæˆgolangä»£ç  OSX MP16 ~/Downloads/truffleTest/demo/goApp â¯ mkdir contracts abigen --pkg contracts --sol ../../contracts/Calculator.sol --out ./contracts/calculatorContract.go â€“pkg contracts : æŒ‡å®šç”Ÿæˆçš„ä»£ç çš„ package name â€“sol ../../contracts/Calculator.sol : æŒ‡å®šåˆçº¦ä»£ç ä½ç½® â€“out ./contracts/calculatorContract.go: æŒ‡å®šç”Ÿæˆçš„ä»£ç ä½ç½® ç”Ÿæˆå®Œæˆå, goAppçš„ç›®å½•ç»“æ„å¦‚ä¸‹: tree ~/Downloads/truffleTest/demo/goApp /Users/zhouyinhui/Downloads/truffleTest/demo/goApp â”œâ”€â”€ contracts â”‚Â â””â”€â”€ calculatorContract.go â”œâ”€â”€ go.mod â”œâ”€â”€ go.sum â””â”€â”€ main.go ç”Ÿæˆåçš„calculatorContract.goä¸­importåŒ…,å¯èƒ½å¹¶ä¸åœ¨go.modä¸­, æ‰€ä»¥è¿è¡Œä¸€æ¬¡ go mod tidyä»¥é¿å…ç¼–è¯‘æ—¶æ‰¾ä¸åˆ°åŒ… main.goä¸­ä»£ç å¦‚ä¸‹: package main import ( \"fmt\" \"github.com/ethereum/go-ethereum/accounts/abi/bind\" \"github.com/ethereum/go-ethereum/common\" \"github.com/ethereum/go-ethereum/ethclient\" \"goApp/contracts\" \"math/big\" ) //https://goethereumbook.org/client-setup/ func main() { client, err := ethclient.Dial(\"http://localhost:8545\") if err != nil { fmt.Println(\"could not connect to local node, err:\", err) return } contractAddress := common.HexToAddress(\"0x6B62e4E253823FBC65E0B93d63ee149350158a18\") calculator, err := contracts.NewCalculator(contractAddress, client) if err != nil { fmt.Println(\"could not instantiate contract, err:\", err) return } callOpts := bind.CallOpts{ Context: nil, Pending: false, } a := big.NewInt(1) b := big.NewInt(2) result, err := calculator.Add(\u0026callOpts, a, b) if err != nil { fmt.Println(\"could not call contract, err:\", err) return } fmt.Println(\"add result:\", result) result, err = calculator.Subtract(\u0026callOpts, a, b) if err != nil { fmt.Println(\"could not call contract, err:\", err) return } fmt.Println(\"subtract result:\", result) } è¿è¡Œ OSX MP16 ~/Downloads/truffleTest/demo/goApp â¯ go run . add result: 3 subtract result: -1 ","date":"2022-06-29","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/:1:7","tags":["solidity","truffle","ganache","ethereum","go-ethereum"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-ä½¿ç”¨traffleå¥—ä»¶","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/"},{"categories":["Blockchain"],"content":"æ‰‹å·¥æ’¸ è¿™é‡Œ: https://yinhui1984.github.io/ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-æ‰‹å·¥æ‰“é€ / ","date":"2022-06-29","objectID":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/:2:0","tags":["solidity","truffle","ganache","ethereum","go-ethereum"],"title":"ä»é›¶å¼€å§‹ç¼–å†™æ™ºèƒ½åˆçº¦-ä½¿ç”¨traffleå¥—ä»¶","uri":"/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%BC%96%E5%86%99%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6-%E4%BD%BF%E7%94%A8truffle%E5%A5%97%E4%BB%B6/"},{"categories":["golang"],"content":"æˆ‘ä»¬å°†ç”¨äº›ç®€å•çš„ä¾‹å­æ¥å°è¯•golangä¸­syncåŒ…çš„å„ç§æœ‰è¶£çš„æƒ…å†µ ","date":"2022-06-12","objectID":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/:0:0","tags":["go","sync"],"title":"èŠèŠgoè¯­è¨€ä¸­çš„sync","uri":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/"},{"categories":["golang"],"content":"ä¸€ä¸ªç®€å•çš„DEMO package main import \"fmt\" var ( sharedCounter = 0 ) func add(count int) { for i := 0; i \u003c count; i++ { sharedCounter++ } } func sub(count int) { for i := 0; i \u003c count; i++ { sharedCounter-- } } func show() { fmt.Println(sharedCounter) } func main() { add(1000000) sub(1000000) show() } ç¨‹åºå¾ˆç®€å•, æˆ‘ä»¬ç”¨ä¸€ä¸ªå…±äº«å˜é‡sharedCounterä½œä¸ºä¸€ä¸ªè®¡æ•°å™¨. addå‡½æ•°åœ¨è®¡æ•°å™¨ä¸Šå¾ªç¯æ·»åŠ ä¸€å®šçš„æ•°å€¼, subåˆ™ç›¸å, showåˆ™æ˜¯æ‰“å°è®¡æ•°å™¨å½“å‰çš„å€¼. ç¨‹åºè¿è¡Œç»“æŸå, sharedCounteråº”è¯¥ä¸º0, ä¸Šé¢ä»£ç çš„è¾“å‡ºçš„ç¡®å¦‚æ­¤. ","date":"2022-06-12","objectID":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/:1:0","tags":["go","sync"],"title":"èŠèŠgoè¯­è¨€ä¸­çš„sync","uri":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/"},{"categories":["golang"],"content":"ä½¿ç”¨ä¸€ä¸ªåç¨‹ å¦‚æœå¯¹è®¡æ•°å™¨è¿›è¡ŒåŠ å‡çš„è°ƒç”¨åœ¨ä¸åŒçš„åç¨‹é‡Œé¢, ä¼šæ€ä¹ˆæ ·å‘¢? func main() { add(1000000) go sub(1000000) show() } ä¼šå¾—åˆ°1000000 , å› ä¸ºgo sub(1000000)åˆšå¯åŠ¨, ç¨‹åºå°±é€€å‡ºäº†. æˆ–è®¸æˆ‘ä»¬åº”è¯¥ç­‰åˆ°subå‡½æ•°æ‰§è¡Œç»“æŸ ","date":"2022-06-12","objectID":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/:2:0","tags":["go","sync"],"title":"èŠèŠgoè¯­è¨€ä¸­çš„sync","uri":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/"},{"categories":["golang"],"content":"ç­‰å¾…åç¨‹ç»“æŸ é”™è¯¯çš„æ–¹å¼ å¦‚æœæœ‰Cè¯­è¨€å¼€å‘èƒŒæ™¯, å¯èƒ½ä¼šæƒ³åˆ°é€šè¿‡è®¾ç½®ä¸€ä¸ªflagæ¥æŒ‡ç¤ºè¿ç®—æ˜¯å¦ç»“æŸ, æ¯”å¦‚: func sub(count int, done *bool) { for i := 0; i \u003c count; i++ { sharedCounter-- } *done = true } //.... func main() { add(1000000) done := false go sub(1000000, \u0026done) for !done { time.Sleep(time.Millisecond * 10) } show() } è¿™è™½ç„¶ä¹Ÿèƒ½å¾—åˆ°æ­£ç¡®çš„è¾“å‡º, ä½†éå¸¸ä¸ä¼˜é›…. æ­£ç¡®çš„æ–¹å¼1 å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ— ç¼“å†²çš„ä¿¡é“(æˆ–è€…è¯´å®¹é‡ä¸º1çš„ä¿¡é“)æ¥å……å½“flag //... func sub(count int, done chan bool) { for i := 0; i \u003c count; i++ { sharedCounter-- } done \u003c- true } //.... func main() { add(1000000) done := make(chan bool) go sub(1000000, done) \u003c-subDone show() } è¿™é‡Œåˆ©ç”¨äº†ä¿¡é“çš„ç‰¹ç‚¹: å½“ä»ä¿¡é“ä¸­è¯»å–æ•°æ®æ—¶,å¦‚æœä¿¡é“ä¸ºç©º,è¯»å–å°†è¢«é˜»å¡ç›´åˆ°æœ‰æ•°æ®åˆ°è¾¾. æ‰€ä»¥ \u003c-subDone ä¼šä¸€ç›´é˜»å¡, ç›´åˆ°é€šè¿‡subDone \u003c- trueå‘å…¶ä¸­å†™å…¥äº†æ•°æ® ","date":"2022-06-12","objectID":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/:2:1","tags":["go","sync"],"title":"èŠèŠgoè¯­è¨€ä¸­çš„sync","uri":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/"},{"categories":["golang"],"content":"ä½¿ç”¨2ä¸ªåç¨‹ ä¸Šé¢çš„ä¾‹å­ä¸­, sub(1000000, done)æ˜¯åœ¨æ–°çš„åç¨‹ä¸­è¿è¡Œçš„, add(1000000)å´ä¸æ˜¯, å¦‚æœä»–ä»¬éƒ½åœ¨æ–°åç¨‹ä¸­è¿è¡Œ, ä¸»ç¨‹åºåº”è¯¥å¦‚ä½•ç­‰å¾…ä»–ä»¬ç»“æŸå‘¢ å¾ˆå®¹æ˜“æƒ³åˆ°, ä½¿ç”¨ä¸¤æ¬¡\u003c-done ä¹Ÿå°±æ˜¯è¯´å‘ä¿¡é“ç´¢è¦ä¸¤ä¸ªè®¡ç®—å®Œæˆçš„æ ‡å¿—, addå’Œ sub è®¡ç®—å®Œæˆååˆ†åˆ«å‘å…¶ä¸­æ”¾å…¥æ ‡å¿—. package main import \"fmt\" var ( sharedCounter = 0 ) func add(count int, done chan bool) { for i := 0; i \u003c count; i++ { sharedCounter++ } fmt.Println(\"add done\") done \u003c- true } func sub(count int, done chan bool) { for i := 0; i \u003c count; i++ { sharedCounter-- } fmt.Println(\"sub done\") done \u003c- true } func show() { fmt.Println(sharedCounter) } func main() { done := make(chan bool) go add(1000000, done) go sub(1000000, done) \u003c-done \u003c-done show() } ä¸ºäº†æ˜ç¡®çŸ¥é“mainå‡½æ•°çš„ç¡®æ˜¯ç­‰å¾…ä¸¤ä¸ªåç¨‹æ‰§è¡Œå®Œæ¯•äº†çš„, æˆ‘ä»¬åœ¨å…¶ä¸­åŠ å…¥äº†fmt.Println(\"sub done\")è¿™æ ·çš„è¾“å‡º è¿è¡Œç¨‹åº, å¾—åˆ° add done sub done 824933 Opps, è™½ç„¶addå’Œsub éƒ½æ‰§è¡Œå®Œæ¯•äº†,ä½†æ˜¯ç»“æœä¸å¯¹(å¹¶ä¸”å¤šæ¬¡è¿è¡Œçš„ç»“æœè¿˜ä¸ç›¸åŒ), æœŸæœ›æ¥æ”¶åº”è¯¥æ˜¯0 å†è¿è¡Œä¸€æ¬¡, å¾—åˆ°: sub done add done -481342 åŸå› æ˜¯addå’Œsubåœ¨äº¤å‰è¯»å–å’Œå†™å…¥sharedCounterè¿™ä¸ªå˜é‡, ä»–ä»¬å…±äº«äº†å˜é‡, ä½†åœ¨è¯»å–å’Œå†™å…¥çš„æ—¶å€™å‡ºç°**â€œç«æ€â€** ","date":"2022-06-12","objectID":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/:3:0","tags":["go","sync"],"title":"èŠèŠgoè¯­è¨€ä¸­çš„sync","uri":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/"},{"categories":["golang"],"content":"ç«æ€ æœ‰å¤šä¸ªåç¨‹è¿è¡Œæ—¶, å¯¹äºæ¯ä¸ªåç¨‹è€Œè¨€,å…¶å†…éƒ¨ä»£ç æ—¶é¡ºåºæ‰§è¡Œçš„, ä½†æ— æ³•ç¡®å®šåç¨‹ä¹‹é—´çš„æ‰§è¡Œé¡ºåº, é‚£ä¹ˆå°±è¯´è¿™äº›åç¨‹æ˜¯å¹¶å‘çš„ å¦‚æœä¸€æ®µä»£ç æ— è®ºæ˜¯é¡ºåºæ‰§è¡Œè¿˜æ˜¯å¹¶å‘æ‰§è¡Œ,å…¶ç»“æœéƒ½æ˜¯ç¡®å®šçš„,é‚£ä¹ˆè¿™ä¸ªä»£ç å°±æ˜¯å¹¶å‘å®‰å…¨çš„. ç›¸å, å¹¶å‘ä¸å®‰å…¨çš„ä»£ç ,å¯èƒ½ä¼šå‡ºç°æ­»é”,æ´»é”,ç«æ€ ç«æ€åˆ™è¡¨ç¤ºä»£ç å¯æ‰§è¡Œ,ä½†å¯èƒ½å‡ºç°ç»“æœä¸ä¸€è‡´(é”™è¯¯ç»“æœ) ###è§£å†³æ–¹æ³•1, åˆ©ç”¨ä¿¡é“ func main() { done := make(chan bool) go add(1000000, done) \u003c-done //1 go sub(1000000, done) \u003c-done //2 show() } åœ¨addæ‰§è¡Œå®Œæ¯•ä¹‹å‰, é¦–å…ˆä¼šå µå¡åœ¨//1å¤„, func add(count int, done chan bool) { //.... done \u003c- true } addå‡½æ•°æ‰§è¡Œæœ€åä¸€å¥ done \u003c- true å \u003c-done //1èƒ½å–åˆ°å€¼, æ¥è§¦é˜»å¡. ç„¶åç»§ç»­å¾€ä¸‹æ‰§è¡Œsubå‡½æ•°. è¿™è™½ç„¶èƒ½å¾—åˆ°æ­£ç¡®è¾“å‡º, ä½†, æˆ‘ä»¬å‘ç°, è¿™å®é™…æ˜¯å°†å¹¶è¡Œæ‰§è¡Œä¿®æ”¹æˆäº†ä¸²è¡Œæ‰§è¡Œ. ","date":"2022-06-12","objectID":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/:3:1","tags":["go","sync"],"title":"èŠèŠgoè¯­è¨€ä¸­çš„sync","uri":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/"},{"categories":["golang"],"content":"è§£å†³æ–¹æ³•2, åˆ©ç”¨ Mutex æˆ– RWMutex sync.Mutex å¯èƒ½æ˜¯åŒæ­¥åŒ…ä¸­ä½¿ç”¨æœ€å¹¿æ³›çš„åŸè¯­ã€‚å®ƒå…è®¸å¯¹å…±äº«èµ„æºè¿›è¡Œäº’æ–¥ï¼ˆä¸èƒ½åŒæ—¶è®¿é—®). mutex := \u0026sync.Mutex{} mutex.Lock() //.... æ›´æ–°å…±äº«å˜é‡ mutex.Unlock() æ³¨æ„: åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æœ‰è¿™ä¹ˆä¸€å¥ â€œValues containing the types defined in this package should not be copied.â€ (â€œåŒ…å«è¿™ä¸ªåŒ…ä¸­å®šä¹‰çš„ç±»å‹çš„å€¼ä¸åº”è¯¥è¢«å¤åˆ¶ã€‚â€) . æˆ‘ä»¬ç›´åˆ°å€¼ä¼ é€’å°±æ˜¯å¤åˆ¶ç„¶åä¼ é€’, æ‰€ä»¥æˆ‘ä»¬ä»£ç ä¸­çš„mutexç”¨çš„æ˜¯å¼•ç”¨ä¼ é€’. package main import ( \"fmt\" \"sync\" ) var ( sharedCounter = 0 mutex = \u0026sync.Mutex{} ) func add(count int, done chan bool) { for i := 0; i \u003c count; i++ { mutex.Lock() sharedCounter++ mutex.Unlock() } fmt.Println(\"add done\") done \u003c- true } func sub(count int, done chan bool) { for i := 0; i \u003c count; i++ { mutex.Lock() sharedCounter-- mutex.Unlock() } fmt.Println(\"sub done\") done \u003c- true } func show() { fmt.Println(sharedCounter) } func main() { done := make(chan bool) go add(1000000, done) go sub(1000000, done) \u003c-done \u003c-done show() } åœ¨è¯»å†™sharedCounterä¹‹å‰å…ˆLock(), ç”¨å®ŒåUnlock() å¦‚æœæˆ‘ä»¬åœ¨è¿›è¡Œè®¡ç®—çš„æ—¶å€™åŠ ä¸Šç‚¹æ‰“å°(ä»…æµ‹è¯•ç”¨,éå¸¸å½±å“é€Ÿåº¦) for i := 0; i \u003c count; i++ { mutex.Lock() fmt.Println(\"--\") // fmt.Println(\"++\") sharedCounter-- // sharedCounter++ mutex.Unlock() } åˆ™å¯ä»¥çœ‹åˆ° ++ å’Œ â€“ æ˜¯äº¤å‰ç€æ‰“å°çš„, è¯´æ˜æ˜¯å¹¶è¡Œæ‰§è¡Œçš„. å¦å¤–, è¿˜æœ‰RWMutex (è¯»å†™é”), é™¤äº†ä¸Mutexç›¸åŒçš„Lock()å’ŒUnlock()æ–¹æ³•å¤–, å…¶è¿˜æœ‰ç”¨äºå…±äº«è¯»æ“ä½œçš„RLock()å’ŒRUnlock(), åœ¨è¯»å–å…±äº«å˜é‡æ—¶å…è®¸åŒæ—¶å¤šä¸ªè¯»å–å™¨èƒ½æé«˜æ•ˆç‡. æ‰€ä»¥åœ¨é¢‘ç¹è¯»å†™æ“ä½œçš„ä»£ç ä¸­, ä½¿ç”¨RWMutexæ•ˆç‡è¦æ¯”Mutexé«˜ ","date":"2022-06-12","objectID":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/:3:2","tags":["go","sync"],"title":"èŠèŠgoè¯­è¨€ä¸­çš„sync","uri":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/"},{"categories":["golang"],"content":"è§£å†³æ–¹æ³•3, åˆ©ç”¨åŸå­æ“ä½œ åŸå­æ“ä½œåœ¨\"sync/atomic\"åŒ…ä¸­. åˆ©ç”¨è¿™ä¸ªåŒ…ä¸­æä¾›çš„å‡½æ•°å¯å®ç°\"æ— é”ç‰ˆ\"çš„å…±äº«å˜é‡è¯»å†™ åŸå­æ“ä½œå³æ˜¯è¿›è¡Œè¿‡ç¨‹ä¸­ä¸èƒ½è¢«ä¸­æ–­çš„æ“ä½œï¼Œé’ˆå¯¹æŸä¸ªå€¼çš„åŸå­æ“ä½œåœ¨è¢«è¿›è¡Œçš„è¿‡ç¨‹ä¸­ï¼ŒCPUç»ä¸ä¼šå†å»è¿›è¡Œå…¶ä»–çš„é’ˆå¯¹è¯¥å€¼çš„æ“ä½œã€‚ä¸ºäº†å®ç°è¿™æ ·çš„ä¸¥è°¨æ€§ï¼ŒåŸå­æ“ä½œä»…ä¼šç”±ä¸€ä¸ªç‹¬ç«‹çš„CPUæŒ‡ä»¤ä»£è¡¨å’Œå®Œæˆã€‚åŸå­æ“ä½œæ˜¯æ— é”çš„ï¼Œå¸¸å¸¸ç›´æ¥é€šè¿‡CPUæŒ‡ä»¤ç›´æ¥å®ç°ã€‚ äº‹å®ä¸Šï¼Œå…¶å®ƒåŒæ­¥æŠ€æœ¯çš„å®ç°å¸¸å¸¸ä¾èµ–äºåŸå­æ“ä½œ package main import ( \"fmt\" \"sync/atomic\" ) var ( sharedCounter = int64(0) ) func add(count int, done chan bool) { for i := 0; i \u003c count; i++ { atomic.AddInt64(\u0026sharedCounter, 1) // } fmt.Println(\"add done\") done \u003c- true } func sub(count int, done chan bool) { for i := 0; i \u003c count; i++ { atomic.AddInt64(\u0026sharedCounter, -1) // } fmt.Println(\"sub done\") done \u003c- true } func show() { fmt.Println(sharedCounter) } func main() { done := make(chan bool) go add(1000000, done) go sub(1000000, done) \u003c-done \u003c-done show() } åŸå­æ“ä½œçš„å¸¸ç”¨æ¥å£å¦‚ä¸‹(ä»¥int32ä¸ºä¾‹) //å°†addræŒ‡å‘çš„å€¼å’Œoldè¿›è¡Œæ¯”è¾ƒ, å¦‚æœç›¸ç­‰,åˆ™å°†newèµ‹å€¼åˆ°addræŒ‡å‘çš„ä½ç½®,å¹¶è¿”å›true, å¦‚æœä¸ç›¸ç­‰,åˆ™ç›´æ¥è¿”å›false func CompareAndSwapInt32(addr *int32, old, new int32) (swapped bool) //ä½¿ç”¨åŸå­æ“ä½œ,å°†addræŒ‡å‘çš„ä½ç½®å¢åŠ ä¸€ä¸ªdelta func AddInt32(addr *int32, delta int32) (new int32) //åŸå­è¯»å– //å½“æˆ‘ä»¬è¦è¯»å–ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼Œå¾ˆæœ‰å¯èƒ½è¿™ä¸ªå˜é‡æ­£åœ¨è¢«å†™å…¥ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±å¾ˆæœ‰å¯èƒ½è¯»å–åˆ°å†™åˆ°ä¸€åŠçš„æ•°æ®ã€‚ æ‰€ä»¥è¯»å–æ“ä½œæ˜¯éœ€è¦ä¸€ä¸ªåŸå­è¡Œä¸ºçš„ã€‚ func LoadInt32(addr *int32) (val int32) //è¯»å–æ˜¯æœ‰åŸå­æ€§çš„æ“ä½œçš„ï¼ŒåŒæ ·å†™å…¥atomicåŒ…ä¹Ÿæä¾›äº†ç›¸å…³çš„æ“ä½œåŒ… func StoreInt32(addr *int32, val int32) //æ­¤ç±»å‹çš„å€¼ç›¸å½“äºä¸€ä¸ªå®¹å™¨ï¼Œå¯ä»¥è¢«ç”¨æ¥â€œåŸå­åœ°\"å­˜å‚¨ï¼ˆStoreï¼‰å’ŒåŠ è½½ï¼ˆLoadï¼‰ä»»æ„ç±»å‹çš„å€¼ã€‚å½“ç„¶è¿™ä¸ªç±»å‹ä¹Ÿæ˜¯åŸå­æ€§çš„ã€‚ //æœ‰äº†atomic.Valueè¿™ä¸ªç±»å‹ï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥åœ¨ä¸ä¾èµ–Goå†…éƒ¨ç±»å‹unsafe.Pointerçš„æƒ…å†µä¸‹ä½¿ç”¨åˆ°atomicæä¾›çš„åŸå­æ“ä½œã€‚ // A Value must not be copied after first use. type Value struct { v interface{} } åŸå­æ“ä½œä¸äº’æ–¥é”çš„åŒºåˆ« é¦–å…ˆatomicæ“ä½œçš„ä¼˜åŠ¿æ˜¯æ›´è½»é‡ï¼Œæ¯”å¦‚CASå¯ä»¥åœ¨ä¸å½¢æˆä¸´ç•ŒåŒºå’Œåˆ›å»ºäº’æ–¥é‡çš„æƒ…å†µä¸‹å®Œæˆå¹¶å‘å®‰å…¨çš„å€¼æ›¿æ¢æ“ä½œã€‚è¿™å¯ä»¥å¤§å¤§çš„å‡å°‘åŒæ­¥å¯¹ç¨‹åºæ€§èƒ½çš„æŸè€—ã€‚ åŸå­æ“ä½œä¹Ÿæœ‰åŠ£åŠ¿ã€‚è¿˜æ˜¯ä»¥CASæ“ä½œä¸ºä¾‹ï¼Œä½¿ç”¨CASæ“ä½œçš„åšæ³•è¶‹äºä¹è§‚ï¼Œæ€»æ˜¯å‡è®¾è¢«æ“ä½œå€¼æœªæ›¾è¢«æ”¹å˜ï¼ˆå³ä¸æ—§å€¼ç›¸ç­‰ï¼‰ï¼Œå¹¶ä¸€æ—¦ç¡®è®¤è¿™ä¸ªå‡è®¾çš„çœŸå®æ€§å°±ç«‹å³è¿›è¡Œå€¼æ›¿æ¢ï¼Œé‚£ä¹ˆåœ¨è¢«æ“ä½œå€¼è¢«é¢‘ç¹å˜æ›´çš„æƒ…å†µä¸‹ï¼ŒCASæ“ä½œå¹¶ä¸é‚£ä¹ˆå®¹æ˜“æˆåŠŸã€‚è€Œä½¿ç”¨äº’æ–¥é”çš„åšæ³•åˆ™è¶‹äºæ‚²è§‚ï¼Œæˆ‘ä»¬æ€»å‡è®¾ä¼šæœ‰å¹¶å‘çš„æ“ä½œè¦ä¿®æ”¹è¢«æ“ä½œçš„å€¼ï¼Œå¹¶ä½¿ç”¨é”å°†ç›¸å…³æ“ä½œæ”¾å…¥ä¸´ç•ŒåŒºä¸­åŠ ä»¥ä¿æŠ¤ã€‚ ä¸‹é¢æ˜¯å‡ ç‚¹åŒºåˆ«ï¼š äº’æ–¥é”æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨æ¥è®©ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œç¨‹åºçš„å…³é”®éƒ¨åˆ†ï¼Œå®Œæˆäº’æ–¥çš„å¤šä¸ªæ“ä½œ åŸå­æ“ä½œæ˜¯æ— é”çš„ï¼Œå¸¸å¸¸ç›´æ¥é€šè¿‡CPUæŒ‡ä»¤ç›´æ¥å®ç° åŸå­æ“ä½œä¸­çš„casè¶‹äºä¹è§‚é”ï¼ŒCASæ“ä½œå¹¶ä¸é‚£ä¹ˆå®¹æ˜“æˆåŠŸï¼Œéœ€è¦åˆ¤æ–­ï¼Œç„¶åå°è¯•å¤„ç† å¯ä»¥æŠŠäº’æ–¥é”ç†è§£ä¸ºæ‚²è§‚é”ï¼Œå…±äº«èµ„æºæ¯æ¬¡åªç»™ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ï¼Œå…¶å®ƒçº¿ç¨‹é˜»å¡ï¼Œç”¨å®Œåå†æŠŠèµ„æºè½¬è®©ç»™å…¶å®ƒçº¿ç¨‹ ä¸è¦è½»æ˜“ä½¿ç”¨atomic https://texlution.com/post/golang-lock-free-values-with-atomic-value/ ","date":"2022-06-12","objectID":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/:3:3","tags":["go","sync"],"title":"èŠèŠgoè¯­è¨€ä¸­çš„sync","uri":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/"},{"categories":["golang"],"content":"å…¶å®ƒå¹¶å‘æ§åˆ¶æ–¹æ³• ä¸Šé¢çš„ä¾‹å­ä¸­, æˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨çš„ä¿¡é“æ¥è¿›è¡Œå¹¶å‘æ§åˆ¶ (done \u003c- trueä¸\u003c-done), è¿™åªæ˜¯å¸¸ç”¨çš„æ–¹æ³•ä¹‹ä¸€ ","date":"2022-06-12","objectID":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/:4:0","tags":["go","sync"],"title":"èŠèŠgoè¯­è¨€ä¸­çš„sync","uri":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/"},{"categories":["golang"],"content":"WaitGroup sync.WaitGroup æ‹¥æœ‰ä¸€ä¸ªå†…éƒ¨è®¡æ•°å™¨ã€‚å¦‚æœæ­¤è®¡æ•°å™¨ç­‰äº 0ï¼Œåˆ™ Wait() æ–¹æ³•ç«‹å³è¿”å›ã€‚å¦åˆ™ï¼Œå®ƒå°†è¢«é˜»å¡ï¼Œç›´åˆ°è®¡æ•°å™¨ä¸º 0ã€‚ è¦å¢åŠ è®¡æ•°å™¨ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨ Add(int)ã€‚è¦å‡å°‘å®ƒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Done() ï¼ˆå°†å‡å°‘ 1ï¼‰æˆ–å…·æœ‰è´Ÿå€¼çš„ç›¸åŒ Add(int) æ–¹æ³•ã€‚ package main import ( \"fmt\" \"sync\" \"sync/atomic\" ) var ( sharedCounter = int64(0) ) func add(count int, wg *sync.WaitGroup) { for i := 0; i \u003c count; i++ { atomic.AddInt64(\u0026sharedCounter, 1) } fmt.Println(\"add done\") wg.Done() } func sub(count int, wg *sync.WaitGroup) { for i := 0; i \u003c count; i++ { atomic.AddInt64(\u0026sharedCounter, -1) } fmt.Println(\"sub done\") wg.Done() } func show() { fmt.Println(sharedCounter) } func main() { wg := sync.WaitGroup{} wg.Add(2) go add(1000000, \u0026wg) go sub(1000000, \u0026wg) wg.Wait() show() } æ³¨æ„:ä¼ é€’ WaitGroupæ—¶è¦ä½¿ç”¨å¼•ç”¨ä¼ é€’(æŒ‡é’ˆ), å…¶ä¸åº”è¯¥è¢«å¤åˆ¶. func sub(count int, wg *sync.WaitGroup) ","date":"2022-06-12","objectID":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/:4:1","tags":["go","sync"],"title":"èŠèŠgoè¯­è¨€ä¸­çš„sync","uri":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/"},{"categories":["golang"],"content":"context.Context Contextæä¾›äº†2ä¸ªåŠŸèƒ½ æ§åˆ¶å­åç¨‹ç»“æŸ ä¼ é€’å€¼ å…¶ä¸åœ¨syncåŒ…ä¸­, åé¢ä¸“é—¨è®² ","date":"2022-06-12","objectID":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/:4:2","tags":["go","sync"],"title":"èŠèŠgoè¯­è¨€ä¸­çš„sync","uri":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/"},{"categories":["golang"],"content":"sync.Pool å¯¹è±¡å¤ç”¨ å…¶æä¾›ä¸€ä¸ª\"å¹¶å‘å®‰å…¨\"çš„å¯å¤ç”¨çš„å¯¹è±¡æ± . ç”¨æ¥å‡å°‘é¢‘ç¹GCæ‰€ä»£ç†çš„å‹åŠ›. å…¶å¤§æ¦‚æ„æ€æ˜¯: å¦‚æœæœ‰æ—§å¯¹è±¡å¯ç”¨,åˆ™ç”¨æ—§çš„, æ²¡æœ‰å†Newä¸€ä¸ª å‚è€ƒè¿™æ‰¹æ–‡ç« : https://www.cnblogs.com/qcrao-2018/p/12736031.html ä»¥åŠè¿™é‡Œ https://geektutu.com/post/hpg-sync-pool.html åœ¨å®é™…å¼€å‘å·¥ä½œä¸­, ä¸è¦ä¸€ä¸Šæ¥å°±æƒ³åšä½¿ç”¨sync.Poolå®ƒé€šå¸¸ä¼šå¸¦æ¥é—®é¢˜(å› ä¸ºå…¶Getå‡ºæ¥çš„å¯¹è±¡çš„çŠ¶æ€æ˜¯ä¸ç¡®å®šçš„), è€Œåº”è¯¥éµå¾ªä¸‹é¢çš„åŸåˆ™: æ ¹æ®ä½ æ”¶é›†åˆ°çš„éœ€æ±‚è®¾è®¡ä½ çš„ä»£ç ï¼ˆä¸è¦è·³è¿‡è¿™ä¸ªæ­¥éª¤ï¼‰ã€‚ ç¼–å†™æœ€ç®€å•ã€æœ€æ¸…æ™°ã€æœ€æ„šè ¢çš„è®¾è®¡å®ç°ã€‚ å¦‚æœå®¢æˆ·æ»¡æ„ï¼Œå°±åœæ­¢ å¦‚æœå®¢æˆ·ä¸æ»¡æ„ï¼Œè€Œä¸”ä»–ä»¬è®¤ä¸ºåº”ç”¨ç¨‹åºçš„æ€§èƒ½ä¸èƒ½æ»¡è¶³ä»–ä»¬çš„è¦æ±‚ï¼Œé‚£ä¹ˆå°±å‰–æã€‚ è§£å†³æœ€é«˜æ€§èƒ½çš„ä¸»å¯¼è€… å‰–æå¹¶è¿›å…¥ç¬¬äº”é˜¶æ®µã€‚ç„¶åè¿›å…¥3 å¦‚æœå®åœ¨æä¸å®š, å†æƒ³æƒ³sync.Pool ","date":"2022-06-12","objectID":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/:5:0","tags":["go","sync"],"title":"èŠèŠgoè¯­è¨€ä¸­çš„sync","uri":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/"},{"categories":["golang"],"content":"sync.Once åªæ‰§è¡Œä¸€æ¬¡ sync.Once æä¾›äº†ä¸€ç§æ–¹æ³•, è®©ç›¸å…³ä»£ç åªè¢«æ‰§è¡Œä¸€æ¬¡ å®é™…å¼€å‘è¿‡ç¨‹ä¸­, ç»å¸¸æœ‰è¿™æ ·çš„åœºæ™¯: ä½ åšäº†ä¸€ä¸ªå«åšlowLevelApiçš„åŒ…, ç”¨äºæ§åˆ¶åº•å±‚è®¾å¤‡, æ¯”å¦‚å¼€å…³LED, ä½†åœ¨è°ƒç”¨å¼€å…³LEDä¹‹å‰éœ€è¦ç¡®ä¿ä¸€äº›åˆå§‹åŒ–å·¥ä½œå·²ç»å®Œæˆ, æ‰€ä»¥ä½ å†™äº†ä¸€ä¸ªInitEnvçš„å‡½æ•°, å¹¶å‘Šè¯‰å…¶å®ƒå¼€å‘äººå‘˜: ä¸€å®šè¦å…ˆåˆå§‹åŒ–å“¦. package lowLevelApi import \"fmt\" func InitEnv() { fmt.Println(\"init environment\") } func LedOn() { fmt.Println(\"LedOn\") } func LedOff() { fmt.Println(\"LedOff\") } å…¶å®ƒå¼€å‘äººå‘˜ç»å¸¸ä¼šé—®ä½ : è¿™ä¸ªåˆå§‹åŒ–å‡½æ•°å¦‚æœè¢«é‡å¤è°ƒç”¨ä¸ä¼šå‡ºé—®é¢˜å§? å› ä¸ºä»–ä»¬çš„ä»£ç é€šå¸¸ä¼šè¿™æ ·å†™: package main import ( \"fmt\" \"goplayground/lowLevelApi\" ) func turnLedOn() { fmt.Println(\"Turning LED on\") lowLevelApi.InitEnv() lowLevelApi.LedOn() fmt.Println(\"LED on\") } func turnLedOff() { fmt.Println(\"Turning LED off\") lowLevelApi.InitEnv() lowLevelApi.LedOff() fmt.Println(\"LED off\") } func main() { turnLedOn() turnLedOff() } ä¸Šé¢çš„ä»£ç ä¼šè¾“å‡º Turning LED on InitEnv LedOn LED on Turning LED off InitEnv LedOff LED off ä¸ºäº†é˜²æ­¢é‡å¤è°ƒç”¨InitEnv()å¯èƒ½å¸¦æ¥çš„é—®é¢˜, åˆ™å¯ä»¥ä½¿ç”¨sync.Once var ( once sync.Once ) func InitEnv() { once.Do(func() { fmt.Println(\"InitEnv\") }) } è¿™æ ·InitEnv()å³ä½¿è¢«å¤šæ¬¡è°ƒç”¨, å…¶å†…éƒ¨é€»è¾‘åªä¼šæ‰§è¡Œä¸€æ¬¡ Turning LED on InitEnv LedOn LED on Turning LED off LedOff LED off sync.Once å¸¸åº”ç”¨äºå•ä¾‹æ¨¡å¼ï¼Œä¾‹å¦‚åˆå§‹åŒ–é…ç½®ã€ä¿æŒæ•°æ®åº“è¿æ¥ç­‰ã€‚ä½œç”¨ä¸ init å‡½æ•°ç±»ä¼¼ï¼Œä½†æœ‰åŒºåˆ«ã€‚ init å‡½æ•°æ˜¯å½“æ‰€åœ¨çš„ package é¦–æ¬¡è¢«åŠ è½½æ—¶æ‰§è¡Œï¼Œè‹¥è¿Ÿè¿Ÿæœªè¢«ä½¿ç”¨ï¼Œåˆ™æ—¢æµªè´¹äº†å†…å­˜ï¼Œåˆå»¶é•¿äº†ç¨‹åºåŠ è½½æ—¶é—´ã€‚ sync.Once å¯ä»¥åœ¨ä»£ç çš„ä»»æ„ä½ç½®åˆå§‹åŒ–å’Œè°ƒç”¨ï¼Œå› æ­¤å¯ä»¥å»¶è¿Ÿåˆ°ä½¿ç”¨æ—¶å†æ‰§è¡Œï¼Œå¹¶å‘åœºæ™¯ä¸‹æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ ","date":"2022-06-12","objectID":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/:6:0","tags":["go","sync"],"title":"èŠèŠgoè¯­è¨€ä¸­çš„sync","uri":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/"},{"categories":["golang"],"content":"sync.Cond æ¡ä»¶å˜é‡ sync.Cond ç”¨äºåè°ƒå¤šä¸ªåç¨‹è®¿é—®å…±äº«èµ„æº, å…¶ä¸­æŸäº›åç¨‹å¤„äºé˜»å¡çŠ¶æ€, å¦å¤–ä¸€ä¸ªåç¨‹åœ¨æ¡ä»¶å‡†å¤‡å¥½çš„æ—¶å€™æ¥è®²å…¶å®ƒåç¨‹å”¤é†’. ä¸‹é¢çš„ä¾‹å­ä¸­ InitEnvå‡½æ•°éœ€è¦ä¸€ç‚¹æ—¶é—´åœ¨å‡†å¤‡sharedCounter çš„åˆå§‹å€¼, åœ¨è¿™æœŸé—´Addå’Œsubå¤„äºWaitçŠ¶æ€, å½“å‡†å¤‡å¥½å, å°†é€šçŸ¥ Addå’ŒSubç»§ç»­å‘ä¸‹æ‰§è¡Œ package main import ( \"fmt\" \"sync\" \"time\" ) var ( sharedCounter int ) func InitEnv(c *sync.Cond) { fmt.Println(\"begin InitEnv\") time.Sleep(time.Second * 1) c.L.Lock() sharedCounter = 10 c.L.Unlock() fmt.Println(\"Init Env Done, broadcast...\") c.Broadcast() } func Add(cout int, c *sync.Cond) { c.L.Lock() c.Wait() sharedCounter += cout c.L.Unlock() fmt.Println(\"Add Done\") } func Sub(count int, c *sync.Cond) { c.L.Lock() c.Wait() sharedCounter -= count c.L.Unlock() fmt.Println(\"Sub Done\") } func main() { cond := sync.NewCond(\u0026sync.Mutex{}) go InitEnv(cond) go Add(5, cond) go Sub(2, cond) time.Sleep(2 * time.Second) fmt.Println(\"Final Counter:\", sharedCounter) } è¾“å‡º begin InitEnv Init Env Done, broadcast... Add Done Sub Done Final Counter: 13 c.Broadcast()å”¤é†’æ‰€æœ‰ç­‰å¾…çš„åç¨‹, å¦å¤–è¿˜æœ‰ä¸€ä¸ªSignal()æ–¹æ³•, ç”¨äºå”¤é†’ä¸€ä¸ªåç¨‹. sync.Condä¸€èˆ¬ç”¨äºä¸€å¯¹å¤šçš„æƒ…å†µ, å¦‚æœæ˜¯ä¸€å¯¹ä¸€çš„æƒ…å†µ, ç”¨ä¸€ä¸ªä¿¡é“å°±å¯ä»¥è½»æ¾è§£å†³äº† ","date":"2022-06-12","objectID":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/:7:0","tags":["go","sync"],"title":"èŠèŠgoè¯­è¨€ä¸­çš„sync","uri":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/"},{"categories":["golang"],"content":"sync.Map å†…ç½®çš„mapä¸æ˜¯å¹¶å‘å®‰å…¨çš„, æ‰€ä»¥ sync.Map æä¾›äº†ä¸€ä¸ªåŠŸèƒ½ä¸mapç±»ä¼¼ä½†æ˜¯å¹¶å‘å®‰å…¨çš„ç‰ˆæœ¬ å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  https://juejin.cn/post/6844903895227957262 ","date":"2022-06-12","objectID":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/:8:0","tags":["go","sync"],"title":"èŠèŠgoè¯­è¨€ä¸­çš„sync","uri":"/%E8%81%8A%E8%81%8Ago%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84sync/"},{"categories":["golang"],"content":"goè¯­è¨€ä¸­net/httpåŒ…å¯¹httpæœåŠ¡ä¸è¯·æ±‚çš„å¤„ç† ","date":"2022-06-06","objectID":"/go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/:0:0","tags":["go","http"],"title":"Goè¯­è¨€ä¸­çš„httpæœåŠ¡å™¨","uri":"/go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"categories":["golang"],"content":"ç®€å•çš„æ–‡ä»¶æœåŠ¡å™¨ package main import ( \"log\" \"net/http\" ) func main() { err := http.ListenAndServe(\":8080\", http.FileServer(http.Dir(\".\"))) if err != nil { log.Fatal(err) } } ä¸Šé¢è¿™ä¸ªä¾‹å­åˆ›å»ºäº†ä¸€ä¸ªä»¥å½“å‰ç›®å½•ä¸ºç«™ç‚¹è·Ÿç›®å½•çš„æ–‡ä»¶æœåŠ¡å™¨, æˆ‘ä¸€èˆ¬ç”¨è¿™ä¸ªæ¥ä½œä¸ºå±€åŸŸç½‘æ–‡ä»¶å…±äº«. ç„¶åå†™ä¸€ä¸ªå‡½æ•°æ”¾åˆ°bash.rc æˆ–zshrcä¸­ #æ–‡ä»¶æœåŠ¡å™¨ function fileserver(){ echo \"start file server :12345\" cat \u003c\u003cEOF | tee /tmp/fileserver.go | go run /tmp/fileserver.go package main import ( \"log\" \"net/http\" ) func main() { err := http.ListenAndServe(\":12345\", http.FileServer(http.Dir(\".\"))) if err != nil { log.Fatal(err) } } EOF } OSX MP16 ~/Downloads â¯ fileserver start file server :12345 Pythonä¸­æœ‰ç›¸åŒçš„åŠŸèƒ½ python3 -m SimpleHTTPServer 7777 æˆ– python3 -m http.server ","date":"2022-06-06","objectID":"/go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/:1:0","tags":["go","http"],"title":"Goè¯­è¨€ä¸­çš„httpæœåŠ¡å™¨","uri":"/go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"categories":["golang"],"content":"ä¸€ä¸ªç®€å•çš„WebServer package main import ( \"log\" \"net/http\" ) func main() { http.HandleFunc(\"/\", func(w http.ResponseWriter, r *http.Request) { _, err := w.Write([]byte(\"Hello World!\\n\")) if err != nil { log.Println(err) } }) err := http.ListenAndServe(\":12345\", nil) if err != nil { log.Fatal(err) } } è®¿é—®ä¸€ä¸‹è¯•è¯•: OSX MP16 ~/Downloads/goplayground â¯ curl http://localhost:12345 Hello World! ","date":"2022-06-06","objectID":"/go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/:2:0","tags":["go","http"],"title":"Goè¯­è¨€ä¸­çš„httpæœåŠ¡å™¨","uri":"/go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"categories":["golang"],"content":"http.HandleFunc http.HandleFunc(\"/\", func(w http.ResponseWriter, r *http.Request) { //... }) è¯¥æ–¹æ³•æä¾›äº†ä¸€ç§æŒ‡å®šå¦‚ä½•å¤„ç†ç‰¹å®šè·¯ç”±çš„è¯·æ±‚çš„æ–¹æ³•, ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè·¯ç”±, ç¬¬äºŒä¸ªå‚æ•°ä¸ºå¤„ç†å‡½æ•°. å¤„ç†å‡½æ•°å¯å†™æˆåŒ¿åå‡½æ•°, ä¹Ÿå¯ä»¥å£°æ˜ä¸ºä¸€ä¸ªç‹¬ç«‹çš„å‡½æ•° func rootHandler(w http.ResponseWriter, r *http.Request) { _, err := w.Write([]byte(\"\u003ch1 style=\\\"color:Tomato;\\\"\u003eHello World\u003c/h1\u003e\")) if err != nil { log.Println(err) } } func main() { http.HandleFunc(\"/\", rootHandler) //... } å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯http.ResponseWriterç±»å‹çš„å€¼ã€‚è¿™æ˜¯ç”¨äºå‘ä»»ä½•è¿æ¥çš„HTTPå®¢æˆ·ç«¯å‘é€å“åº”çš„æœºåˆ¶ã€‚è¿™ä¹Ÿæ˜¯å“åº”æ ‡å¤´çš„è®¾ç½®æ–¹å¼,æ¯”å¦‚w.WriteHeader(http.StatusOK)ã€‚ç¬¬äºŒä¸ªè®ºç‚¹æ˜¯æŒ‡å‘http.Requestçš„æŒ‡é’ˆã€‚è¿™æ˜¯ä»ç½‘ç»œè¯·æ±‚ä¸­æ£€ç´¢æ•°æ®çš„æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡è¯·æ±‚æŒ‡é’ˆè®¿é—®è¡¨å•æäº¤çš„è¯¦ç»†ä¿¡æ¯ æ¯”å¦‚ ä¸‹é¢çš„æ–¹æ³•, ä½¿ç”¨ http://127.0.0.1:12345/?key=date æ—¶å°†è¿”å›å½“å‰çš„æ—¥æœŸ, ç¡®å®key=æˆ–keyä¸æ­£ç¡®æ—¶è¿”å›http.StatusBadRequest func rootHandler(w http.ResponseWriter, r *http.Request) { keys, ok := r.URL.Query()[\"key\"] if !ok || len(keys[0]) \u003c 1 { log.Println(\"Url Param 'key' is missing\") w.WriteHeader(http.StatusBadRequest) _, err := w.Write([]byte(\"Url Param 'key' is missing\")) if err != nil { log.Println(err) return } return } key := keys[0] switch key { case \"date\": w.WriteHeader(http.StatusOK) _, err := w.Write([]byte(time.Now().Format(\"2006-01-02\"))) if err != nil { log.Println(err) } default: w.WriteHeader(http.StatusBadRequest) _, _ = w.Write([]byte(\"Invalid key\")) log.Println(\"Invalid key\") } } ","date":"2022-06-06","objectID":"/go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/:3:0","tags":["go","http"],"title":"Goè¯­è¨€ä¸­çš„httpæœåŠ¡å™¨","uri":"/go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"categories":["golang"],"content":"http.ResponseWriter ç”¨äºå‘ä»»ä½•è¿æ¥çš„HTTPå®¢æˆ·ç«¯å‘é€å“åº” è®¾ç½®ç›¸åº”æ ‡å¿—å¤´: w.WriteHeader(http.StatusOK) è·å–æˆ–å®åˆ™å“åº”å¤´ w.Header().Set(\"content-type\", \"application/json\") w.Header().Add(\"foo\", \"bar\") å†™å…¥ç›¸åº”æ•°æ®: w.Write([]byte(time.Now().Format(\"2006-01-02\"))) ä¾‹å­: package main import ( \"encoding/json\" \"log\" \"net/http\" ) type SystemInfo struct { Hostname string `json:\"hostname\"` Uptime string `json:\"uptime\"` } func rootHandler(w http.ResponseWriter, r *http.Request) { info := SystemInfo{ Hostname: \"test\", Uptime: \"2022-01-01 00:00:00\", } w.Header().Set(\"Content-Type\", \"application/json\") w.WriteHeader(http.StatusOK) bytes, _ := json.Marshal(info) _, err := w.Write(bytes) if err != nil { log.Println(\"Error writing response: \", err) } } func main() { http.HandleFunc(\"/\", rootHandler) err := http.ListenAndServe(\":12345\", nil) if err != nil { log.Fatal(err) } } OSX MP16 ~ â¯ curl localhost:12345 {\"hostname\":\"test\",\"uptime\":\"2022-01-01 00:00:00\"} ","date":"2022-06-06","objectID":"/go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/:3:1","tags":["go","http"],"title":"Goè¯­è¨€ä¸­çš„httpæœåŠ¡å™¨","uri":"/go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"categories":["golang"],"content":"*http.Request æŒ‡å‘http.Requestçš„æŒ‡é’ˆ, é€šè¿‡æ”¹æŒ‡é’ˆå¯ä»¥è·å–è¯·æ±‚ä¸­çš„å„ç§æ•°æ®, æ¯”å¦‚ è·å–åŸºæœ¬ä¿¡æ¯ func rootHandler(w http.ResponseWriter, r *http.Request) { fmt.Println(\"User Agent: \", r.UserAgent()) fmt.Println(\"Host: \", r.Host) fmt.Println(\"Remote Address: \", r.RemoteAddr) fmt.Println(\"Request URI: \", r.RequestURI) fmt.Println(\"Method: \", r.Method) fmt.Println(\"URL: \", r.URL) fmt.Println(\"Header: \", r.Header) w.WriteHeader(http.StatusOK) } è¾“å‡º: User Agent: curl/7.79.1 Host: localhost:12345 Remote Address: 127.0.0.1:58967 Request URI: / Method: GET URL: / Header: map[Accept:[*/*] User-Agent:[curl/7.79.1]] è·å–cookie func rootHandler(w http.ResponseWriter, r *http.Request) { //è·å–æ‰€æœ‰ for _, c := range r.Cookies() { fmt.Printf(\"%s : %q\\n\", c.Name, c.Value) } //è·å–æŒ‡å®š c, err := r.Cookie(\"token\") if err != nil { log.Println(err) } fmt.Printf(\"%s : %q\\n\", c.Name, c.Value) w.WriteHeader(http.StatusOK) } curl --cookie \"token=abcdefg\" http://localhost:12345 è·å–GETå‚æ•° è·å–æ‰€æœ‰å‚æ•° args := r.URL.Query() è·å–æŒ‡å®šå‚æ•°(æ³¨:å‚æ•°å¯èƒ½è¢«é‡å¤å†™å¤šæ¬¡) æ¯”å¦‚: localhost:12345/?id=5 func rootHandler(w http.ResponseWriter, r *http.Request) { ids, ok := r.URL.Query()[\"id\"] if !ok || len(ids[0]) \u003c 1 { log.Println(\"Url Param 'id' is missing\") return } id := ids[0] log.Println(\"Url Param 'id' is: \" + id) w.WriteHeader(http.StatusOK) } æˆ–è€… func rootHandler(w http.ResponseWriter, r *http.Request) { id := r.FormValue(\"id\") if id == \"\" { log.Println(\"Url Param 'id' is missing\") } fmt.Println(\"id:\", id) w.WriteHeader(http.StatusOK) } ä¹Ÿå¯ä»¥é€šè¿‡r.Formæ¥è·å–Getå‚æ•° è·å–PATCH, POST or PUTå‚æ•° æ¯”å¦‚ curl -d \"id=5\u0026format=1\" http://localhost:12345/ func rootHandler(w http.ResponseWriter, r *http.Request) { //parse err := r.ParseForm() if err != nil { log.Println(\"ParseForm error:\", err) } //get post args for k, v := range r.PostForm { log.Println(\"key:\", k) log.Println(\"val:\", v) // v []string } w.WriteHeader(http.StatusOK) } è¾“å‡º 2022/06/06 15:14:46 key: id 2022/06/06 15:14:46 val: [5] 2022/06/06 15:14:46 key: format 2022/06/06 15:14:46 val: [1] ParseFormä¼šå¡«å……r.Formå’Œr.PostFormã€‚ å¯¹äºæ‰€æœ‰çš„è¯·æ±‚ï¼ŒParseFormè§£ææ¥è‡ªURLçš„åŸå§‹æŸ¥è¯¢å¹¶æ›´æ–°r.Formã€‚ å¯¹äºPOSTã€PUTå’ŒPATCHè¯·æ±‚ï¼Œå®ƒä¹Ÿè¯»å–è¯·æ±‚æ­£æ–‡ï¼Œå°†å…¶è§£æä¸ºä¸€ä¸ªè¡¨å•ï¼Œå¹¶å°†ç»“æœæ”¾å…¥r.PostFormå’Œr.Formä¸­ã€‚åœ¨r.Formä¸­ï¼Œè¯·æ±‚æ­£æ–‡å‚æ•°ä¼˜å…ˆäºURLæŸ¥è¯¢å­—ç¬¦ä¸²å€¼ã€‚ å¦‚æœè¯·æ±‚ä½“çš„å¤§å°è¿˜æ²¡æœ‰è¢«MaxBytesReaderé™åˆ¶ï¼Œé‚£ä¹ˆå…¶å¤§å°å°†è¢«é™åˆ¶åœ¨10MBã€‚ å¯¹äºå…¶ä»–HTTPæ–¹æ³•ï¼Œæˆ–è€…å½“å†…å®¹ç±»å‹ä¸æ˜¯application/x-www-form-urlencodedæ—¶ï¼Œè¯·æ±‚æ­£æ–‡ä¸è¢«è¯»å–ï¼Œå¹¶ä¸”r.PostFormè¢«åˆå§‹åŒ–ä¸ºä¸€ä¸ªéé›¶çš„ç©ºå€¼ã€‚ ParseMultipartFormè‡ªåŠ¨è°ƒç”¨ParseFormã€‚ParseFormæ˜¯å¹‚ç­‰çš„ã€‚ r.Formå±æ€§åŒ…å«äº†postè¡¨å•å’Œurlä¸­çš„getå‚æ•°ã€‚ r.PostFormå±æ€§åªåŒ…å«äº†postè¡¨å•å‚æ•°ã€‚ è·å–æŒ‡å®šå‚æ•°, æ¯”å¦‚ func rootHandler(w http.ResponseWriter, r *http.Request) { err := r.ParseForm() if err != nil { log.Println(\"ParseForm error:\", err) } ids := r.PostForm.Get(\"id\") //è·å–idå‚æ•°çš„ç¬¬ä¸€ä¸ªå€¼ log.Println(\"id:\", ids) w.WriteHeader(http.StatusOK) } æˆ–è€… func rootHandler(w http.ResponseWriter, r *http.Request) { id := r.PostFormValue(\"id\") if id == \"\" { log.Println(\"Url Param 'id' is missing\") } fmt.Println(\"id:\", id) w.WriteHeader(http.StatusOK) } è·å–ä¸Šä¼ æ–‡ä»¶ æ¯”å¦‚ curl -F \"file=@IMG_1526.PNG;type=image/png\" http://localhost:12345/upload ä¸‹é¢ä»£ç ä¸­: r.ParseMultipartForm(10 \u003c\u003c 20)å°†ä¸€ä¸ªè¯·æ±‚ä½“è§£æä¸ºmultipart/form-dataã€‚æ•´ä¸ªè¯·æ±‚æ­£æ–‡è¢«è§£æï¼Œå¹¶ä¸”å…¶æ–‡ä»¶éƒ¨åˆ†æœ€å¤šå­˜å‚¨åœ¨maxMemoryå­—èŠ‚çš„å†…å­˜ä¸­ï¼Œå…¶ä½™éƒ¨åˆ†åˆ™å­˜å‚¨åœ¨ç£ç›˜çš„ä¸´æ—¶æ–‡ä»¶ä¸­ã€‚ParseMultipartFormåœ¨å¿…è¦æ—¶è°ƒç”¨ParseFormã€‚å¦‚æœParseFormè¿”å›ä¸€ä¸ªé”™è¯¯ï¼ŒParseMultipartFormå°†å…¶è¿”å›ï¼Œä½†ä¹Ÿç»§ç»­è§£æè¯·æ±‚æ­£æ–‡ã€‚åœ¨å¯¹ParseMultipartFormè¿›è¡Œä¸€æ¬¡è°ƒç”¨åï¼Œéšåçš„è°ƒç”¨æ²¡æœ‰ä»»ä½•å½±å“. FormFile è¿”å›æä¾›çš„è¡¨å•keyçš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚å¦‚æœéœ€è¦ï¼ŒFormFileä¼šè°ƒç”¨ParseMultipartFormå’ŒParseFormã€‚ package main import ( \"io\" \"log\" \"mime/multipart\" \"net/http\" \"os\" ) func uploadHandler(w http.ResponseWriter, r *http.Request) { // Parse the multipart form in the request err := r.ParseMultipartForm(10 \u003c\u003c 20) // 10 MiB if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) return } // FormFile returns the first file for the given key `file` // it also returns the FileHeader, so we can get the Filename, the Header and the size of the file file, handler, err := r.FormFile(\"file\") if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) return } defer func(file multipart.File) { err := file.Close() if err != nil { log.Println(err) } }(file) err = os.MkdirAll(\"./upload\", 0777) if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) re","date":"2022-06-06","objectID":"/go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/:3:2","tags":["go","http"],"title":"Goè¯­è¨€ä¸­çš„httpæœåŠ¡å™¨","uri":"/go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"categories":["golang"],"content":"Handler , Handle , HandleFunc ä¸ http.ListenAndServe ä½¿ç”¨é»˜è®¤çš„Handler å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ package main import \"net/http\" func main() { http.HandleFunc(\"/\", func(w http.ResponseWriter, r *http.Request) { w.Write([]byte(\"Hello, world!\")) }) http.HandleFunc(\"/blog\", func(w http.ResponseWriter, r *http.Request) { w.Write([]byte(\"This is my Blog\")) }) http.ListenAndServe(\":12345\", nil) } åœ¨å¯åŠ¨ä¸€ä¸ªHttpServerçš„æ—¶å€™, å…¶å®æˆ‘ä»¬å°±å…³å¿ƒ2ä¸ªä¸œè¥¿: åœ°å€ è·¯ç”±: å°†è¯·æ±‚å¯¹åº”åˆ°ç›¸åº”çš„å¤„ç†å‡½æ•°ä¸­å» è¿™ä¸¤ä¸ªå‚æ•° åœ¨http.ListenAndServe(\":12345\", nil)ä¸­è¿›è¡Œè®¾ç½®çš„, ç¬¬ä¸€ä¸ªä¸ºåœ°å€, ç¬¬äºŒä¸ªä¼ é€’å¤„ç†å‡½æ•°. å¦‚æœä¼ é€’nil, åˆ™é‡‡ç”¨é»˜è®¤çš„ The handler is typically nil, in which case the DefaultServeMux is used. http.ListenAndServeçš„å®ç°å¦‚ä¸‹: func ListenAndServe(addr string, handler Handler) error { server := \u0026Server{Addr: addr, Handler: handler} return server.ListenAndServe() } type Handler interface { ServeHTTP(ResponseWriter, *Request) } å¯ä»¥çœ‹åˆ° Handleræ˜¯ä¸€ä¸ªæ¥å£, å®ç°è¿™ä¸ªæ¥å£çš„è¯, æˆ‘ä»¬å¯ä»¥åˆ›å»ºè‡ªå·±çš„Handler è‡ªå®šä¹‰Handler å®šä¹‰ä¸€ä¸ªç»“æ„ä½“, ç»“æ„ä½“å®ç° ServeHTTP(w http.ResponseWriter, r *http.Request)æ–¹æ³• ç„¶åä½¿ç”¨ Handleå‡½æ•°è¿›è¡Œè·¯ç”±æ³¨å†Œ package main import \"net/http\" type MyIndexHandler struct { } func (h *MyIndexHandler) ServeHTTP(w http.ResponseWriter, r *http.Request) { w.Write([]byte(\"Hello World\")) } type MyBlogHandler struct { } func (h *MyBlogHandler) ServeHTTP(w http.ResponseWriter, r *http.Request) { w.Write([]byte(\"This is my Blog\")) } func main() { mux := http.NewServeMux() mux.Handle(\"/\", \u0026MyIndexHandler{}) mux.Handle(\"/blog\", \u0026MyBlogHandler{}) http.ListenAndServe(\":12345\", mux) } OSX MP16 ~ â¯ curl localhost:12345 Hello World OSX MP16 ~ â¯ curl localhost:12345/blog This is my Blog OSX MP16 ~ â¯ ä½†è¿™æ˜æ˜¾çœ‹å‡ºæ¥, å¯¹æ¯ä¸€ä¸ªè·¯ç”± éƒ½è¦é«˜å†™ä¸€ä¸ªxxxHandlerç»“æ„ä½“å’Œå®ç°ServeHTTP, çœ‹ä¸Šå»éå¸¸æ··ä¹± è¿™æ—¶å€™å°±å¯ä»¥ç”¨mux.HandleFuncæ¥å®ç°è·¯ç”± package main import \"net/http\" func main() { mux := http.NewServeMux() mux.HandleFunc(\"/\", func(w http.ResponseWriter, r *http.Request) { w.Write([]byte(\"Hello World\")) }) mux.HandleFunc(\"/blog\", func(w http.ResponseWriter, r *http.Request) { w.Write([]byte(\"This is my Blog\")) }) http.ListenAndServe(\":12345\", mux) } è‡ªå®šä¹‰ServeMux åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­, mux := http.NewServeMux()è¿˜æ˜¯ä½¿ç”¨äº†é»˜è®¤router, å…¶ç®€å•çš„åŒæ—¶ä¹Ÿæœ‰ä¸å°‘ç¼ºç‚¹ æ¯”å¦‚, å…¶æ˜¯é€šè¿‡urlè¿›è¡Œè·¯ç”±, ä½†ä¸æ”¯æŒåŸºäºæ–¹æ³•(GET, POSTâ€¦)çš„è·¯ç”±, ä¸æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ç­‰ç­‰ å‚è€ƒè¿™ä¸ª https://www.alexedwards.net/blog/which-go-router-should-i-use ","date":"2022-06-06","objectID":"/go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/:3:3","tags":["go","http"],"title":"Goè¯­è¨€ä¸­çš„httpæœåŠ¡å™¨","uri":"/go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"categories":["golang"],"content":"äººæ°”Webæ¡†æ¶ å‚è€ƒè¿™ç¯‡æ–‡ç« , https://blog.51cto.com/coderaction/3001008 å…¶ä¸­æœ‰å„æ¡†æ¶çš„å¯¹æ¯”, åŠŸèƒ½ä¸Širisæœ€å…¨ https://github.com/kataras/iris ","date":"2022-06-06","objectID":"/go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/:4:0","tags":["go","http"],"title":"Goè¯­è¨€ä¸­çš„httpæœåŠ¡å™¨","uri":"/go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/"}]